package com.tencent.mm.platformtools;

import android.annotation.TargetApi;
import android.content.ContentResolver;
import android.content.ContentUris;
import android.content.Context;
import android.database.Cursor;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.net.Uri;
import android.provider.ContactsContract.CommonDataKinds.Email;
import android.provider.ContactsContract.CommonDataKinds.Phone;
import android.provider.ContactsContract.Contacts;
import android.provider.ContactsContract.Data;
import android.provider.ContactsContract.Profile;
import android.telephony.TelephonyManager;
import com.tencent.mm.compatible.util.d;
import com.tencent.mm.network.b;
import com.tencent.mm.network.v;
import com.tencent.mm.pluginsdk.permission.a;
import com.tencent.mm.sdk.platformtools.ao;
import com.tencent.mm.sdk.platformtools.ap;
import com.tencent.mm.sdk.platformtools.bi;
import com.tencent.mm.sdk.platformtools.c;
import com.tencent.mm.sdk.platformtools.x;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.Locale;

public final class j {
    @TargetApi(14)
    public static String getPhoneNum(Context context, String str) {
        String line1Number;
        Throwable e;
        Throwable e2;
        Throwable e3;
        Throwable e4;
        String str2 = null;
        x.i("MicroMsg.ContactsUtil", "Get phone number. country code : %s", str);
        if (context == null) {
            x.e("MicroMsg.ContactsUtil", "The context is null.");
            return null;
        }
        String networkCountryIso;
        String str3;
        TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService("phone");
        try {
            line1Number = telephonyManager.getLine1Number();
            try {
                String simCountryIso = telephonyManager.getSimCountryIso();
                try {
                    if (bi.oW(simCountryIso)) {
                        networkCountryIso = telephonyManager.getNetworkCountryIso();
                    } else {
                        networkCountryIso = simCountryIso;
                    }
                    try {
                        if (bi.oW(networkCountryIso)) {
                            networkCountryIso = Locale.getDefault().getCountry();
                        }
                        str3 = networkCountryIso;
                    } catch (Exception e5) {
                        e = e5;
                        x.printErrStackTrace("MicroMsg.ContactsUtil", e, "", new Object[0]);
                        x.e("MicroMsg.ContactsUtil", "get line number got exception");
                        str3 = networkCountryIso;
                        if (bi.oW(line1Number)) {
                            line1Number = line1Number.trim();
                            networkCountryIso = ap.fO(line1Number, str3);
                            x.i("MicroMsg.ContactsUtil", "get num : %s, extract country code  : %s, iso : %s", line1Number, networkCountryIso, str3);
                            if (bi.oW(networkCountryIso)) {
                                networkCountryIso = line1Number;
                            } else {
                                int i;
                                r2 = networkCountryIso.length();
                                if (line1Number.startsWith("+")) {
                                    i = 1;
                                } else {
                                    i = 0;
                                }
                                networkCountryIso = line1Number.substring(i + r2);
                                x.i("MicroMsg.ContactsUtil", "after deal, the num is %s", networkCountryIso);
                            }
                            x.i("MicroMsg.ContactsUtil", "Got phone number by TelephonyManager.");
                            return networkCountryIso;
                        } else if (a.bj(context, "android.permission.READ_CONTACTS")) {
                            String str4;
                            int columnIndex;
                            Cursor cursor;
                            Cursor query;
                            ContentResolver contentResolver = context.getContentResolver();
                            if (d.fS(14)) {
                                str4 = null;
                                Object obj = null;
                            } else {
                                x.i("MicroMsg.ContactsUtil", "The device os API version is higher than 14.");
                                Cursor query2;
                                try {
                                    query2 = contentResolver.query(Profile.CONTENT_URI, new String[]{"has_phone_number"}, null, null, null);
                                    if (query2 != null) {
                                        try {
                                            if (query2.moveToFirst()) {
                                                columnIndex = query2.getColumnIndex("has_phone_number");
                                                if (columnIndex != -1) {
                                                    r2 = query2.getInt(columnIndex);
                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + r2);
                                                    if (!(query2 == null || query2.isClosed())) {
                                                        query2.close();
                                                        cursor = query2;
                                                        if (r2 <= 0) {
                                                            try {
                                                                query = contentResolver.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                                if (query != null) {
                                                                    try {
                                                                        if (query.moveToFirst()) {
                                                                            columnIndex = query.getColumnIndex("data1");
                                                                            if (columnIndex != -1) {
                                                                                line1Number = query.getString(columnIndex);
                                                                                try {
                                                                                    x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                                    query.close();
                                                                                } catch (Exception e6) {
                                                                                    e2 = e6;
                                                                                    try {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                                        x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                                        query.close();
                                                                                        str4 = line1Number;
                                                                                        cursor = query;
                                                                                        if (bi.oW(str4)) {
                                                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                                                try {
                                                                                                    query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                                    if (query != null) {
                                                                                                        try {
                                                                                                            if (query.moveToFirst()) {
                                                                                                                columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                                                if (query == null) {
                                                                                                                    query.close();
                                                                                                                    cursor = query;
                                                                                                                } else {
                                                                                                                    cursor = query;
                                                                                                                }
                                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                                if (columnIndex > 0) {
                                                                                                                    try {
                                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                                            do {
                                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                                if (!bi.oW(str4)) {
                                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                                    break;
                                                                                                                                }
                                                                                                                            } while (cursor.moveToNext());
                                                                                                                        }
                                                                                                                        if (cursor != null) {
                                                                                                                            cursor.close();
                                                                                                                        }
                                                                                                                    } catch (Throwable e32) {
                                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32, "", new Object[0]);
                                                                                                                        if (cursor != null) {
                                                                                                                            cursor.close();
                                                                                                                        }
                                                                                                                    } catch (Throwable th) {
                                                                                                                        if (cursor != null) {
                                                                                                                            cursor.close();
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        } catch (Exception e7) {
                                                                                                            e4 = e7;
                                                                                                            try {
                                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                                if (query != null) {
                                                                                                                    query.close();
                                                                                                                    columnIndex = 0;
                                                                                                                    cursor = query;
                                                                                                                } else {
                                                                                                                    columnIndex = 0;
                                                                                                                    cursor = query;
                                                                                                                }
                                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                                if (columnIndex > 0) {
                                                                                                                    try {
                                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                                            do {
                                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                                if (!bi.oW(str4)) {
                                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                                    break;
                                                                                                                                }
                                                                                                                            } while (cursor.moveToNext());
                                                                                                                        }
                                                                                                                        if (cursor != null) {
                                                                                                                            cursor.close();
                                                                                                                        }
                                                                                                                    } catch (Throwable e322) {
                                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322, "", new Object[0]);
                                                                                                                        if (cursor != null) {
                                                                                                                            cursor.close();
                                                                                                                        }
                                                                                                                    } catch (Throwable th2) {
                                                                                                                        if (cursor != null) {
                                                                                                                            cursor.close();
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                                                        if (str4.startsWith("+")) {
                                                                                                                            str2 = "+" + networkCountryIso;
                                                                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                                                                            str2 = networkCountryIso;
                                                                                                                        }
                                                                                                                        if (str2 != null) {
                                                                                                                            str4 = str4.substring(str2.length());
                                                                                                                        }
                                                                                                                    }
                                                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                                                }
                                                                                                                return str4;
                                                                                                            } catch (Throwable th3) {
                                                                                                                e322 = th3;
                                                                                                                if (query != null) {
                                                                                                                    query.close();
                                                                                                                }
                                                                                                                throw e322;
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                    columnIndex = 0;
                                                                                                    if (query == null) {
                                                                                                        cursor = query;
                                                                                                    } else {
                                                                                                        query.close();
                                                                                                        cursor = query;
                                                                                                    }
                                                                                                } catch (Exception e8) {
                                                                                                    e4 = e8;
                                                                                                    query = cursor;
                                                                                                } catch (Throwable th4) {
                                                                                                    e322 = th4;
                                                                                                    query = cursor;
                                                                                                    if (query != null) {
                                                                                                        query.close();
                                                                                                    }
                                                                                                    throw e322;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                if (columnIndex > 0) {
                                                                                                    try {
                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                            do {
                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor.moveToNext());
                                                                                                        }
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable e3222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222, "", new Object[0]);
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable th22) {
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        if (bi.oW(str4)) {
                                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                if (str4.startsWith("+")) {
                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                                    str2 = networkCountryIso;
                                                                                                }
                                                                                                if (str2 != null) {
                                                                                                    str4 = str4.substring(str2.length());
                                                                                                }
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                        }
                                                                                        return str4;
                                                                                    } catch (Throwable th5) {
                                                                                        e3222 = th5;
                                                                                        query.close();
                                                                                        throw e3222;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        line1Number = null;
                                                                        query.close();
                                                                    } catch (Exception e9) {
                                                                        e2 = e9;
                                                                        line1Number = null;
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                        x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                        if (!(query == null || query.isClosed())) {
                                                                            query.close();
                                                                            str4 = line1Number;
                                                                            cursor = query;
                                                                            if (bi.oW(str4)) {
                                                                                if (!bi.oW(G(context, x.cg(context)))) {
                                                                                    try {
                                                                                        query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                        if (query != null) {
                                                                                            try {
                                                                                                if (query.moveToFirst()) {
                                                                                                    columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                                    if (query == null) {
                                                                                                        query.close();
                                                                                                        cursor = query;
                                                                                                    } else {
                                                                                                        cursor = query;
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                    if (columnIndex > 0) {
                                                                                                        try {
                                                                                                            cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                            if (cursor != null && cursor.moveToFirst()) {
                                                                                                                do {
                                                                                                                    str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                    if (!bi.oW(str4)) {
                                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                        break;
                                                                                                                    }
                                                                                                                } while (cursor.moveToNext());
                                                                                                            }
                                                                                                            if (cursor != null) {
                                                                                                                cursor.close();
                                                                                                            }
                                                                                                        } catch (Throwable e32222) {
                                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222, "", new Object[0]);
                                                                                                            if (cursor != null) {
                                                                                                                cursor.close();
                                                                                                            }
                                                                                                        } catch (Throwable th222) {
                                                                                                            if (cursor != null) {
                                                                                                                cursor.close();
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            } catch (Exception e72) {
                                                                                                e4 = e72;
                                                                                                try {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                    if (query != null) {
                                                                                                        query.close();
                                                                                                        columnIndex = 0;
                                                                                                        cursor = query;
                                                                                                    } else {
                                                                                                        columnIndex = 0;
                                                                                                        cursor = query;
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                    if (columnIndex > 0) {
                                                                                                        try {
                                                                                                            cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                            if (cursor != null && cursor.moveToFirst()) {
                                                                                                                do {
                                                                                                                    str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                    if (!bi.oW(str4)) {
                                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                        break;
                                                                                                                    }
                                                                                                                } while (cursor.moveToNext());
                                                                                                            }
                                                                                                            if (cursor != null) {
                                                                                                                cursor.close();
                                                                                                            }
                                                                                                        } catch (Throwable e322222) {
                                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222, "", new Object[0]);
                                                                                                            if (cursor != null) {
                                                                                                                cursor.close();
                                                                                                            }
                                                                                                        } catch (Throwable th2222) {
                                                                                                            if (cursor != null) {
                                                                                                                cursor.close();
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                    if (!bi.oW(str4)) {
                                                                                                        networkCountryIso = ap.fO(str4, str3);
                                                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                        if (!bi.oW(networkCountryIso)) {
                                                                                                            if (str4.startsWith("+")) {
                                                                                                                str2 = "+" + networkCountryIso;
                                                                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                                                                str2 = networkCountryIso;
                                                                                                            }
                                                                                                            if (str2 != null) {
                                                                                                                str4 = str4.substring(str2.length());
                                                                                                            }
                                                                                                        }
                                                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                                    }
                                                                                                    return str4;
                                                                                                } catch (Throwable th32) {
                                                                                                    e322222 = th32;
                                                                                                    if (query != null) {
                                                                                                        query.close();
                                                                                                    }
                                                                                                    throw e322222;
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        columnIndex = 0;
                                                                                        if (query == null) {
                                                                                            cursor = query;
                                                                                        } else {
                                                                                            query.close();
                                                                                            cursor = query;
                                                                                        }
                                                                                    } catch (Exception e82) {
                                                                                        e4 = e82;
                                                                                        query = cursor;
                                                                                    } catch (Throwable th42) {
                                                                                        e322222 = th42;
                                                                                        query = cursor;
                                                                                        if (query != null) {
                                                                                            query.close();
                                                                                        }
                                                                                        throw e322222;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                    if (columnIndex > 0) {
                                                                                        try {
                                                                                            cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor != null && cursor.moveToFirst()) {
                                                                                                do {
                                                                                                    str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str4)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor.moveToNext());
                                                                                            }
                                                                                            if (cursor != null) {
                                                                                                cursor.close();
                                                                                            }
                                                                                        } catch (Throwable e3222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222, "", new Object[0]);
                                                                                            if (cursor != null) {
                                                                                                cursor.close();
                                                                                            }
                                                                                        } catch (Throwable th22222) {
                                                                                            if (cursor != null) {
                                                                                                cursor.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (bi.oW(str4)) {
                                                                                networkCountryIso = ap.fO(str4, str3);
                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                    if (str4.startsWith("+")) {
                                                                                        str2 = "+" + networkCountryIso;
                                                                                    } else if (str4.startsWith(networkCountryIso)) {
                                                                                        str2 = networkCountryIso;
                                                                                    }
                                                                                    if (str2 != null) {
                                                                                        str4 = str4.substring(str2.length());
                                                                                    }
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                            }
                                                                            return str4;
                                                                        }
                                                                        str4 = line1Number;
                                                                        cursor = query;
                                                                        if (bi.oW(str4)) {
                                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                                try {
                                                                                    query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                    if (query != null) {
                                                                                        try {
                                                                                            if (query.moveToFirst()) {
                                                                                                columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                                if (query == null) {
                                                                                                    query.close();
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    cursor = query;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                if (columnIndex > 0) {
                                                                                                    try {
                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                            do {
                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor.moveToNext());
                                                                                                        }
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable e32222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222, "", new Object[0]);
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable th222222) {
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        } catch (Exception e722) {
                                                                                            e4 = e722;
                                                                                            try {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                    columnIndex = 0;
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    columnIndex = 0;
                                                                                                    cursor = query;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                if (columnIndex > 0) {
                                                                                                    try {
                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                            do {
                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor.moveToNext());
                                                                                                        }
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable e322222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222, "", new Object[0]);
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable th2222222) {
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                if (!bi.oW(str4)) {
                                                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                                        if (str4.startsWith("+")) {
                                                                                                            str2 = "+" + networkCountryIso;
                                                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                                                            str2 = networkCountryIso;
                                                                                                        }
                                                                                                        if (str2 != null) {
                                                                                                            str4 = str4.substring(str2.length());
                                                                                                        }
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                                }
                                                                                                return str4;
                                                                                            } catch (Throwable th322) {
                                                                                                e322222222 = th322;
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                }
                                                                                                throw e322222222;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    columnIndex = 0;
                                                                                    if (query == null) {
                                                                                        cursor = query;
                                                                                    } else {
                                                                                        query.close();
                                                                                        cursor = query;
                                                                                    }
                                                                                } catch (Exception e822) {
                                                                                    e4 = e822;
                                                                                    query = cursor;
                                                                                } catch (Throwable th422) {
                                                                                    e322222222 = th422;
                                                                                    query = cursor;
                                                                                    if (query != null) {
                                                                                        query.close();
                                                                                    }
                                                                                    throw e322222222;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                if (columnIndex > 0) {
                                                                                    try {
                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                            do {
                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str4)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor.moveToNext());
                                                                                        }
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable e3222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222, "", new Object[0]);
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable th22222222) {
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        if (bi.oW(str4)) {
                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str4.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str4 = str4.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                        }
                                                                        return str4;
                                                                    }
                                                                }
                                                                line1Number = null;
                                                                if (!(query == null || query.isClosed())) {
                                                                    query.close();
                                                                    str4 = line1Number;
                                                                    cursor = query;
                                                                }
                                                            } catch (Exception e10) {
                                                                e2 = e10;
                                                                line1Number = null;
                                                                query = cursor;
                                                            } catch (Throwable th6) {
                                                                e3222222222 = th6;
                                                                query = cursor;
                                                                if (!(query == null || query.isClosed())) {
                                                                    query.close();
                                                                }
                                                                throw e3222222222;
                                                            }
                                                            str4 = line1Number;
                                                            cursor = query;
                                                        } else {
                                                            str4 = null;
                                                        }
                                                    }
                                                    cursor = query2;
                                                    if (r2 <= 0) {
                                                        str4 = null;
                                                    } else {
                                                        try {
                                                            query = contentResolver.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                            if (query != null) {
                                                                try {
                                                                    if (query.moveToFirst()) {
                                                                        columnIndex = query.getColumnIndex("data1");
                                                                        if (columnIndex != -1) {
                                                                            line1Number = query.getString(columnIndex);
                                                                            try {
                                                                                x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                                query.close();
                                                                            } catch (Exception e62) {
                                                                                e2 = e62;
                                                                                try {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                                    query.close();
                                                                                    str4 = line1Number;
                                                                                    cursor = query;
                                                                                    if (bi.oW(str4)) {
                                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                                            try {
                                                                                                query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                                if (query != null) {
                                                                                                    try {
                                                                                                        if (query.moveToFirst()) {
                                                                                                            columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                                            if (query == null) {
                                                                                                                query.close();
                                                                                                                cursor = query;
                                                                                                            } else {
                                                                                                                cursor = query;
                                                                                                            }
                                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                            if (columnIndex > 0) {
                                                                                                                try {
                                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                                        do {
                                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                            if (!bi.oW(str4)) {
                                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                                break;
                                                                                                                            }
                                                                                                                        } while (cursor.moveToNext());
                                                                                                                    }
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                } catch (Throwable e32222222222) {
                                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222, "", new Object[0]);
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                } catch (Throwable th222222222) {
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    } catch (Exception e7222) {
                                                                                                        e4 = e7222;
                                                                                                        try {
                                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                            if (query != null) {
                                                                                                                query.close();
                                                                                                                columnIndex = 0;
                                                                                                                cursor = query;
                                                                                                            } else {
                                                                                                                columnIndex = 0;
                                                                                                                cursor = query;
                                                                                                            }
                                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                            if (columnIndex > 0) {
                                                                                                                try {
                                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                                        do {
                                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                            if (!bi.oW(str4)) {
                                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                                break;
                                                                                                                            }
                                                                                                                        } while (cursor.moveToNext());
                                                                                                                    }
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                } catch (Throwable e322222222222) {
                                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222, "", new Object[0]);
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                } catch (Throwable th2222222222) {
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                networkCountryIso = ap.fO(str4, str3);
                                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                                    if (str4.startsWith("+")) {
                                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                                    } else if (str4.startsWith(networkCountryIso)) {
                                                                                                                        str2 = networkCountryIso;
                                                                                                                    }
                                                                                                                    if (str2 != null) {
                                                                                                                        str4 = str4.substring(str2.length());
                                                                                                                    }
                                                                                                                }
                                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                                            }
                                                                                                            return str4;
                                                                                                        } catch (Throwable th3222) {
                                                                                                            e322222222222 = th3222;
                                                                                                            if (query != null) {
                                                                                                                query.close();
                                                                                                            }
                                                                                                            throw e322222222222;
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                columnIndex = 0;
                                                                                                if (query == null) {
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    query.close();
                                                                                                    cursor = query;
                                                                                                }
                                                                                            } catch (Exception e8222) {
                                                                                                e4 = e8222;
                                                                                                query = cursor;
                                                                                            } catch (Throwable th4222) {
                                                                                                e322222222222 = th4222;
                                                                                                query = cursor;
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                }
                                                                                                throw e322222222222;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                            if (columnIndex > 0) {
                                                                                                try {
                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                        do {
                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor.moveToNext());
                                                                                                    }
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable e3222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222, "", new Object[0]);
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable th22222222222) {
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (bi.oW(str4)) {
                                                                                        networkCountryIso = ap.fO(str4, str3);
                                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                        if (!bi.oW(networkCountryIso)) {
                                                                                            if (str4.startsWith("+")) {
                                                                                                str2 = "+" + networkCountryIso;
                                                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                                                str2 = networkCountryIso;
                                                                                            }
                                                                                            if (str2 != null) {
                                                                                                str4 = str4.substring(str2.length());
                                                                                            }
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                    }
                                                                                    return str4;
                                                                                } catch (Throwable th52) {
                                                                                    e3222222222222 = th52;
                                                                                    query.close();
                                                                                    throw e3222222222222;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    line1Number = null;
                                                                    query.close();
                                                                } catch (Exception e92) {
                                                                    e2 = e92;
                                                                    line1Number = null;
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                    if (!(query == null || query.isClosed())) {
                                                                        query.close();
                                                                        str4 = line1Number;
                                                                        cursor = query;
                                                                        if (bi.oW(str4)) {
                                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                                try {
                                                                                    query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                    if (query != null) {
                                                                                        try {
                                                                                            if (query.moveToFirst()) {
                                                                                                columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                                if (query == null) {
                                                                                                    query.close();
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    cursor = query;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                if (columnIndex > 0) {
                                                                                                    try {
                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                            do {
                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor.moveToNext());
                                                                                                        }
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable e32222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222, "", new Object[0]);
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable th222222222222) {
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        } catch (Exception e72222) {
                                                                                            e4 = e72222;
                                                                                            try {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                    columnIndex = 0;
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    columnIndex = 0;
                                                                                                    cursor = query;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                if (columnIndex > 0) {
                                                                                                    try {
                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                            do {
                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor.moveToNext());
                                                                                                        }
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable e322222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222, "", new Object[0]);
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable th2222222222222) {
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                if (!bi.oW(str4)) {
                                                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                                        if (str4.startsWith("+")) {
                                                                                                            str2 = "+" + networkCountryIso;
                                                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                                                            str2 = networkCountryIso;
                                                                                                        }
                                                                                                        if (str2 != null) {
                                                                                                            str4 = str4.substring(str2.length());
                                                                                                        }
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                                }
                                                                                                return str4;
                                                                                            } catch (Throwable th32222) {
                                                                                                e322222222222222 = th32222;
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                }
                                                                                                throw e322222222222222;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    columnIndex = 0;
                                                                                    if (query == null) {
                                                                                        cursor = query;
                                                                                    } else {
                                                                                        query.close();
                                                                                        cursor = query;
                                                                                    }
                                                                                } catch (Exception e82222) {
                                                                                    e4 = e82222;
                                                                                    query = cursor;
                                                                                } catch (Throwable th42222) {
                                                                                    e322222222222222 = th42222;
                                                                                    query = cursor;
                                                                                    if (query != null) {
                                                                                        query.close();
                                                                                    }
                                                                                    throw e322222222222222;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                if (columnIndex > 0) {
                                                                                    try {
                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                            do {
                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str4)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor.moveToNext());
                                                                                        }
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable e3222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222, "", new Object[0]);
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable th22222222222222) {
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        if (bi.oW(str4)) {
                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str4.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str4 = str4.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                        }
                                                                        return str4;
                                                                    }
                                                                    str4 = line1Number;
                                                                    cursor = query;
                                                                    if (bi.oW(str4)) {
                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                            try {
                                                                                query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                if (query != null) {
                                                                                    try {
                                                                                        if (query.moveToFirst()) {
                                                                                            columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                            if (query == null) {
                                                                                                query.close();
                                                                                                cursor = query;
                                                                                            } else {
                                                                                                cursor = query;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                            if (columnIndex > 0) {
                                                                                                try {
                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                        do {
                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor.moveToNext());
                                                                                                    }
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable e32222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222, "", new Object[0]);
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable th222222222222222) {
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e722222) {
                                                                                        e4 = e722222;
                                                                                        try {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                            if (query != null) {
                                                                                                query.close();
                                                                                                columnIndex = 0;
                                                                                                cursor = query;
                                                                                            } else {
                                                                                                columnIndex = 0;
                                                                                                cursor = query;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                            if (columnIndex > 0) {
                                                                                                try {
                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                        do {
                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor.moveToNext());
                                                                                                    }
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable e322222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222, "", new Object[0]);
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable th2222222222222222) {
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            if (!bi.oW(str4)) {
                                                                                                networkCountryIso = ap.fO(str4, str3);
                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                    if (str4.startsWith("+")) {
                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                    } else if (str4.startsWith(networkCountryIso)) {
                                                                                                        str2 = networkCountryIso;
                                                                                                    }
                                                                                                    if (str2 != null) {
                                                                                                        str4 = str4.substring(str2.length());
                                                                                                    }
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                            }
                                                                                            return str4;
                                                                                        } catch (Throwable th322222) {
                                                                                            e322222222222222222 = th322222;
                                                                                            if (query != null) {
                                                                                                query.close();
                                                                                            }
                                                                                            throw e322222222222222222;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                columnIndex = 0;
                                                                                if (query == null) {
                                                                                    cursor = query;
                                                                                } else {
                                                                                    query.close();
                                                                                    cursor = query;
                                                                                }
                                                                            } catch (Exception e822222) {
                                                                                e4 = e822222;
                                                                                query = cursor;
                                                                            } catch (Throwable th422222) {
                                                                                e322222222222222222 = th422222;
                                                                                query = cursor;
                                                                                if (query != null) {
                                                                                    query.close();
                                                                                }
                                                                                throw e322222222222222222;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                            if (columnIndex > 0) {
                                                                                try {
                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                        do {
                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str4)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor.moveToNext());
                                                                                    }
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable e3222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222, "", new Object[0]);
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable th22222222222222222) {
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    if (bi.oW(str4)) {
                                                                        networkCountryIso = ap.fO(str4, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str4.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str4 = str4.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                    }
                                                                    return str4;
                                                                }
                                                            }
                                                            line1Number = null;
                                                            if (!(query == null || query.isClosed())) {
                                                                query.close();
                                                                str4 = line1Number;
                                                                cursor = query;
                                                            }
                                                        } catch (Exception e102) {
                                                            e2 = e102;
                                                            line1Number = null;
                                                            query = cursor;
                                                        } catch (Throwable th62) {
                                                            e3222222222222222222 = th62;
                                                            query = cursor;
                                                            if (!(query == null || query.isClosed())) {
                                                                query.close();
                                                            }
                                                            throw e3222222222222222222;
                                                        }
                                                        str4 = line1Number;
                                                        cursor = query;
                                                    }
                                                }
                                            }
                                        } catch (Exception e11) {
                                            e4 = e11;
                                            r2 = 0;
                                            try {
                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                if (!(query2 == null || query2.isClosed())) {
                                                    query2.close();
                                                    cursor = query2;
                                                    if (r2 <= 0) {
                                                        str4 = null;
                                                    } else {
                                                        try {
                                                            query = contentResolver.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                            if (query != null) {
                                                                try {
                                                                    if (query.moveToFirst()) {
                                                                        columnIndex = query.getColumnIndex("data1");
                                                                        if (columnIndex != -1) {
                                                                            line1Number = query.getString(columnIndex);
                                                                            try {
                                                                                x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                                query.close();
                                                                            } catch (Exception e622) {
                                                                                e2 = e622;
                                                                                try {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                                    query.close();
                                                                                    str4 = line1Number;
                                                                                    cursor = query;
                                                                                    if (bi.oW(str4)) {
                                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                                            try {
                                                                                                query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                                if (query != null) {
                                                                                                    try {
                                                                                                        if (query.moveToFirst()) {
                                                                                                            columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                                            if (query == null) {
                                                                                                                query.close();
                                                                                                                cursor = query;
                                                                                                            } else {
                                                                                                                cursor = query;
                                                                                                            }
                                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                            if (columnIndex > 0) {
                                                                                                                try {
                                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                                        do {
                                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                            if (!bi.oW(str4)) {
                                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                                break;
                                                                                                                            }
                                                                                                                        } while (cursor.moveToNext());
                                                                                                                    }
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                } catch (Throwable e32222222222222222222) {
                                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222, "", new Object[0]);
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                } catch (Throwable th222222222222222222) {
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    } catch (Exception e7222222) {
                                                                                                        e4 = e7222222;
                                                                                                        try {
                                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                            if (query != null) {
                                                                                                                query.close();
                                                                                                                columnIndex = 0;
                                                                                                                cursor = query;
                                                                                                            } else {
                                                                                                                columnIndex = 0;
                                                                                                                cursor = query;
                                                                                                            }
                                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                            if (columnIndex > 0) {
                                                                                                                try {
                                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                                        do {
                                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                            if (!bi.oW(str4)) {
                                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                                break;
                                                                                                                            }
                                                                                                                        } while (cursor.moveToNext());
                                                                                                                    }
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                } catch (Throwable e322222222222222222222) {
                                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222, "", new Object[0]);
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                } catch (Throwable th2222222222222222222) {
                                                                                                                    if (cursor != null) {
                                                                                                                        cursor.close();
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                networkCountryIso = ap.fO(str4, str3);
                                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                                    if (str4.startsWith("+")) {
                                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                                    } else if (str4.startsWith(networkCountryIso)) {
                                                                                                                        str2 = networkCountryIso;
                                                                                                                    }
                                                                                                                    if (str2 != null) {
                                                                                                                        str4 = str4.substring(str2.length());
                                                                                                                    }
                                                                                                                }
                                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                                            }
                                                                                                            return str4;
                                                                                                        } catch (Throwable th3222222) {
                                                                                                            e322222222222222222222 = th3222222;
                                                                                                            if (query != null) {
                                                                                                                query.close();
                                                                                                            }
                                                                                                            throw e322222222222222222222;
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                columnIndex = 0;
                                                                                                if (query == null) {
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    query.close();
                                                                                                    cursor = query;
                                                                                                }
                                                                                            } catch (Exception e8222222) {
                                                                                                e4 = e8222222;
                                                                                                query = cursor;
                                                                                            } catch (Throwable th4222222) {
                                                                                                e322222222222222222222 = th4222222;
                                                                                                query = cursor;
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                }
                                                                                                throw e322222222222222222222;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                            if (columnIndex > 0) {
                                                                                                try {
                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                        do {
                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor.moveToNext());
                                                                                                    }
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable e3222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable th22222222222222222222) {
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (bi.oW(str4)) {
                                                                                        networkCountryIso = ap.fO(str4, str3);
                                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                        if (!bi.oW(networkCountryIso)) {
                                                                                            if (str4.startsWith("+")) {
                                                                                                str2 = "+" + networkCountryIso;
                                                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                                                str2 = networkCountryIso;
                                                                                            }
                                                                                            if (str2 != null) {
                                                                                                str4 = str4.substring(str2.length());
                                                                                            }
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                    }
                                                                                    return str4;
                                                                                } catch (Throwable th522) {
                                                                                    e3222222222222222222222 = th522;
                                                                                    query.close();
                                                                                    throw e3222222222222222222222;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    line1Number = null;
                                                                    query.close();
                                                                } catch (Exception e922) {
                                                                    e2 = e922;
                                                                    line1Number = null;
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                    if (!(query == null || query.isClosed())) {
                                                                        query.close();
                                                                        str4 = line1Number;
                                                                        cursor = query;
                                                                        if (bi.oW(str4)) {
                                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                                try {
                                                                                    query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                    if (query != null) {
                                                                                        try {
                                                                                            if (query.moveToFirst()) {
                                                                                                columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                                if (query == null) {
                                                                                                    query.close();
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    cursor = query;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                if (columnIndex > 0) {
                                                                                                    try {
                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                            do {
                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor.moveToNext());
                                                                                                        }
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable e32222222222222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222, "", new Object[0]);
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable th222222222222222222222) {
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        } catch (Exception e72222222) {
                                                                                            e4 = e72222222;
                                                                                            try {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                    columnIndex = 0;
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    columnIndex = 0;
                                                                                                    cursor = query;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                if (columnIndex > 0) {
                                                                                                    try {
                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                            do {
                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor.moveToNext());
                                                                                                        }
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable e322222222222222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222, "", new Object[0]);
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable th2222222222222222222222) {
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                if (!bi.oW(str4)) {
                                                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                                        if (str4.startsWith("+")) {
                                                                                                            str2 = "+" + networkCountryIso;
                                                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                                                            str2 = networkCountryIso;
                                                                                                        }
                                                                                                        if (str2 != null) {
                                                                                                            str4 = str4.substring(str2.length());
                                                                                                        }
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                                }
                                                                                                return str4;
                                                                                            } catch (Throwable th32222222) {
                                                                                                e322222222222222222222222 = th32222222;
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                }
                                                                                                throw e322222222222222222222222;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    columnIndex = 0;
                                                                                    if (query == null) {
                                                                                        cursor = query;
                                                                                    } else {
                                                                                        query.close();
                                                                                        cursor = query;
                                                                                    }
                                                                                } catch (Exception e82222222) {
                                                                                    e4 = e82222222;
                                                                                    query = cursor;
                                                                                } catch (Throwable th42222222) {
                                                                                    e322222222222222222222222 = th42222222;
                                                                                    query = cursor;
                                                                                    if (query != null) {
                                                                                        query.close();
                                                                                    }
                                                                                    throw e322222222222222222222222;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                if (columnIndex > 0) {
                                                                                    try {
                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                            do {
                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str4)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor.moveToNext());
                                                                                        }
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable e3222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable th22222222222222222222222) {
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        if (bi.oW(str4)) {
                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str4.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str4 = str4.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                        }
                                                                        return str4;
                                                                    }
                                                                    str4 = line1Number;
                                                                    cursor = query;
                                                                    if (bi.oW(str4)) {
                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                            try {
                                                                                query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                if (query != null) {
                                                                                    try {
                                                                                        if (query.moveToFirst()) {
                                                                                            columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                            if (query == null) {
                                                                                                query.close();
                                                                                                cursor = query;
                                                                                            } else {
                                                                                                cursor = query;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                            if (columnIndex > 0) {
                                                                                                try {
                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                        do {
                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor.moveToNext());
                                                                                                    }
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable e32222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable th222222222222222222222222) {
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e722222222) {
                                                                                        e4 = e722222222;
                                                                                        try {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                            if (query != null) {
                                                                                                query.close();
                                                                                                columnIndex = 0;
                                                                                                cursor = query;
                                                                                            } else {
                                                                                                columnIndex = 0;
                                                                                                cursor = query;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                            if (columnIndex > 0) {
                                                                                                try {
                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                        do {
                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor.moveToNext());
                                                                                                    }
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable e322222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable th2222222222222222222222222) {
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            if (!bi.oW(str4)) {
                                                                                                networkCountryIso = ap.fO(str4, str3);
                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                    if (str4.startsWith("+")) {
                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                    } else if (str4.startsWith(networkCountryIso)) {
                                                                                                        str2 = networkCountryIso;
                                                                                                    }
                                                                                                    if (str2 != null) {
                                                                                                        str4 = str4.substring(str2.length());
                                                                                                    }
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                            }
                                                                                            return str4;
                                                                                        } catch (Throwable th322222222) {
                                                                                            e322222222222222222222222222 = th322222222;
                                                                                            if (query != null) {
                                                                                                query.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                columnIndex = 0;
                                                                                if (query == null) {
                                                                                    cursor = query;
                                                                                } else {
                                                                                    query.close();
                                                                                    cursor = query;
                                                                                }
                                                                            } catch (Exception e822222222) {
                                                                                e4 = e822222222;
                                                                                query = cursor;
                                                                            } catch (Throwable th422222222) {
                                                                                e322222222222222222222222222 = th422222222;
                                                                                query = cursor;
                                                                                if (query != null) {
                                                                                    query.close();
                                                                                }
                                                                                throw e322222222222222222222222222;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                            if (columnIndex > 0) {
                                                                                try {
                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                        do {
                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str4)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor.moveToNext());
                                                                                    }
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable e3222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable th22222222222222222222222222) {
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    if (bi.oW(str4)) {
                                                                        networkCountryIso = ap.fO(str4, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str4.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str4 = str4.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                    }
                                                                    return str4;
                                                                }
                                                            }
                                                            line1Number = null;
                                                            if (!(query == null || query.isClosed())) {
                                                                query.close();
                                                                str4 = line1Number;
                                                                cursor = query;
                                                            }
                                                        } catch (Exception e1022) {
                                                            e2 = e1022;
                                                            line1Number = null;
                                                            query = cursor;
                                                        } catch (Throwable th622) {
                                                            e3222222222222222222222222222 = th622;
                                                            query = cursor;
                                                            if (!(query == null || query.isClosed())) {
                                                                query.close();
                                                            }
                                                            throw e3222222222222222222222222222;
                                                        }
                                                        str4 = line1Number;
                                                        cursor = query;
                                                    }
                                                    if (bi.oW(str4)) {
                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                            try {
                                                                query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                if (query != null) {
                                                                    try {
                                                                        if (query.moveToFirst()) {
                                                                            columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                            if (query == null) {
                                                                                query.close();
                                                                                cursor = query;
                                                                            } else {
                                                                                cursor = query;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                            if (columnIndex > 0) {
                                                                                try {
                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                        do {
                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str4)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor.moveToNext());
                                                                                    }
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable e32222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable th222222222222222222222222222) {
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    } catch (Exception e7222222222) {
                                                                        e4 = e7222222222;
                                                                        try {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                            if (query != null) {
                                                                                query.close();
                                                                                columnIndex = 0;
                                                                                cursor = query;
                                                                            } else {
                                                                                columnIndex = 0;
                                                                                cursor = query;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                            if (columnIndex > 0) {
                                                                                try {
                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                        do {
                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str4)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor.moveToNext());
                                                                                    }
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable e322222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable th2222222222222222222222222222) {
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (!bi.oW(str4)) {
                                                                                networkCountryIso = ap.fO(str4, str3);
                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                    if (str4.startsWith("+")) {
                                                                                        str2 = "+" + networkCountryIso;
                                                                                    } else if (str4.startsWith(networkCountryIso)) {
                                                                                        str2 = networkCountryIso;
                                                                                    }
                                                                                    if (str2 != null) {
                                                                                        str4 = str4.substring(str2.length());
                                                                                    }
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                            }
                                                                            return str4;
                                                                        } catch (Throwable th3222222222) {
                                                                            e322222222222222222222222222222 = th3222222222;
                                                                            if (query != null) {
                                                                                query.close();
                                                                            }
                                                                            throw e322222222222222222222222222222;
                                                                        }
                                                                    }
                                                                }
                                                                columnIndex = 0;
                                                                if (query == null) {
                                                                    cursor = query;
                                                                } else {
                                                                    query.close();
                                                                    cursor = query;
                                                                }
                                                            } catch (Exception e8222222222) {
                                                                e4 = e8222222222;
                                                                query = cursor;
                                                            } catch (Throwable th4222222222) {
                                                                e322222222222222222222222222222 = th4222222222;
                                                                query = cursor;
                                                                if (query != null) {
                                                                    query.close();
                                                                }
                                                                throw e322222222222222222222222222222;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                            if (columnIndex > 0) {
                                                                try {
                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                        do {
                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                            if (!bi.oW(str4)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                break;
                                                                            }
                                                                        } while (cursor.moveToNext());
                                                                    }
                                                                    if (cursor != null) {
                                                                        cursor.close();
                                                                    }
                                                                } catch (Throwable e3222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor != null) {
                                                                        cursor.close();
                                                                    }
                                                                } catch (Throwable th22222222222222222222222222222) {
                                                                    if (cursor != null) {
                                                                        cursor.close();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                    if (bi.oW(str4)) {
                                                        networkCountryIso = ap.fO(str4, str3);
                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                        if (!bi.oW(networkCountryIso)) {
                                                            if (str4.startsWith("+")) {
                                                                str2 = "+" + networkCountryIso;
                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                str2 = networkCountryIso;
                                                            }
                                                            if (str2 != null) {
                                                                str4 = str4.substring(str2.length());
                                                            }
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                    }
                                                    return str4;
                                                }
                                                cursor = query2;
                                                if (r2 <= 0) {
                                                    try {
                                                        query = contentResolver.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                        if (query != null) {
                                                            try {
                                                                if (query.moveToFirst()) {
                                                                    columnIndex = query.getColumnIndex("data1");
                                                                    if (columnIndex != -1) {
                                                                        line1Number = query.getString(columnIndex);
                                                                        try {
                                                                            x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                            query.close();
                                                                        } catch (Exception e6222) {
                                                                            e2 = e6222;
                                                                            try {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                                query.close();
                                                                                str4 = line1Number;
                                                                                cursor = query;
                                                                                if (bi.oW(str4)) {
                                                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                                                        try {
                                                                                            query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                            if (query != null) {
                                                                                                try {
                                                                                                    if (query.moveToFirst()) {
                                                                                                        columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                                        if (query == null) {
                                                                                                            query.close();
                                                                                                            cursor = query;
                                                                                                        } else {
                                                                                                            cursor = query;
                                                                                                        }
                                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                        if (columnIndex > 0) {
                                                                                                            try {
                                                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                                                    do {
                                                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                        if (!bi.oW(str4)) {
                                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                            break;
                                                                                                                        }
                                                                                                                    } while (cursor.moveToNext());
                                                                                                                }
                                                                                                                if (cursor != null) {
                                                                                                                    cursor.close();
                                                                                                                }
                                                                                                            } catch (Throwable e32222222222222222222222222222222) {
                                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222, "", new Object[0]);
                                                                                                                if (cursor != null) {
                                                                                                                    cursor.close();
                                                                                                                }
                                                                                                            } catch (Throwable th222222222222222222222222222222) {
                                                                                                                if (cursor != null) {
                                                                                                                    cursor.close();
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                } catch (Exception e72222222222) {
                                                                                                    e4 = e72222222222;
                                                                                                    try {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                        if (query != null) {
                                                                                                            query.close();
                                                                                                            columnIndex = 0;
                                                                                                            cursor = query;
                                                                                                        } else {
                                                                                                            columnIndex = 0;
                                                                                                            cursor = query;
                                                                                                        }
                                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                        if (columnIndex > 0) {
                                                                                                            try {
                                                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                                                    do {
                                                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                        if (!bi.oW(str4)) {
                                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                            break;
                                                                                                                        }
                                                                                                                    } while (cursor.moveToNext());
                                                                                                                }
                                                                                                                if (cursor != null) {
                                                                                                                    cursor.close();
                                                                                                                }
                                                                                                            } catch (Throwable e322222222222222222222222222222222) {
                                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222, "", new Object[0]);
                                                                                                                if (cursor != null) {
                                                                                                                    cursor.close();
                                                                                                                }
                                                                                                            } catch (Throwable th2222222222222222222222222222222) {
                                                                                                                if (cursor != null) {
                                                                                                                    cursor.close();
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                        if (!bi.oW(str4)) {
                                                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                                if (str4.startsWith("+")) {
                                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                                                    str2 = networkCountryIso;
                                                                                                                }
                                                                                                                if (str2 != null) {
                                                                                                                    str4 = str4.substring(str2.length());
                                                                                                                }
                                                                                                            }
                                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                                        }
                                                                                                        return str4;
                                                                                                    } catch (Throwable th32222222222) {
                                                                                                        e322222222222222222222222222222222 = th32222222222;
                                                                                                        if (query != null) {
                                                                                                            query.close();
                                                                                                        }
                                                                                                        throw e322222222222222222222222222222222;
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            columnIndex = 0;
                                                                                            if (query == null) {
                                                                                                cursor = query;
                                                                                            } else {
                                                                                                query.close();
                                                                                                cursor = query;
                                                                                            }
                                                                                        } catch (Exception e82222222222) {
                                                                                            e4 = e82222222222;
                                                                                            query = cursor;
                                                                                        } catch (Throwable th42222222222) {
                                                                                            e322222222222222222222222222222222 = th42222222222;
                                                                                            query = cursor;
                                                                                            if (query != null) {
                                                                                                query.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                        if (columnIndex > 0) {
                                                                                            try {
                                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                                    do {
                                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str4)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor.moveToNext());
                                                                                                }
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable e3222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable th22222222222222222222222222222222) {
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (bi.oW(str4)) {
                                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                        if (str4.startsWith("+")) {
                                                                                            str2 = "+" + networkCountryIso;
                                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                                            str2 = networkCountryIso;
                                                                                        }
                                                                                        if (str2 != null) {
                                                                                            str4 = str4.substring(str2.length());
                                                                                        }
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                }
                                                                                return str4;
                                                                            } catch (Throwable th5222) {
                                                                                e3222222222222222222222222222222222 = th5222;
                                                                                query.close();
                                                                                throw e3222222222222222222222222222222222;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                line1Number = null;
                                                                query.close();
                                                            } catch (Exception e9222) {
                                                                e2 = e9222;
                                                                line1Number = null;
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                if (!(query == null || query.isClosed())) {
                                                                    query.close();
                                                                    str4 = line1Number;
                                                                    cursor = query;
                                                                    if (bi.oW(str4)) {
                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                            try {
                                                                                query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                if (query != null) {
                                                                                    try {
                                                                                        if (query.moveToFirst()) {
                                                                                            columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                            if (query == null) {
                                                                                                query.close();
                                                                                                cursor = query;
                                                                                            } else {
                                                                                                cursor = query;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                            if (columnIndex > 0) {
                                                                                                try {
                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                        do {
                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor.moveToNext());
                                                                                                    }
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable e32222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable th222222222222222222222222222222222) {
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e722222222222) {
                                                                                        e4 = e722222222222;
                                                                                        try {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                            if (query != null) {
                                                                                                query.close();
                                                                                                columnIndex = 0;
                                                                                                cursor = query;
                                                                                            } else {
                                                                                                columnIndex = 0;
                                                                                                cursor = query;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                            if (columnIndex > 0) {
                                                                                                try {
                                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                                        do {
                                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str4)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor.moveToNext());
                                                                                                    }
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable e322222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                } catch (Throwable th2222222222222222222222222222222222) {
                                                                                                    if (cursor != null) {
                                                                                                        cursor.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            if (!bi.oW(str4)) {
                                                                                                networkCountryIso = ap.fO(str4, str3);
                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                    if (str4.startsWith("+")) {
                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                    } else if (str4.startsWith(networkCountryIso)) {
                                                                                                        str2 = networkCountryIso;
                                                                                                    }
                                                                                                    if (str2 != null) {
                                                                                                        str4 = str4.substring(str2.length());
                                                                                                    }
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                            }
                                                                                            return str4;
                                                                                        } catch (Throwable th322222222222) {
                                                                                            e322222222222222222222222222222222222 = th322222222222;
                                                                                            if (query != null) {
                                                                                                query.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222222;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                columnIndex = 0;
                                                                                if (query == null) {
                                                                                    cursor = query;
                                                                                } else {
                                                                                    query.close();
                                                                                    cursor = query;
                                                                                }
                                                                            } catch (Exception e822222222222) {
                                                                                e4 = e822222222222;
                                                                                query = cursor;
                                                                            } catch (Throwable th422222222222) {
                                                                                e322222222222222222222222222222222222 = th422222222222;
                                                                                query = cursor;
                                                                                if (query != null) {
                                                                                    query.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                            if (columnIndex > 0) {
                                                                                try {
                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                        do {
                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str4)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor.moveToNext());
                                                                                    }
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable e3222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable th22222222222222222222222222222222222) {
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    if (bi.oW(str4)) {
                                                                        networkCountryIso = ap.fO(str4, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str4.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str4 = str4.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                    }
                                                                    return str4;
                                                                }
                                                                str4 = line1Number;
                                                                cursor = query;
                                                                if (bi.oW(str4)) {
                                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                                        try {
                                                                            query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                            if (query != null) {
                                                                                try {
                                                                                    if (query.moveToFirst()) {
                                                                                        columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                        if (query == null) {
                                                                                            query.close();
                                                                                            cursor = query;
                                                                                        } else {
                                                                                            cursor = query;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                        if (columnIndex > 0) {
                                                                                            try {
                                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                                    do {
                                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str4)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor.moveToNext());
                                                                                                }
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable e32222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable th222222222222222222222222222222222222) {
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                } catch (Exception e7222222222222) {
                                                                                    e4 = e7222222222222;
                                                                                    try {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                        if (query != null) {
                                                                                            query.close();
                                                                                            columnIndex = 0;
                                                                                            cursor = query;
                                                                                        } else {
                                                                                            columnIndex = 0;
                                                                                            cursor = query;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                        if (columnIndex > 0) {
                                                                                            try {
                                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                                    do {
                                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str4)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor.moveToNext());
                                                                                                }
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable e322222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable th2222222222222222222222222222222222222) {
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        if (!bi.oW(str4)) {
                                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                if (str4.startsWith("+")) {
                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                                    str2 = networkCountryIso;
                                                                                                }
                                                                                                if (str2 != null) {
                                                                                                    str4 = str4.substring(str2.length());
                                                                                                }
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                        }
                                                                                        return str4;
                                                                                    } catch (Throwable th3222222222222) {
                                                                                        e322222222222222222222222222222222222222 = th3222222222222;
                                                                                        if (query != null) {
                                                                                            query.close();
                                                                                        }
                                                                                        throw e322222222222222222222222222222222222222;
                                                                                    }
                                                                                }
                                                                            }
                                                                            columnIndex = 0;
                                                                            if (query == null) {
                                                                                cursor = query;
                                                                            } else {
                                                                                query.close();
                                                                                cursor = query;
                                                                            }
                                                                        } catch (Exception e8222222222222) {
                                                                            e4 = e8222222222222;
                                                                            query = cursor;
                                                                        } catch (Throwable th4222222222222) {
                                                                            e322222222222222222222222222222222222222 = th4222222222222;
                                                                            query = cursor;
                                                                            if (query != null) {
                                                                                query.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                        if (columnIndex > 0) {
                                                                            try {
                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                    do {
                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str4)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor.moveToNext());
                                                                                }
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable e3222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable th22222222222222222222222222222222222222) {
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                if (bi.oW(str4)) {
                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                    if (!bi.oW(networkCountryIso)) {
                                                                        if (str4.startsWith("+")) {
                                                                            str2 = "+" + networkCountryIso;
                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                            str2 = networkCountryIso;
                                                                        }
                                                                        if (str2 != null) {
                                                                            str4 = str4.substring(str2.length());
                                                                        }
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                }
                                                                return str4;
                                                            }
                                                        }
                                                        line1Number = null;
                                                        if (!(query == null || query.isClosed())) {
                                                            query.close();
                                                            str4 = line1Number;
                                                            cursor = query;
                                                        }
                                                    } catch (Exception e10222) {
                                                        e2 = e10222;
                                                        line1Number = null;
                                                        query = cursor;
                                                    } catch (Throwable th6222) {
                                                        e3222222222222222222222222222222222222222 = th6222;
                                                        query = cursor;
                                                        if (!(query == null || query.isClosed())) {
                                                            query.close();
                                                        }
                                                        throw e3222222222222222222222222222222222222222;
                                                    }
                                                    str4 = line1Number;
                                                    cursor = query;
                                                } else {
                                                    str4 = null;
                                                }
                                                if (bi.oW(str4)) {
                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                        try {
                                                            query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                            if (query != null) {
                                                                try {
                                                                    if (query.moveToFirst()) {
                                                                        columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                        if (query == null) {
                                                                            query.close();
                                                                            cursor = query;
                                                                        } else {
                                                                            cursor = query;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                        if (columnIndex > 0) {
                                                                            try {
                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                    do {
                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str4)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor.moveToNext());
                                                                                }
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable e32222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable th222222222222222222222222222222222222222) {
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                } catch (Exception e72222222222222) {
                                                                    e4 = e72222222222222;
                                                                    try {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                        if (query != null) {
                                                                            query.close();
                                                                            columnIndex = 0;
                                                                            cursor = query;
                                                                        } else {
                                                                            columnIndex = 0;
                                                                            cursor = query;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                        if (columnIndex > 0) {
                                                                            try {
                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                    do {
                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str4)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor.moveToNext());
                                                                                }
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable e322222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable th2222222222222222222222222222222222222222) {
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            }
                                                                        }
                                                                        if (!bi.oW(str4)) {
                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str4.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str4 = str4.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                        }
                                                                        return str4;
                                                                    } catch (Throwable th32222222222222) {
                                                                        e322222222222222222222222222222222222222222 = th32222222222222;
                                                                        if (query != null) {
                                                                            query.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222;
                                                                    }
                                                                }
                                                            }
                                                            columnIndex = 0;
                                                            if (query == null) {
                                                                cursor = query;
                                                            } else {
                                                                query.close();
                                                                cursor = query;
                                                            }
                                                        } catch (Exception e82222222222222) {
                                                            e4 = e82222222222222;
                                                            query = cursor;
                                                        } catch (Throwable th42222222222222) {
                                                            e322222222222222222222222222222222222222222 = th42222222222222;
                                                            query = cursor;
                                                            if (query != null) {
                                                                query.close();
                                                            }
                                                            throw e322222222222222222222222222222222222222222;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                        if (columnIndex > 0) {
                                                            try {
                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                    do {
                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                        if (!bi.oW(str4)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                            break;
                                                                        }
                                                                    } while (cursor.moveToNext());
                                                                }
                                                                if (cursor != null) {
                                                                    cursor.close();
                                                                }
                                                            } catch (Throwable e3222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor != null) {
                                                                    cursor.close();
                                                                }
                                                            } catch (Throwable th22222222222222222222222222222222222222222) {
                                                                if (cursor != null) {
                                                                    cursor.close();
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                if (bi.oW(str4)) {
                                                    networkCountryIso = ap.fO(str4, str3);
                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                    if (!bi.oW(networkCountryIso)) {
                                                        if (str4.startsWith("+")) {
                                                            str2 = "+" + networkCountryIso;
                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                            str2 = networkCountryIso;
                                                        }
                                                        if (str2 != null) {
                                                            str4 = str4.substring(str2.length());
                                                        }
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                }
                                                return str4;
                                            } catch (Throwable th7) {
                                                e3222222222222222222222222222222222222222222 = th7;
                                                query2.close();
                                                throw e3222222222222222222222222222222222222222222;
                                            }
                                        }
                                    }
                                    r2 = 0;
                                    try {
                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + r2);
                                        query2.close();
                                        cursor = query2;
                                    } catch (Exception e12) {
                                        e4 = e12;
                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                        x.d("MicroMsg.ContactsUtil", "query crashed");
                                        query2.close();
                                        cursor = query2;
                                        if (r2 <= 0) {
                                            str4 = null;
                                        } else {
                                            try {
                                                query = contentResolver.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                if (query != null) {
                                                    try {
                                                        if (query.moveToFirst()) {
                                                            columnIndex = query.getColumnIndex("data1");
                                                            if (columnIndex != -1) {
                                                                line1Number = query.getString(columnIndex);
                                                                try {
                                                                    x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                    query.close();
                                                                } catch (Exception e62222) {
                                                                    e2 = e62222;
                                                                    try {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                        x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                        query.close();
                                                                        str4 = line1Number;
                                                                        cursor = query;
                                                                        if (bi.oW(str4)) {
                                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                                try {
                                                                                    query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                    if (query != null) {
                                                                                        try {
                                                                                            if (query.moveToFirst()) {
                                                                                                columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                                if (query == null) {
                                                                                                    query.close();
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    cursor = query;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                if (columnIndex > 0) {
                                                                                                    try {
                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                            do {
                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor.moveToNext());
                                                                                                        }
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable e32222222222222222222222222222222222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable th222222222222222222222222222222222222222222) {
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        } catch (Exception e722222222222222) {
                                                                                            e4 = e722222222222222;
                                                                                            try {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                    columnIndex = 0;
                                                                                                    cursor = query;
                                                                                                } else {
                                                                                                    columnIndex = 0;
                                                                                                    cursor = query;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                                if (columnIndex > 0) {
                                                                                                    try {
                                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                                            do {
                                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str4)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor.moveToNext());
                                                                                                        }
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable e322222222222222222222222222222222222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    } catch (Throwable th2222222222222222222222222222222222222222222) {
                                                                                                        if (cursor != null) {
                                                                                                            cursor.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                if (!bi.oW(str4)) {
                                                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                                        if (str4.startsWith("+")) {
                                                                                                            str2 = "+" + networkCountryIso;
                                                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                                                            str2 = networkCountryIso;
                                                                                                        }
                                                                                                        if (str2 != null) {
                                                                                                            str4 = str4.substring(str2.length());
                                                                                                        }
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                                }
                                                                                                return str4;
                                                                                            } catch (Throwable th322222222222222) {
                                                                                                e322222222222222222222222222222222222222222222 = th322222222222222;
                                                                                                if (query != null) {
                                                                                                    query.close();
                                                                                                }
                                                                                                throw e322222222222222222222222222222222222222222222;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    columnIndex = 0;
                                                                                    if (query == null) {
                                                                                        cursor = query;
                                                                                    } else {
                                                                                        query.close();
                                                                                        cursor = query;
                                                                                    }
                                                                                } catch (Exception e822222222222222) {
                                                                                    e4 = e822222222222222;
                                                                                    query = cursor;
                                                                                } catch (Throwable th422222222222222) {
                                                                                    e322222222222222222222222222222222222222222222 = th422222222222222;
                                                                                    query = cursor;
                                                                                    if (query != null) {
                                                                                        query.close();
                                                                                    }
                                                                                    throw e322222222222222222222222222222222222222222222;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                if (columnIndex > 0) {
                                                                                    try {
                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                            do {
                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str4)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor.moveToNext());
                                                                                        }
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable e3222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable th22222222222222222222222222222222222222222222) {
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        if (bi.oW(str4)) {
                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str4.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str4 = str4.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                        }
                                                                        return str4;
                                                                    } catch (Throwable th52222) {
                                                                        e3222222222222222222222222222222222222222222222 = th52222;
                                                                        query.close();
                                                                        throw e3222222222222222222222222222222222222222222222;
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        line1Number = null;
                                                        query.close();
                                                    } catch (Exception e92222) {
                                                        e2 = e92222;
                                                        line1Number = null;
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                        x.d("MicroMsg.ContactsUtil", "query crashed");
                                                        if (!(query == null || query.isClosed())) {
                                                            query.close();
                                                            str4 = line1Number;
                                                            cursor = query;
                                                            if (bi.oW(str4)) {
                                                                if (!bi.oW(G(context, x.cg(context)))) {
                                                                    try {
                                                                        query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                        if (query != null) {
                                                                            try {
                                                                                if (query.moveToFirst()) {
                                                                                    columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                    if (query == null) {
                                                                                        query.close();
                                                                                        cursor = query;
                                                                                    } else {
                                                                                        cursor = query;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                    if (columnIndex > 0) {
                                                                                        try {
                                                                                            cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor != null && cursor.moveToFirst()) {
                                                                                                do {
                                                                                                    str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str4)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor.moveToNext());
                                                                                            }
                                                                                            if (cursor != null) {
                                                                                                cursor.close();
                                                                                            }
                                                                                        } catch (Throwable e32222222222222222222222222222222222222222222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                            if (cursor != null) {
                                                                                                cursor.close();
                                                                                            }
                                                                                        } catch (Throwable th222222222222222222222222222222222222222222222) {
                                                                                            if (cursor != null) {
                                                                                                cursor.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            } catch (Exception e7222222222222222) {
                                                                                e4 = e7222222222222222;
                                                                                try {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                    if (query != null) {
                                                                                        query.close();
                                                                                        columnIndex = 0;
                                                                                        cursor = query;
                                                                                    } else {
                                                                                        columnIndex = 0;
                                                                                        cursor = query;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                    if (columnIndex > 0) {
                                                                                        try {
                                                                                            cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor != null && cursor.moveToFirst()) {
                                                                                                do {
                                                                                                    str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str4)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor.moveToNext());
                                                                                            }
                                                                                            if (cursor != null) {
                                                                                                cursor.close();
                                                                                            }
                                                                                        } catch (Throwable e322222222222222222222222222222222222222222222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                            if (cursor != null) {
                                                                                                cursor.close();
                                                                                            }
                                                                                        } catch (Throwable th2222222222222222222222222222222222222222222222) {
                                                                                            if (cursor != null) {
                                                                                                cursor.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (!bi.oW(str4)) {
                                                                                        networkCountryIso = ap.fO(str4, str3);
                                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                        if (!bi.oW(networkCountryIso)) {
                                                                                            if (str4.startsWith("+")) {
                                                                                                str2 = "+" + networkCountryIso;
                                                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                                                str2 = networkCountryIso;
                                                                                            }
                                                                                            if (str2 != null) {
                                                                                                str4 = str4.substring(str2.length());
                                                                                            }
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                    }
                                                                                    return str4;
                                                                                } catch (Throwable th3222222222222222) {
                                                                                    e322222222222222222222222222222222222222222222222 = th3222222222222222;
                                                                                    if (query != null) {
                                                                                        query.close();
                                                                                    }
                                                                                    throw e322222222222222222222222222222222222222222222222;
                                                                                }
                                                                            }
                                                                        }
                                                                        columnIndex = 0;
                                                                        if (query == null) {
                                                                            cursor = query;
                                                                        } else {
                                                                            query.close();
                                                                            cursor = query;
                                                                        }
                                                                    } catch (Exception e8222222222222222) {
                                                                        e4 = e8222222222222222;
                                                                        query = cursor;
                                                                    } catch (Throwable th4222222222222222) {
                                                                        e322222222222222222222222222222222222222222222222 = th4222222222222222;
                                                                        query = cursor;
                                                                        if (query != null) {
                                                                            query.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222222222;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                    if (columnIndex > 0) {
                                                                        try {
                                                                            cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor != null && cursor.moveToFirst()) {
                                                                                do {
                                                                                    str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str4)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor.moveToNext());
                                                                            }
                                                                            if (cursor != null) {
                                                                                cursor.close();
                                                                            }
                                                                        } catch (Throwable e3222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor != null) {
                                                                                cursor.close();
                                                                            }
                                                                        } catch (Throwable th22222222222222222222222222222222222222222222222) {
                                                                            if (cursor != null) {
                                                                                cursor.close();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            if (bi.oW(str4)) {
                                                                networkCountryIso = ap.fO(str4, str3);
                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                if (!bi.oW(networkCountryIso)) {
                                                                    if (str4.startsWith("+")) {
                                                                        str2 = "+" + networkCountryIso;
                                                                    } else if (str4.startsWith(networkCountryIso)) {
                                                                        str2 = networkCountryIso;
                                                                    }
                                                                    if (str2 != null) {
                                                                        str4 = str4.substring(str2.length());
                                                                    }
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                            }
                                                            return str4;
                                                        }
                                                        str4 = line1Number;
                                                        cursor = query;
                                                        if (bi.oW(str4)) {
                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                try {
                                                                    query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                    if (query != null) {
                                                                        try {
                                                                            if (query.moveToFirst()) {
                                                                                columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                if (query == null) {
                                                                                    query.close();
                                                                                    cursor = query;
                                                                                } else {
                                                                                    cursor = query;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                if (columnIndex > 0) {
                                                                                    try {
                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                            do {
                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str4)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor.moveToNext());
                                                                                        }
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        } catch (Exception e72222222222222222) {
                                                                            e4 = e72222222222222222;
                                                                            try {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                if (query != null) {
                                                                                    query.close();
                                                                                    columnIndex = 0;
                                                                                    cursor = query;
                                                                                } else {
                                                                                    columnIndex = 0;
                                                                                    cursor = query;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                if (columnIndex > 0) {
                                                                                    try {
                                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                                            do {
                                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str4)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor.moveToNext());
                                                                                        }
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor != null) {
                                                                                            cursor.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (!bi.oW(str4)) {
                                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                        if (str4.startsWith("+")) {
                                                                                            str2 = "+" + networkCountryIso;
                                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                                            str2 = networkCountryIso;
                                                                                        }
                                                                                        if (str2 != null) {
                                                                                            str4 = str4.substring(str2.length());
                                                                                        }
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                }
                                                                                return str4;
                                                                            } catch (Throwable th32222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222 = th32222222222222222;
                                                                                if (query != null) {
                                                                                    query.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222;
                                                                            }
                                                                        }
                                                                    }
                                                                    columnIndex = 0;
                                                                    if (query == null) {
                                                                        cursor = query;
                                                                    } else {
                                                                        query.close();
                                                                        cursor = query;
                                                                    }
                                                                } catch (Exception e82222222222222222) {
                                                                    e4 = e82222222222222222;
                                                                    query = cursor;
                                                                } catch (Throwable th42222222222222222) {
                                                                    e322222222222222222222222222222222222222222222222222 = th42222222222222222;
                                                                    query = cursor;
                                                                    if (query != null) {
                                                                        query.close();
                                                                    }
                                                                    throw e322222222222222222222222222222222222222222222222222;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                if (columnIndex > 0) {
                                                                    try {
                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                            do {
                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                if (!bi.oW(str4)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                    break;
                                                                                }
                                                                            } while (cursor.moveToNext());
                                                                        }
                                                                        if (cursor != null) {
                                                                            cursor.close();
                                                                        }
                                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor != null) {
                                                                            cursor.close();
                                                                        }
                                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222) {
                                                                        if (cursor != null) {
                                                                            cursor.close();
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        if (bi.oW(str4)) {
                                                            networkCountryIso = ap.fO(str4, str3);
                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                            if (!bi.oW(networkCountryIso)) {
                                                                if (str4.startsWith("+")) {
                                                                    str2 = "+" + networkCountryIso;
                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                    str2 = networkCountryIso;
                                                                }
                                                                if (str2 != null) {
                                                                    str4 = str4.substring(str2.length());
                                                                }
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                        }
                                                        return str4;
                                                    }
                                                }
                                                line1Number = null;
                                                if (!(query == null || query.isClosed())) {
                                                    query.close();
                                                    str4 = line1Number;
                                                    cursor = query;
                                                }
                                            } catch (Exception e102222) {
                                                e2 = e102222;
                                                line1Number = null;
                                                query = cursor;
                                            } catch (Throwable th62222) {
                                                e3222222222222222222222222222222222222222222222222222 = th62222;
                                                query = cursor;
                                                if (!(query == null || query.isClosed())) {
                                                    query.close();
                                                }
                                                throw e3222222222222222222222222222222222222222222222222222;
                                            }
                                            str4 = line1Number;
                                            cursor = query;
                                        }
                                        if (bi.oW(str4)) {
                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                try {
                                                    query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                    if (query != null) {
                                                        try {
                                                            if (query.moveToFirst()) {
                                                                columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                if (query == null) {
                                                                    query.close();
                                                                    cursor = query;
                                                                } else {
                                                                    cursor = query;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                if (columnIndex > 0) {
                                                                    try {
                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                            do {
                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                if (!bi.oW(str4)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                    break;
                                                                                }
                                                                            } while (cursor.moveToNext());
                                                                        }
                                                                        if (cursor != null) {
                                                                            cursor.close();
                                                                        }
                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor != null) {
                                                                            cursor.close();
                                                                        }
                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222) {
                                                                        if (cursor != null) {
                                                                            cursor.close();
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        } catch (Exception e722222222222222222) {
                                                            e4 = e722222222222222222;
                                                            try {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                if (query != null) {
                                                                    query.close();
                                                                    columnIndex = 0;
                                                                    cursor = query;
                                                                } else {
                                                                    columnIndex = 0;
                                                                    cursor = query;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                if (columnIndex > 0) {
                                                                    try {
                                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor != null && cursor.moveToFirst()) {
                                                                            do {
                                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                if (!bi.oW(str4)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                    break;
                                                                                }
                                                                            } while (cursor.moveToNext());
                                                                        }
                                                                        if (cursor != null) {
                                                                            cursor.close();
                                                                        }
                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor != null) {
                                                                            cursor.close();
                                                                        }
                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222) {
                                                                        if (cursor != null) {
                                                                            cursor.close();
                                                                        }
                                                                    }
                                                                }
                                                                if (!bi.oW(str4)) {
                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                    if (!bi.oW(networkCountryIso)) {
                                                                        if (str4.startsWith("+")) {
                                                                            str2 = "+" + networkCountryIso;
                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                            str2 = networkCountryIso;
                                                                        }
                                                                        if (str2 != null) {
                                                                            str4 = str4.substring(str2.length());
                                                                        }
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                }
                                                                return str4;
                                                            } catch (Throwable th322222222222222222) {
                                                                e322222222222222222222222222222222222222222222222222222 = th322222222222222222;
                                                                if (query != null) {
                                                                    query.close();
                                                                }
                                                                throw e322222222222222222222222222222222222222222222222222222;
                                                            }
                                                        }
                                                    }
                                                    columnIndex = 0;
                                                    if (query == null) {
                                                        cursor = query;
                                                    } else {
                                                        query.close();
                                                        cursor = query;
                                                    }
                                                } catch (Exception e822222222222222222) {
                                                    e4 = e822222222222222222;
                                                    query = cursor;
                                                } catch (Throwable th422222222222222222) {
                                                    e322222222222222222222222222222222222222222222222222222 = th422222222222222222;
                                                    query = cursor;
                                                    if (query != null) {
                                                        query.close();
                                                    }
                                                    throw e322222222222222222222222222222222222222222222222222222;
                                                }
                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                if (columnIndex > 0) {
                                                    try {
                                                        cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                        if (cursor != null && cursor.moveToFirst()) {
                                                            do {
                                                                str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                if (!bi.oW(str4)) {
                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                    break;
                                                                }
                                                            } while (cursor.moveToNext());
                                                        }
                                                        if (cursor != null) {
                                                            cursor.close();
                                                        }
                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222) {
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                        if (cursor != null) {
                                                            cursor.close();
                                                        }
                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222) {
                                                        if (cursor != null) {
                                                            cursor.close();
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        if (bi.oW(str4)) {
                                            networkCountryIso = ap.fO(str4, str3);
                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                            if (!bi.oW(networkCountryIso)) {
                                                if (str4.startsWith("+")) {
                                                    str2 = "+" + networkCountryIso;
                                                } else if (str4.startsWith(networkCountryIso)) {
                                                    str2 = networkCountryIso;
                                                }
                                                if (str2 != null) {
                                                    str4 = str4.substring(str2.length());
                                                }
                                            }
                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                        }
                                        return str4;
                                    }
                                } catch (Exception e13) {
                                    e4 = e13;
                                    r2 = 0;
                                    query2 = null;
                                } catch (Throwable th8) {
                                    e3222222222222222222222222222222222222222222222222222222 = th8;
                                    query2 = null;
                                    if (!(query2 == null || query2.isClosed())) {
                                        query2.close();
                                    }
                                    throw e3222222222222222222222222222222222222222222222222222222;
                                }
                                if (r2 <= 0) {
                                    try {
                                        query = contentResolver.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                        if (query != null) {
                                            try {
                                                if (query.moveToFirst()) {
                                                    columnIndex = query.getColumnIndex("data1");
                                                    if (columnIndex != -1) {
                                                        line1Number = query.getString(columnIndex);
                                                        try {
                                                            x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                            query.close();
                                                        } catch (Exception e622222) {
                                                            e2 = e622222;
                                                            try {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                query.close();
                                                                str4 = line1Number;
                                                                cursor = query;
                                                                if (bi.oW(str4)) {
                                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                                        try {
                                                                            query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                            if (query != null) {
                                                                                try {
                                                                                    if (query.moveToFirst()) {
                                                                                        columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                                        if (query == null) {
                                                                                            query.close();
                                                                                            cursor = query;
                                                                                        } else {
                                                                                            cursor = query;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                        if (columnIndex > 0) {
                                                                                            try {
                                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                                    do {
                                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str4)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor.moveToNext());
                                                                                                }
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                } catch (Exception e7222222222222222222) {
                                                                                    e4 = e7222222222222222222;
                                                                                    try {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                        if (query != null) {
                                                                                            query.close();
                                                                                            columnIndex = 0;
                                                                                            cursor = query;
                                                                                        } else {
                                                                                            columnIndex = 0;
                                                                                            cursor = query;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                                        if (columnIndex > 0) {
                                                                                            try {
                                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                                    do {
                                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str4)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor.moveToNext());
                                                                                                }
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor != null) {
                                                                                                    cursor.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        if (!bi.oW(str4)) {
                                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                if (str4.startsWith("+")) {
                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                                    str2 = networkCountryIso;
                                                                                                }
                                                                                                if (str2 != null) {
                                                                                                    str4 = str4.substring(str2.length());
                                                                                                }
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                                        }
                                                                                        return str4;
                                                                                    } catch (Throwable th3222222222222222222) {
                                                                                        e322222222222222222222222222222222222222222222222222222222 = th3222222222222222222;
                                                                                        if (query != null) {
                                                                                            query.close();
                                                                                        }
                                                                                        throw e322222222222222222222222222222222222222222222222222222222;
                                                                                    }
                                                                                }
                                                                            }
                                                                            columnIndex = 0;
                                                                            if (query == null) {
                                                                                cursor = query;
                                                                            } else {
                                                                                query.close();
                                                                                cursor = query;
                                                                            }
                                                                        } catch (Exception e8222222222222222222) {
                                                                            e4 = e8222222222222222222;
                                                                            query = cursor;
                                                                        } catch (Throwable th4222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222 = th4222222222222222222;
                                                                            query = cursor;
                                                                            if (query != null) {
                                                                                query.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                        if (columnIndex > 0) {
                                                                            try {
                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                    do {
                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str4)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor.moveToNext());
                                                                                }
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                if (bi.oW(str4)) {
                                                                    networkCountryIso = ap.fO(str4, str3);
                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                    if (!bi.oW(networkCountryIso)) {
                                                                        if (str4.startsWith("+")) {
                                                                            str2 = "+" + networkCountryIso;
                                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                                            str2 = networkCountryIso;
                                                                        }
                                                                        if (str2 != null) {
                                                                            str4 = str4.substring(str2.length());
                                                                        }
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                }
                                                                return str4;
                                                            } catch (Throwable th522222) {
                                                                e3222222222222222222222222222222222222222222222222222222222 = th522222;
                                                                query.close();
                                                                throw e3222222222222222222222222222222222222222222222222222222222;
                                                            }
                                                        }
                                                    }
                                                }
                                                line1Number = null;
                                                query.close();
                                            } catch (Exception e922222) {
                                                e2 = e922222;
                                                line1Number = null;
                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                if (!(query == null || query.isClosed())) {
                                                    query.close();
                                                    str4 = line1Number;
                                                    cursor = query;
                                                    if (bi.oW(str4)) {
                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                            try {
                                                                query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                if (query != null) {
                                                                    try {
                                                                        if (query.moveToFirst()) {
                                                                            columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                            if (query == null) {
                                                                                query.close();
                                                                                cursor = query;
                                                                            } else {
                                                                                cursor = query;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                            if (columnIndex > 0) {
                                                                                try {
                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                        do {
                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str4)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor.moveToNext());
                                                                                    }
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    } catch (Exception e72222222222222222222) {
                                                                        e4 = e72222222222222222222;
                                                                        try {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                            if (query != null) {
                                                                                query.close();
                                                                                columnIndex = 0;
                                                                                cursor = query;
                                                                            } else {
                                                                                columnIndex = 0;
                                                                                cursor = query;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                            if (columnIndex > 0) {
                                                                                try {
                                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                                        do {
                                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str4)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor.moveToNext());
                                                                                    }
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor != null) {
                                                                                        cursor.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (!bi.oW(str4)) {
                                                                                networkCountryIso = ap.fO(str4, str3);
                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                    if (str4.startsWith("+")) {
                                                                                        str2 = "+" + networkCountryIso;
                                                                                    } else if (str4.startsWith(networkCountryIso)) {
                                                                                        str2 = networkCountryIso;
                                                                                    }
                                                                                    if (str2 != null) {
                                                                                        str4 = str4.substring(str2.length());
                                                                                    }
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                            }
                                                                            return str4;
                                                                        } catch (Throwable th32222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222222 = th32222222222222222222;
                                                                            if (query != null) {
                                                                                query.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                    }
                                                                }
                                                                columnIndex = 0;
                                                                if (query == null) {
                                                                    cursor = query;
                                                                } else {
                                                                    query.close();
                                                                    cursor = query;
                                                                }
                                                            } catch (Exception e82222222222222222222) {
                                                                e4 = e82222222222222222222;
                                                                query = cursor;
                                                            } catch (Throwable th42222222222222222222) {
                                                                e322222222222222222222222222222222222222222222222222222222222 = th42222222222222222222;
                                                                query = cursor;
                                                                if (query != null) {
                                                                    query.close();
                                                                }
                                                                throw e322222222222222222222222222222222222222222222222222222222222;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                            if (columnIndex > 0) {
                                                                try {
                                                                    cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor != null && cursor.moveToFirst()) {
                                                                        do {
                                                                            str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                            if (!bi.oW(str4)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                break;
                                                                            }
                                                                        } while (cursor.moveToNext());
                                                                    }
                                                                    if (cursor != null) {
                                                                        cursor.close();
                                                                    }
                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor != null) {
                                                                        cursor.close();
                                                                    }
                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor != null) {
                                                                        cursor.close();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                    if (bi.oW(str4)) {
                                                        networkCountryIso = ap.fO(str4, str3);
                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                        if (!bi.oW(networkCountryIso)) {
                                                            if (str4.startsWith("+")) {
                                                                str2 = "+" + networkCountryIso;
                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                str2 = networkCountryIso;
                                                            }
                                                            if (str2 != null) {
                                                                str4 = str4.substring(str2.length());
                                                            }
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                    }
                                                    return str4;
                                                }
                                                str4 = line1Number;
                                                cursor = query;
                                                if (bi.oW(str4)) {
                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                        try {
                                                            query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                            if (query != null) {
                                                                try {
                                                                    if (query.moveToFirst()) {
                                                                        columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                                        if (query == null) {
                                                                            query.close();
                                                                            cursor = query;
                                                                        } else {
                                                                            cursor = query;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                        if (columnIndex > 0) {
                                                                            try {
                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                    do {
                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str4)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor.moveToNext());
                                                                                }
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                } catch (Exception e722222222222222222222) {
                                                                    e4 = e722222222222222222222;
                                                                    try {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                        if (query != null) {
                                                                            query.close();
                                                                            columnIndex = 0;
                                                                            cursor = query;
                                                                        } else {
                                                                            columnIndex = 0;
                                                                            cursor = query;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                                        if (columnIndex > 0) {
                                                                            try {
                                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                                    do {
                                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str4)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor.moveToNext());
                                                                                }
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor != null) {
                                                                                    cursor.close();
                                                                                }
                                                                            }
                                                                        }
                                                                        if (!bi.oW(str4)) {
                                                                            networkCountryIso = ap.fO(str4, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str4.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str4.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str4 = str4.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                                        }
                                                                        return str4;
                                                                    } catch (Throwable th322222222222222222222) {
                                                                        e322222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222;
                                                                        if (query != null) {
                                                                            query.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222222222222222222222222;
                                                                    }
                                                                }
                                                            }
                                                            columnIndex = 0;
                                                            if (query == null) {
                                                                cursor = query;
                                                            } else {
                                                                query.close();
                                                                cursor = query;
                                                            }
                                                        } catch (Exception e822222222222222222222) {
                                                            e4 = e822222222222222222222;
                                                            query = cursor;
                                                        } catch (Throwable th422222222222222222222) {
                                                            e322222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222;
                                                            query = cursor;
                                                            if (query != null) {
                                                                query.close();
                                                            }
                                                            throw e322222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                        if (columnIndex > 0) {
                                                            try {
                                                                cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor != null && cursor.moveToFirst()) {
                                                                    do {
                                                                        str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                        if (!bi.oW(str4)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                            break;
                                                                        }
                                                                    } while (cursor.moveToNext());
                                                                }
                                                                if (cursor != null) {
                                                                    cursor.close();
                                                                }
                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor != null) {
                                                                    cursor.close();
                                                                }
                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222) {
                                                                if (cursor != null) {
                                                                    cursor.close();
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                if (bi.oW(str4)) {
                                                    networkCountryIso = ap.fO(str4, str3);
                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                    if (!bi.oW(networkCountryIso)) {
                                                        if (str4.startsWith("+")) {
                                                            str2 = "+" + networkCountryIso;
                                                        } else if (str4.startsWith(networkCountryIso)) {
                                                            str2 = networkCountryIso;
                                                        }
                                                        if (str2 != null) {
                                                            str4 = str4.substring(str2.length());
                                                        }
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                }
                                                return str4;
                                            }
                                        }
                                        line1Number = null;
                                        if (!(query == null || query.isClosed())) {
                                            query.close();
                                            str4 = line1Number;
                                            cursor = query;
                                        }
                                    } catch (Exception e1022222) {
                                        e2 = e1022222;
                                        line1Number = null;
                                        query = cursor;
                                    } catch (Throwable th622222) {
                                        e3222222222222222222222222222222222222222222222222222222222222222 = th622222;
                                        query = cursor;
                                        if (!(query == null || query.isClosed())) {
                                            query.close();
                                        }
                                        throw e3222222222222222222222222222222222222222222222222222222222222222;
                                    }
                                    str4 = line1Number;
                                    cursor = query;
                                } else {
                                    str4 = null;
                                }
                            }
                            if (bi.oW(str4)) {
                                if (!bi.oW(G(context, x.cg(context)))) {
                                    try {
                                        query = contentResolver.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                        if (query != null) {
                                            try {
                                                if (query.moveToFirst()) {
                                                    columnIndex = query.getInt(query.getColumnIndex("has_phone_number"));
                                                    if (query == null) {
                                                        query.close();
                                                        cursor = query;
                                                    } else {
                                                        cursor = query;
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                    if (columnIndex > 0) {
                                                        try {
                                                            cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                            if (cursor != null && cursor.moveToFirst()) {
                                                                do {
                                                                    str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                    if (!bi.oW(str4)) {
                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                        break;
                                                                    }
                                                                } while (cursor.moveToNext());
                                                            }
                                                            if (cursor != null) {
                                                                cursor.close();
                                                            }
                                                        } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222) {
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                            if (cursor != null) {
                                                                cursor.close();
                                                            }
                                                        } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222) {
                                                            if (cursor != null) {
                                                                cursor.close();
                                                            }
                                                        }
                                                    }
                                                }
                                            } catch (Exception e7222222222222222222222) {
                                                e4 = e7222222222222222222222;
                                                try {
                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                    if (query != null) {
                                                        query.close();
                                                        columnIndex = 0;
                                                        cursor = query;
                                                    } else {
                                                        columnIndex = 0;
                                                        cursor = query;
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                                    if (columnIndex > 0) {
                                                        try {
                                                            cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                            if (cursor != null && cursor.moveToFirst()) {
                                                                do {
                                                                    str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                                    if (!bi.oW(str4)) {
                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                                        break;
                                                                    }
                                                                } while (cursor.moveToNext());
                                                            }
                                                            if (cursor != null) {
                                                                cursor.close();
                                                            }
                                                        } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222) {
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                            if (cursor != null) {
                                                                cursor.close();
                                                            }
                                                        } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222) {
                                                            if (cursor != null) {
                                                                cursor.close();
                                                            }
                                                        }
                                                    }
                                                    if (!bi.oW(str4)) {
                                                        networkCountryIso = ap.fO(str4, str3);
                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                                        if (!bi.oW(networkCountryIso)) {
                                                            if (str4.startsWith("+")) {
                                                                str2 = "+" + networkCountryIso;
                                                            } else if (str4.startsWith(networkCountryIso)) {
                                                                str2 = networkCountryIso;
                                                            }
                                                            if (str2 != null) {
                                                                str4 = str4.substring(str2.length());
                                                            }
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                                                    }
                                                    return str4;
                                                } catch (Throwable th3222222222222222222222) {
                                                    e322222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222;
                                                    if (query != null) {
                                                        query.close();
                                                    }
                                                    throw e322222222222222222222222222222222222222222222222222222222222222222;
                                                }
                                            }
                                        }
                                        columnIndex = 0;
                                        if (query == null) {
                                            cursor = query;
                                        } else {
                                            query.close();
                                            cursor = query;
                                        }
                                    } catch (Exception e8222222222222222222222) {
                                        e4 = e8222222222222222222222;
                                        query = cursor;
                                    } catch (Throwable th4222222222222222222222) {
                                        e322222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222;
                                        query = cursor;
                                        if (query != null) {
                                            query.close();
                                        }
                                        throw e322222222222222222222222222222222222222222222222222222222222222222;
                                    }
                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex);
                                    if (columnIndex > 0) {
                                        try {
                                            cursor = contentResolver.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                            if (cursor != null && cursor.moveToFirst()) {
                                                do {
                                                    str4 = cursor.getString(cursor.getColumnIndex("data1"));
                                                    if (!bi.oW(str4)) {
                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str4);
                                                        break;
                                                    }
                                                } while (cursor.moveToNext());
                                            }
                                            if (cursor != null) {
                                                cursor.close();
                                            }
                                        } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222) {
                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                            if (cursor != null) {
                                                cursor.close();
                                            }
                                        } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222) {
                                            if (cursor != null) {
                                                cursor.close();
                                            }
                                        }
                                    }
                                }
                            }
                            if (bi.oW(str4)) {
                                networkCountryIso = ap.fO(str4, str3);
                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str4, networkCountryIso, str3);
                                if (!bi.oW(networkCountryIso)) {
                                    if (str4.startsWith("+")) {
                                        str2 = "+" + networkCountryIso;
                                    } else if (str4.startsWith(networkCountryIso)) {
                                        str2 = networkCountryIso;
                                    }
                                    if (str2 != null) {
                                        str4 = str4.substring(str2.length());
                                    }
                                }
                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str4);
                            }
                            return str4;
                        } else {
                            x.e("MicroMsg.ContactsUtil", "no contact permission");
                            return null;
                        }
                    }
                } catch (Exception e14) {
                    e = e14;
                    networkCountryIso = simCountryIso;
                    x.printErrStackTrace("MicroMsg.ContactsUtil", e, "", new Object[0]);
                    x.e("MicroMsg.ContactsUtil", "get line number got exception");
                    str3 = networkCountryIso;
                    if (bi.oW(line1Number)) {
                        line1Number = line1Number.trim();
                        networkCountryIso = ap.fO(line1Number, str3);
                        x.i("MicroMsg.ContactsUtil", "get num : %s, extract country code  : %s, iso : %s", line1Number, networkCountryIso, str3);
                        if (bi.oW(networkCountryIso)) {
                            networkCountryIso = line1Number;
                        } else {
                            int i2;
                            r2 = networkCountryIso.length();
                            if (line1Number.startsWith("+")) {
                                i2 = 1;
                            } else {
                                i2 = 0;
                            }
                            networkCountryIso = line1Number.substring(i2 + r2);
                            x.i("MicroMsg.ContactsUtil", "after deal, the num is %s", networkCountryIso);
                        }
                        x.i("MicroMsg.ContactsUtil", "Got phone number by TelephonyManager.");
                        return networkCountryIso;
                    } else if (a.bj(context, "android.permission.READ_CONTACTS")) {
                        String str42;
                        int columnIndex2;
                        Cursor cursor2;
                        Cursor query3;
                        ContentResolver contentResolver2 = context.getContentResolver();
                        if (d.fS(14)) {
                            str42 = null;
                            Object obj2 = null;
                        } else {
                            x.i("MicroMsg.ContactsUtil", "The device os API version is higher than 14.");
                            Cursor query22;
                            try {
                                query22 = contentResolver2.query(Profile.CONTENT_URI, new String[]{"has_phone_number"}, null, null, null);
                                if (query22 != null) {
                                    try {
                                        if (query22.moveToFirst()) {
                                            columnIndex2 = query22.getColumnIndex("has_phone_number");
                                            if (columnIndex2 != -1) {
                                                r2 = query22.getInt(columnIndex2);
                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + r2);
                                                if (!(query22 == null || query22.isClosed())) {
                                                    query22.close();
                                                    cursor2 = query22;
                                                    if (r2 <= 0) {
                                                        try {
                                                            query3 = contentResolver2.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                            if (query3 != null) {
                                                                try {
                                                                    if (query3.moveToFirst()) {
                                                                        columnIndex2 = query3.getColumnIndex("data1");
                                                                        if (columnIndex2 != -1) {
                                                                            line1Number = query3.getString(columnIndex2);
                                                                            try {
                                                                                x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                                query3.close();
                                                                            } catch (Exception e6222222) {
                                                                                e2 = e6222222;
                                                                                try {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                                    query3.close();
                                                                                    str42 = line1Number;
                                                                                    cursor2 = query3;
                                                                                    if (bi.oW(str42)) {
                                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                                            try {
                                                                                                query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                                if (query3 != null) {
                                                                                                    try {
                                                                                                        if (query3.moveToFirst()) {
                                                                                                            columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                                            if (query3 == null) {
                                                                                                                query3.close();
                                                                                                                cursor2 = query3;
                                                                                                            } else {
                                                                                                                cursor2 = query3;
                                                                                                            }
                                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                            if (columnIndex2 > 0) {
                                                                                                                try {
                                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                                        do {
                                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                            if (!bi.oW(str42)) {
                                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                                break;
                                                                                                                            }
                                                                                                                        } while (cursor2.moveToNext());
                                                                                                                    }
                                                                                                                    if (cursor2 != null) {
                                                                                                                        cursor2.close();
                                                                                                                    }
                                                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                                    if (cursor2 != null) {
                                                                                                                        cursor2.close();
                                                                                                                    }
                                                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                    if (cursor2 != null) {
                                                                                                                        cursor2.close();
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    } catch (Exception e72222222222222222222222) {
                                                                                                        e4 = e72222222222222222222222;
                                                                                                        try {
                                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                            if (query3 != null) {
                                                                                                                query3.close();
                                                                                                                columnIndex2 = 0;
                                                                                                                cursor2 = query3;
                                                                                                            } else {
                                                                                                                columnIndex2 = 0;
                                                                                                                cursor2 = query3;
                                                                                                            }
                                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                            if (columnIndex2 > 0) {
                                                                                                                try {
                                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                                        do {
                                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                            if (!bi.oW(str42)) {
                                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                                break;
                                                                                                                            }
                                                                                                                        } while (cursor2.moveToNext());
                                                                                                                    }
                                                                                                                    if (cursor2 != null) {
                                                                                                                        cursor2.close();
                                                                                                                    }
                                                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                                    if (cursor2 != null) {
                                                                                                                        cursor2.close();
                                                                                                                    }
                                                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                    if (cursor2 != null) {
                                                                                                                        cursor2.close();
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                networkCountryIso = ap.fO(str42, str3);
                                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                                    if (str42.startsWith("+")) {
                                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                                                                        str2 = networkCountryIso;
                                                                                                                    }
                                                                                                                    if (str2 != null) {
                                                                                                                        str42 = str42.substring(str2.length());
                                                                                                                    }
                                                                                                                }
                                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                                            }
                                                                                                            return str42;
                                                                                                        } catch (Throwable th32222222222222222222222) {
                                                                                                            e322222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222;
                                                                                                            if (query3 != null) {
                                                                                                                query3.close();
                                                                                                            }
                                                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222;
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                columnIndex2 = 0;
                                                                                                if (query3 == null) {
                                                                                                    cursor2 = query3;
                                                                                                } else {
                                                                                                    query3.close();
                                                                                                    cursor2 = query3;
                                                                                                }
                                                                                            } catch (Exception e82222222222222222222222) {
                                                                                                e4 = e82222222222222222222222;
                                                                                                query3 = cursor2;
                                                                                            } catch (Throwable th42222222222222222222222) {
                                                                                                e322222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222;
                                                                                                query3 = cursor2;
                                                                                                if (query3 != null) {
                                                                                                    query3.close();
                                                                                                }
                                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                            if (columnIndex2 > 0) {
                                                                                                try {
                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                        do {
                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor2.moveToNext());
                                                                                                    }
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (bi.oW(str42)) {
                                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                        if (!bi.oW(networkCountryIso)) {
                                                                                            if (str42.startsWith("+")) {
                                                                                                str2 = "+" + networkCountryIso;
                                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                                str2 = networkCountryIso;
                                                                                            }
                                                                                            if (str2 != null) {
                                                                                                str42 = str42.substring(str2.length());
                                                                                            }
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                    }
                                                                                    return str42;
                                                                                } catch (Throwable th5222222) {
                                                                                    e3222222222222222222222222222222222222222222222222222222222222222222222 = th5222222;
                                                                                    query3.close();
                                                                                    throw e3222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    line1Number = null;
                                                                    query3.close();
                                                                } catch (Exception e9222222) {
                                                                    e2 = e9222222;
                                                                    line1Number = null;
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                    if (!(query3 == null || query3.isClosed())) {
                                                                        query3.close();
                                                                        str42 = line1Number;
                                                                        cursor2 = query3;
                                                                        if (bi.oW(str42)) {
                                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                                try {
                                                                                    query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                    if (query3 != null) {
                                                                                        try {
                                                                                            if (query3.moveToFirst()) {
                                                                                                columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                                if (query3 == null) {
                                                                                                    query3.close();
                                                                                                    cursor2 = query3;
                                                                                                } else {
                                                                                                    cursor2 = query3;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                if (columnIndex2 > 0) {
                                                                                                    try {
                                                                                                        cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                            do {
                                                                                                                str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str42)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor2.moveToNext());
                                                                                                        }
                                                                                                        if (cursor2 != null) {
                                                                                                            cursor2.close();
                                                                                                        }
                                                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                        if (cursor2 != null) {
                                                                                                            cursor2.close();
                                                                                                        }
                                                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                        if (cursor2 != null) {
                                                                                                            cursor2.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        } catch (Exception e722222222222222222222222) {
                                                                                            e4 = e722222222222222222222222;
                                                                                            try {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                if (query3 != null) {
                                                                                                    query3.close();
                                                                                                    columnIndex2 = 0;
                                                                                                    cursor2 = query3;
                                                                                                } else {
                                                                                                    columnIndex2 = 0;
                                                                                                    cursor2 = query3;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                if (columnIndex2 > 0) {
                                                                                                    try {
                                                                                                        cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                            do {
                                                                                                                str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str42)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor2.moveToNext());
                                                                                                        }
                                                                                                        if (cursor2 != null) {
                                                                                                            cursor2.close();
                                                                                                        }
                                                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                        if (cursor2 != null) {
                                                                                                            cursor2.close();
                                                                                                        }
                                                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                        if (cursor2 != null) {
                                                                                                            cursor2.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                if (!bi.oW(str42)) {
                                                                                                    networkCountryIso = ap.fO(str42, str3);
                                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                                        if (str42.startsWith("+")) {
                                                                                                            str2 = "+" + networkCountryIso;
                                                                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                                                                            str2 = networkCountryIso;
                                                                                                        }
                                                                                                        if (str2 != null) {
                                                                                                            str42 = str42.substring(str2.length());
                                                                                                        }
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                                }
                                                                                                return str42;
                                                                                            } catch (Throwable th322222222222222222222222) {
                                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222;
                                                                                                if (query3 != null) {
                                                                                                    query3.close();
                                                                                                }
                                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    columnIndex2 = 0;
                                                                                    if (query3 == null) {
                                                                                        cursor2 = query3;
                                                                                    } else {
                                                                                        query3.close();
                                                                                        cursor2 = query3;
                                                                                    }
                                                                                } catch (Exception e822222222222222222222222) {
                                                                                    e4 = e822222222222222222222222;
                                                                                    query3 = cursor2;
                                                                                } catch (Throwable th422222222222222222222222) {
                                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222;
                                                                                    query3 = cursor2;
                                                                                    if (query3 != null) {
                                                                                        query3.close();
                                                                                    }
                                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                if (columnIndex2 > 0) {
                                                                                    try {
                                                                                        cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                            do {
                                                                                                str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str42)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor2.moveToNext());
                                                                                        }
                                                                                        if (cursor2 != null) {
                                                                                            cursor2.close();
                                                                                        }
                                                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor2 != null) {
                                                                                            cursor2.close();
                                                                                        }
                                                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor2 != null) {
                                                                                            cursor2.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        if (bi.oW(str42)) {
                                                                            networkCountryIso = ap.fO(str42, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str42.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str42.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str42 = str42.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                        }
                                                                        return str42;
                                                                    }
                                                                    str42 = line1Number;
                                                                    cursor2 = query3;
                                                                    if (bi.oW(str42)) {
                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                            try {
                                                                                query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                if (query3 != null) {
                                                                                    try {
                                                                                        if (query3.moveToFirst()) {
                                                                                            columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                            if (query3 == null) {
                                                                                                query3.close();
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                            if (columnIndex2 > 0) {
                                                                                                try {
                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                        do {
                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor2.moveToNext());
                                                                                                    }
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e7222222222222222222222222) {
                                                                                        e4 = e7222222222222222222222222;
                                                                                        try {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                                columnIndex2 = 0;
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                columnIndex2 = 0;
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                            if (columnIndex2 > 0) {
                                                                                                try {
                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                        do {
                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor2.moveToNext());
                                                                                                    }
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            if (!bi.oW(str42)) {
                                                                                                networkCountryIso = ap.fO(str42, str3);
                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                    if (str42.startsWith("+")) {
                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                                                        str2 = networkCountryIso;
                                                                                                    }
                                                                                                    if (str2 != null) {
                                                                                                        str42 = str42.substring(str2.length());
                                                                                                    }
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                            }
                                                                                            return str42;
                                                                                        } catch (Throwable th3222222222222222222222222) {
                                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222;
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                columnIndex2 = 0;
                                                                                if (query3 == null) {
                                                                                    cursor2 = query3;
                                                                                } else {
                                                                                    query3.close();
                                                                                    cursor2 = query3;
                                                                                }
                                                                            } catch (Exception e8222222222222222222222222) {
                                                                                e4 = e8222222222222222222222222;
                                                                                query3 = cursor2;
                                                                            } catch (Throwable th4222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222;
                                                                                query3 = cursor2;
                                                                                if (query3 != null) {
                                                                                    query3.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                            if (columnIndex2 > 0) {
                                                                                try {
                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                        do {
                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str42)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor2.moveToNext());
                                                                                    }
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    if (bi.oW(str42)) {
                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str42.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str42 = str42.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                    }
                                                                    return str42;
                                                                }
                                                            }
                                                            line1Number = null;
                                                            if (!(query3 == null || query3.isClosed())) {
                                                                query3.close();
                                                                str42 = line1Number;
                                                                cursor2 = query3;
                                                            }
                                                        } catch (Exception e10222222) {
                                                            e2 = e10222222;
                                                            line1Number = null;
                                                            query3 = cursor2;
                                                        } catch (Throwable th6222222) {
                                                            e3222222222222222222222222222222222222222222222222222222222222222222222222222 = th6222222;
                                                            query3 = cursor2;
                                                            if (!(query3 == null || query3.isClosed())) {
                                                                query3.close();
                                                            }
                                                            throw e3222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                        str42 = line1Number;
                                                        cursor2 = query3;
                                                    } else {
                                                        str42 = null;
                                                    }
                                                }
                                                cursor2 = query22;
                                                if (r2 <= 0) {
                                                    str42 = null;
                                                } else {
                                                    try {
                                                        query3 = contentResolver2.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                        if (query3 != null) {
                                                            try {
                                                                if (query3.moveToFirst()) {
                                                                    columnIndex2 = query3.getColumnIndex("data1");
                                                                    if (columnIndex2 != -1) {
                                                                        line1Number = query3.getString(columnIndex2);
                                                                        try {
                                                                            x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                            query3.close();
                                                                        } catch (Exception e62222222) {
                                                                            e2 = e62222222;
                                                                            try {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                                query3.close();
                                                                                str42 = line1Number;
                                                                                cursor2 = query3;
                                                                                if (bi.oW(str42)) {
                                                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                                                        try {
                                                                                            query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                            if (query3 != null) {
                                                                                                try {
                                                                                                    if (query3.moveToFirst()) {
                                                                                                        columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                                        if (query3 == null) {
                                                                                                            query3.close();
                                                                                                            cursor2 = query3;
                                                                                                        } else {
                                                                                                            cursor2 = query3;
                                                                                                        }
                                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                        if (columnIndex2 > 0) {
                                                                                                            try {
                                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                                    do {
                                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                        if (!bi.oW(str42)) {
                                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                            break;
                                                                                                                        }
                                                                                                                    } while (cursor2.moveToNext());
                                                                                                                }
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                } catch (Exception e72222222222222222222222222) {
                                                                                                    e4 = e72222222222222222222222222;
                                                                                                    try {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                        if (query3 != null) {
                                                                                                            query3.close();
                                                                                                            columnIndex2 = 0;
                                                                                                            cursor2 = query3;
                                                                                                        } else {
                                                                                                            columnIndex2 = 0;
                                                                                                            cursor2 = query3;
                                                                                                        }
                                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                        if (columnIndex2 > 0) {
                                                                                                            try {
                                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                                    do {
                                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                        if (!bi.oW(str42)) {
                                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                            break;
                                                                                                                        }
                                                                                                                    } while (cursor2.moveToNext());
                                                                                                                }
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            networkCountryIso = ap.fO(str42, str3);
                                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                                if (str42.startsWith("+")) {
                                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                                } else if (str42.startsWith(networkCountryIso)) {
                                                                                                                    str2 = networkCountryIso;
                                                                                                                }
                                                                                                                if (str2 != null) {
                                                                                                                    str42 = str42.substring(str2.length());
                                                                                                                }
                                                                                                            }
                                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                                        }
                                                                                                        return str42;
                                                                                                    } catch (Throwable th32222222222222222222222222) {
                                                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222;
                                                                                                        if (query3 != null) {
                                                                                                            query3.close();
                                                                                                        }
                                                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            columnIndex2 = 0;
                                                                                            if (query3 == null) {
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                query3.close();
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                        } catch (Exception e82222222222222222222222222) {
                                                                                            e4 = e82222222222222222222222222;
                                                                                            query3 = cursor2;
                                                                                        } catch (Throwable th42222222222222222222222222) {
                                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222;
                                                                                            query3 = cursor2;
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                        if (columnIndex2 > 0) {
                                                                                            try {
                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                    do {
                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor2.moveToNext());
                                                                                                }
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (bi.oW(str42)) {
                                                                                    networkCountryIso = ap.fO(str42, str3);
                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                        if (str42.startsWith("+")) {
                                                                                            str2 = "+" + networkCountryIso;
                                                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                                                            str2 = networkCountryIso;
                                                                                        }
                                                                                        if (str2 != null) {
                                                                                            str42 = str42.substring(str2.length());
                                                                                        }
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                }
                                                                                return str42;
                                                                            } catch (Throwable th52222222) {
                                                                                e3222222222222222222222222222222222222222222222222222222222222222222222222222222 = th52222222;
                                                                                query3.close();
                                                                                throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                line1Number = null;
                                                                query3.close();
                                                            } catch (Exception e92222222) {
                                                                e2 = e92222222;
                                                                line1Number = null;
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                if (!(query3 == null || query3.isClosed())) {
                                                                    query3.close();
                                                                    str42 = line1Number;
                                                                    cursor2 = query3;
                                                                    if (bi.oW(str42)) {
                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                            try {
                                                                                query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                if (query3 != null) {
                                                                                    try {
                                                                                        if (query3.moveToFirst()) {
                                                                                            columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                            if (query3 == null) {
                                                                                                query3.close();
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                            if (columnIndex2 > 0) {
                                                                                                try {
                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                        do {
                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor2.moveToNext());
                                                                                                    }
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e722222222222222222222222222) {
                                                                                        e4 = e722222222222222222222222222;
                                                                                        try {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                                columnIndex2 = 0;
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                columnIndex2 = 0;
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                            if (columnIndex2 > 0) {
                                                                                                try {
                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                        do {
                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor2.moveToNext());
                                                                                                    }
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            if (!bi.oW(str42)) {
                                                                                                networkCountryIso = ap.fO(str42, str3);
                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                    if (str42.startsWith("+")) {
                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                                                        str2 = networkCountryIso;
                                                                                                    }
                                                                                                    if (str2 != null) {
                                                                                                        str42 = str42.substring(str2.length());
                                                                                                    }
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                            }
                                                                                            return str42;
                                                                                        } catch (Throwable th322222222222222222222222222) {
                                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222;
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                columnIndex2 = 0;
                                                                                if (query3 == null) {
                                                                                    cursor2 = query3;
                                                                                } else {
                                                                                    query3.close();
                                                                                    cursor2 = query3;
                                                                                }
                                                                            } catch (Exception e822222222222222222222222222) {
                                                                                e4 = e822222222222222222222222222;
                                                                                query3 = cursor2;
                                                                            } catch (Throwable th422222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222;
                                                                                query3 = cursor2;
                                                                                if (query3 != null) {
                                                                                    query3.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                            if (columnIndex2 > 0) {
                                                                                try {
                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                        do {
                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str42)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor2.moveToNext());
                                                                                    }
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    if (bi.oW(str42)) {
                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str42.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str42 = str42.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                    }
                                                                    return str42;
                                                                }
                                                                str42 = line1Number;
                                                                cursor2 = query3;
                                                                if (bi.oW(str42)) {
                                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                                        try {
                                                                            query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                            if (query3 != null) {
                                                                                try {
                                                                                    if (query3.moveToFirst()) {
                                                                                        columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                        if (query3 == null) {
                                                                                            query3.close();
                                                                                            cursor2 = query3;
                                                                                        } else {
                                                                                            cursor2 = query3;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                        if (columnIndex2 > 0) {
                                                                                            try {
                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                    do {
                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor2.moveToNext());
                                                                                                }
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                } catch (Exception e7222222222222222222222222222) {
                                                                                    e4 = e7222222222222222222222222222;
                                                                                    try {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                        if (query3 != null) {
                                                                                            query3.close();
                                                                                            columnIndex2 = 0;
                                                                                            cursor2 = query3;
                                                                                        } else {
                                                                                            columnIndex2 = 0;
                                                                                            cursor2 = query3;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                        if (columnIndex2 > 0) {
                                                                                            try {
                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                    do {
                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor2.moveToNext());
                                                                                                }
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        if (!bi.oW(str42)) {
                                                                                            networkCountryIso = ap.fO(str42, str3);
                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                if (str42.startsWith("+")) {
                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                } else if (str42.startsWith(networkCountryIso)) {
                                                                                                    str2 = networkCountryIso;
                                                                                                }
                                                                                                if (str2 != null) {
                                                                                                    str42 = str42.substring(str2.length());
                                                                                                }
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                        }
                                                                                        return str42;
                                                                                    } catch (Throwable th3222222222222222222222222222) {
                                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222;
                                                                                        if (query3 != null) {
                                                                                            query3.close();
                                                                                        }
                                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                    }
                                                                                }
                                                                            }
                                                                            columnIndex2 = 0;
                                                                            if (query3 == null) {
                                                                                cursor2 = query3;
                                                                            } else {
                                                                                query3.close();
                                                                                cursor2 = query3;
                                                                            }
                                                                        } catch (Exception e8222222222222222222222222222) {
                                                                            e4 = e8222222222222222222222222222;
                                                                            query3 = cursor2;
                                                                        } catch (Throwable th4222222222222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222;
                                                                            query3 = cursor2;
                                                                            if (query3 != null) {
                                                                                query3.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                        if (columnIndex2 > 0) {
                                                                            try {
                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                    do {
                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str42)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor2.moveToNext());
                                                                                }
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                if (bi.oW(str42)) {
                                                                    networkCountryIso = ap.fO(str42, str3);
                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                    if (!bi.oW(networkCountryIso)) {
                                                                        if (str42.startsWith("+")) {
                                                                            str2 = "+" + networkCountryIso;
                                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                                            str2 = networkCountryIso;
                                                                        }
                                                                        if (str2 != null) {
                                                                            str42 = str42.substring(str2.length());
                                                                        }
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                }
                                                                return str42;
                                                            }
                                                        }
                                                        line1Number = null;
                                                        if (!(query3 == null || query3.isClosed())) {
                                                            query3.close();
                                                            str42 = line1Number;
                                                            cursor2 = query3;
                                                        }
                                                    } catch (Exception e102222222) {
                                                        e2 = e102222222;
                                                        line1Number = null;
                                                        query3 = cursor2;
                                                    } catch (Throwable th62222222) {
                                                        e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th62222222;
                                                        query3 = cursor2;
                                                        if (!(query3 == null || query3.isClosed())) {
                                                            query3.close();
                                                        }
                                                        throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                    }
                                                    str42 = line1Number;
                                                    cursor2 = query3;
                                                }
                                            }
                                        }
                                    } catch (Exception e112) {
                                        e4 = e112;
                                        r2 = 0;
                                        try {
                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                            x.d("MicroMsg.ContactsUtil", "query crashed");
                                            if (!(query22 == null || query22.isClosed())) {
                                                query22.close();
                                                cursor2 = query22;
                                                if (r2 <= 0) {
                                                    str42 = null;
                                                } else {
                                                    try {
                                                        query3 = contentResolver2.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                        if (query3 != null) {
                                                            try {
                                                                if (query3.moveToFirst()) {
                                                                    columnIndex2 = query3.getColumnIndex("data1");
                                                                    if (columnIndex2 != -1) {
                                                                        line1Number = query3.getString(columnIndex2);
                                                                        try {
                                                                            x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                            query3.close();
                                                                        } catch (Exception e622222222) {
                                                                            e2 = e622222222;
                                                                            try {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                                query3.close();
                                                                                str42 = line1Number;
                                                                                cursor2 = query3;
                                                                                if (bi.oW(str42)) {
                                                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                                                        try {
                                                                                            query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                            if (query3 != null) {
                                                                                                try {
                                                                                                    if (query3.moveToFirst()) {
                                                                                                        columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                                        if (query3 == null) {
                                                                                                            query3.close();
                                                                                                            cursor2 = query3;
                                                                                                        } else {
                                                                                                            cursor2 = query3;
                                                                                                        }
                                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                        if (columnIndex2 > 0) {
                                                                                                            try {
                                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                                    do {
                                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                        if (!bi.oW(str42)) {
                                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                            break;
                                                                                                                        }
                                                                                                                    } while (cursor2.moveToNext());
                                                                                                                }
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                } catch (Exception e72222222222222222222222222222) {
                                                                                                    e4 = e72222222222222222222222222222;
                                                                                                    try {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                        if (query3 != null) {
                                                                                                            query3.close();
                                                                                                            columnIndex2 = 0;
                                                                                                            cursor2 = query3;
                                                                                                        } else {
                                                                                                            columnIndex2 = 0;
                                                                                                            cursor2 = query3;
                                                                                                        }
                                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                        if (columnIndex2 > 0) {
                                                                                                            try {
                                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                                    do {
                                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                        if (!bi.oW(str42)) {
                                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                            break;
                                                                                                                        }
                                                                                                                    } while (cursor2.moveToNext());
                                                                                                                }
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                                if (cursor2 != null) {
                                                                                                                    cursor2.close();
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            networkCountryIso = ap.fO(str42, str3);
                                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                                if (str42.startsWith("+")) {
                                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                                } else if (str42.startsWith(networkCountryIso)) {
                                                                                                                    str2 = networkCountryIso;
                                                                                                                }
                                                                                                                if (str2 != null) {
                                                                                                                    str42 = str42.substring(str2.length());
                                                                                                                }
                                                                                                            }
                                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                                        }
                                                                                                        return str42;
                                                                                                    } catch (Throwable th32222222222222222222222222222) {
                                                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222;
                                                                                                        if (query3 != null) {
                                                                                                            query3.close();
                                                                                                        }
                                                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            columnIndex2 = 0;
                                                                                            if (query3 == null) {
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                query3.close();
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                        } catch (Exception e82222222222222222222222222222) {
                                                                                            e4 = e82222222222222222222222222222;
                                                                                            query3 = cursor2;
                                                                                        } catch (Throwable th42222222222222222222222222222) {
                                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222;
                                                                                            query3 = cursor2;
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                        if (columnIndex2 > 0) {
                                                                                            try {
                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                    do {
                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor2.moveToNext());
                                                                                                }
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (bi.oW(str42)) {
                                                                                    networkCountryIso = ap.fO(str42, str3);
                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                        if (str42.startsWith("+")) {
                                                                                            str2 = "+" + networkCountryIso;
                                                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                                                            str2 = networkCountryIso;
                                                                                        }
                                                                                        if (str2 != null) {
                                                                                            str42 = str42.substring(str2.length());
                                                                                        }
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                }
                                                                                return str42;
                                                                            } catch (Throwable th522222222) {
                                                                                e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th522222222;
                                                                                query3.close();
                                                                                throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                line1Number = null;
                                                                query3.close();
                                                            } catch (Exception e922222222) {
                                                                e2 = e922222222;
                                                                line1Number = null;
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                if (!(query3 == null || query3.isClosed())) {
                                                                    query3.close();
                                                                    str42 = line1Number;
                                                                    cursor2 = query3;
                                                                    if (bi.oW(str42)) {
                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                            try {
                                                                                query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                if (query3 != null) {
                                                                                    try {
                                                                                        if (query3.moveToFirst()) {
                                                                                            columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                            if (query3 == null) {
                                                                                                query3.close();
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                            if (columnIndex2 > 0) {
                                                                                                try {
                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                        do {
                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor2.moveToNext());
                                                                                                    }
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e722222222222222222222222222222) {
                                                                                        e4 = e722222222222222222222222222222;
                                                                                        try {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                                columnIndex2 = 0;
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                columnIndex2 = 0;
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                            if (columnIndex2 > 0) {
                                                                                                try {
                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                        do {
                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor2.moveToNext());
                                                                                                    }
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            if (!bi.oW(str42)) {
                                                                                                networkCountryIso = ap.fO(str42, str3);
                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                    if (str42.startsWith("+")) {
                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                                                        str2 = networkCountryIso;
                                                                                                    }
                                                                                                    if (str2 != null) {
                                                                                                        str42 = str42.substring(str2.length());
                                                                                                    }
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                            }
                                                                                            return str42;
                                                                                        } catch (Throwable th322222222222222222222222222222) {
                                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222;
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                columnIndex2 = 0;
                                                                                if (query3 == null) {
                                                                                    cursor2 = query3;
                                                                                } else {
                                                                                    query3.close();
                                                                                    cursor2 = query3;
                                                                                }
                                                                            } catch (Exception e822222222222222222222222222222) {
                                                                                e4 = e822222222222222222222222222222;
                                                                                query3 = cursor2;
                                                                            } catch (Throwable th422222222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222;
                                                                                query3 = cursor2;
                                                                                if (query3 != null) {
                                                                                    query3.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                            if (columnIndex2 > 0) {
                                                                                try {
                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                        do {
                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str42)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor2.moveToNext());
                                                                                    }
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    if (bi.oW(str42)) {
                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str42.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str42 = str42.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                    }
                                                                    return str42;
                                                                }
                                                                str42 = line1Number;
                                                                cursor2 = query3;
                                                                if (bi.oW(str42)) {
                                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                                        try {
                                                                            query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                            if (query3 != null) {
                                                                                try {
                                                                                    if (query3.moveToFirst()) {
                                                                                        columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                        if (query3 == null) {
                                                                                            query3.close();
                                                                                            cursor2 = query3;
                                                                                        } else {
                                                                                            cursor2 = query3;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                        if (columnIndex2 > 0) {
                                                                                            try {
                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                    do {
                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor2.moveToNext());
                                                                                                }
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                } catch (Exception e7222222222222222222222222222222) {
                                                                                    e4 = e7222222222222222222222222222222;
                                                                                    try {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                        if (query3 != null) {
                                                                                            query3.close();
                                                                                            columnIndex2 = 0;
                                                                                            cursor2 = query3;
                                                                                        } else {
                                                                                            columnIndex2 = 0;
                                                                                            cursor2 = query3;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                        if (columnIndex2 > 0) {
                                                                                            try {
                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                    do {
                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor2.moveToNext());
                                                                                                }
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        if (!bi.oW(str42)) {
                                                                                            networkCountryIso = ap.fO(str42, str3);
                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                if (str42.startsWith("+")) {
                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                } else if (str42.startsWith(networkCountryIso)) {
                                                                                                    str2 = networkCountryIso;
                                                                                                }
                                                                                                if (str2 != null) {
                                                                                                    str42 = str42.substring(str2.length());
                                                                                                }
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                        }
                                                                                        return str42;
                                                                                    } catch (Throwable th3222222222222222222222222222222) {
                                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222;
                                                                                        if (query3 != null) {
                                                                                            query3.close();
                                                                                        }
                                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                    }
                                                                                }
                                                                            }
                                                                            columnIndex2 = 0;
                                                                            if (query3 == null) {
                                                                                cursor2 = query3;
                                                                            } else {
                                                                                query3.close();
                                                                                cursor2 = query3;
                                                                            }
                                                                        } catch (Exception e8222222222222222222222222222222) {
                                                                            e4 = e8222222222222222222222222222222;
                                                                            query3 = cursor2;
                                                                        } catch (Throwable th4222222222222222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222;
                                                                            query3 = cursor2;
                                                                            if (query3 != null) {
                                                                                query3.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                        if (columnIndex2 > 0) {
                                                                            try {
                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                    do {
                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str42)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor2.moveToNext());
                                                                                }
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                if (bi.oW(str42)) {
                                                                    networkCountryIso = ap.fO(str42, str3);
                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                    if (!bi.oW(networkCountryIso)) {
                                                                        if (str42.startsWith("+")) {
                                                                            str2 = "+" + networkCountryIso;
                                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                                            str2 = networkCountryIso;
                                                                        }
                                                                        if (str2 != null) {
                                                                            str42 = str42.substring(str2.length());
                                                                        }
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                }
                                                                return str42;
                                                            }
                                                        }
                                                        line1Number = null;
                                                        if (!(query3 == null || query3.isClosed())) {
                                                            query3.close();
                                                            str42 = line1Number;
                                                            cursor2 = query3;
                                                        }
                                                    } catch (Exception e1022222222) {
                                                        e2 = e1022222222;
                                                        line1Number = null;
                                                        query3 = cursor2;
                                                    } catch (Throwable th622222222) {
                                                        e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th622222222;
                                                        query3 = cursor2;
                                                        if (!(query3 == null || query3.isClosed())) {
                                                            query3.close();
                                                        }
                                                        throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                    }
                                                    str42 = line1Number;
                                                    cursor2 = query3;
                                                }
                                                if (bi.oW(str42)) {
                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                        try {
                                                            query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                            if (query3 != null) {
                                                                try {
                                                                    if (query3.moveToFirst()) {
                                                                        columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                        if (query3 == null) {
                                                                            query3.close();
                                                                            cursor2 = query3;
                                                                        } else {
                                                                            cursor2 = query3;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                        if (columnIndex2 > 0) {
                                                                            try {
                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                    do {
                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str42)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor2.moveToNext());
                                                                                }
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                } catch (Exception e72222222222222222222222222222222) {
                                                                    e4 = e72222222222222222222222222222222;
                                                                    try {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                        if (query3 != null) {
                                                                            query3.close();
                                                                            columnIndex2 = 0;
                                                                            cursor2 = query3;
                                                                        } else {
                                                                            columnIndex2 = 0;
                                                                            cursor2 = query3;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                        if (columnIndex2 > 0) {
                                                                            try {
                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                    do {
                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str42)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor2.moveToNext());
                                                                                }
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            }
                                                                        }
                                                                        if (!bi.oW(str42)) {
                                                                            networkCountryIso = ap.fO(str42, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str42.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str42.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str42 = str42.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                        }
                                                                        return str42;
                                                                    } catch (Throwable th32222222222222222222222222222222) {
                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222;
                                                                        if (query3 != null) {
                                                                            query3.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                    }
                                                                }
                                                            }
                                                            columnIndex2 = 0;
                                                            if (query3 == null) {
                                                                cursor2 = query3;
                                                            } else {
                                                                query3.close();
                                                                cursor2 = query3;
                                                            }
                                                        } catch (Exception e82222222222222222222222222222222) {
                                                            e4 = e82222222222222222222222222222222;
                                                            query3 = cursor2;
                                                        } catch (Throwable th42222222222222222222222222222222) {
                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222;
                                                            query3 = cursor2;
                                                            if (query3 != null) {
                                                                query3.close();
                                                            }
                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                        if (columnIndex2 > 0) {
                                                            try {
                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                    do {
                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                        if (!bi.oW(str42)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                            break;
                                                                        }
                                                                    } while (cursor2.moveToNext());
                                                                }
                                                                if (cursor2 != null) {
                                                                    cursor2.close();
                                                                }
                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor2 != null) {
                                                                    cursor2.close();
                                                                }
                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                if (cursor2 != null) {
                                                                    cursor2.close();
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                if (bi.oW(str42)) {
                                                    networkCountryIso = ap.fO(str42, str3);
                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                    if (!bi.oW(networkCountryIso)) {
                                                        if (str42.startsWith("+")) {
                                                            str2 = "+" + networkCountryIso;
                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                            str2 = networkCountryIso;
                                                        }
                                                        if (str2 != null) {
                                                            str42 = str42.substring(str2.length());
                                                        }
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                }
                                                return str42;
                                            }
                                            cursor2 = query22;
                                            if (r2 <= 0) {
                                                try {
                                                    query3 = contentResolver2.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                    if (query3 != null) {
                                                        try {
                                                            if (query3.moveToFirst()) {
                                                                columnIndex2 = query3.getColumnIndex("data1");
                                                                if (columnIndex2 != -1) {
                                                                    line1Number = query3.getString(columnIndex2);
                                                                    try {
                                                                        x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                        query3.close();
                                                                    } catch (Exception e6222222222) {
                                                                        e2 = e6222222222;
                                                                        try {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                            x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                            query3.close();
                                                                            str42 = line1Number;
                                                                            cursor2 = query3;
                                                                            if (bi.oW(str42)) {
                                                                                if (!bi.oW(G(context, x.cg(context)))) {
                                                                                    try {
                                                                                        query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                        if (query3 != null) {
                                                                                            try {
                                                                                                if (query3.moveToFirst()) {
                                                                                                    columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                                    if (query3 == null) {
                                                                                                        query3.close();
                                                                                                        cursor2 = query3;
                                                                                                    } else {
                                                                                                        cursor2 = query3;
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                    if (columnIndex2 > 0) {
                                                                                                        try {
                                                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                                do {
                                                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                    if (!bi.oW(str42)) {
                                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                        break;
                                                                                                                    }
                                                                                                                } while (cursor2.moveToNext());
                                                                                                            }
                                                                                                            if (cursor2 != null) {
                                                                                                                cursor2.close();
                                                                                                            }
                                                                                                        } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                            if (cursor2 != null) {
                                                                                                                cursor2.close();
                                                                                                            }
                                                                                                        } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                            if (cursor2 != null) {
                                                                                                                cursor2.close();
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            } catch (Exception e722222222222222222222222222222222) {
                                                                                                e4 = e722222222222222222222222222222222;
                                                                                                try {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                    if (query3 != null) {
                                                                                                        query3.close();
                                                                                                        columnIndex2 = 0;
                                                                                                        cursor2 = query3;
                                                                                                    } else {
                                                                                                        columnIndex2 = 0;
                                                                                                        cursor2 = query3;
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                                    if (columnIndex2 > 0) {
                                                                                                        try {
                                                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                                do {
                                                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                                    if (!bi.oW(str42)) {
                                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                        break;
                                                                                                                    }
                                                                                                                } while (cursor2.moveToNext());
                                                                                                            }
                                                                                                            if (cursor2 != null) {
                                                                                                                cursor2.close();
                                                                                                            }
                                                                                                        } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                            if (cursor2 != null) {
                                                                                                                cursor2.close();
                                                                                                            }
                                                                                                        } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                            if (cursor2 != null) {
                                                                                                                cursor2.close();
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                    if (!bi.oW(str42)) {
                                                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                                        if (!bi.oW(networkCountryIso)) {
                                                                                                            if (str42.startsWith("+")) {
                                                                                                                str2 = "+" + networkCountryIso;
                                                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                                                str2 = networkCountryIso;
                                                                                                            }
                                                                                                            if (str2 != null) {
                                                                                                                str42 = str42.substring(str2.length());
                                                                                                            }
                                                                                                        }
                                                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                                    }
                                                                                                    return str42;
                                                                                                } catch (Throwable th322222222222222222222222222222222) {
                                                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222;
                                                                                                    if (query3 != null) {
                                                                                                        query3.close();
                                                                                                    }
                                                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        columnIndex2 = 0;
                                                                                        if (query3 == null) {
                                                                                            cursor2 = query3;
                                                                                        } else {
                                                                                            query3.close();
                                                                                            cursor2 = query3;
                                                                                        }
                                                                                    } catch (Exception e822222222222222222222222222222222) {
                                                                                        e4 = e822222222222222222222222222222222;
                                                                                        query3 = cursor2;
                                                                                    } catch (Throwable th422222222222222222222222222222222) {
                                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222;
                                                                                        query3 = cursor2;
                                                                                        if (query3 != null) {
                                                                                            query3.close();
                                                                                        }
                                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                    if (columnIndex2 > 0) {
                                                                                        try {
                                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                do {
                                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str42)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor2.moveToNext());
                                                                                            }
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (bi.oW(str42)) {
                                                                                networkCountryIso = ap.fO(str42, str3);
                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                    if (str42.startsWith("+")) {
                                                                                        str2 = "+" + networkCountryIso;
                                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                                        str2 = networkCountryIso;
                                                                                    }
                                                                                    if (str2 != null) {
                                                                                        str42 = str42.substring(str2.length());
                                                                                    }
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                            }
                                                                            return str42;
                                                                        } catch (Throwable th5222222222) {
                                                                            e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th5222222222;
                                                                            query3.close();
                                                                            throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            line1Number = null;
                                                            query3.close();
                                                        } catch (Exception e9222222222) {
                                                            e2 = e9222222222;
                                                            line1Number = null;
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                            x.d("MicroMsg.ContactsUtil", "query crashed");
                                                            if (!(query3 == null || query3.isClosed())) {
                                                                query3.close();
                                                                str42 = line1Number;
                                                                cursor2 = query3;
                                                                if (bi.oW(str42)) {
                                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                                        try {
                                                                            query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                            if (query3 != null) {
                                                                                try {
                                                                                    if (query3.moveToFirst()) {
                                                                                        columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                        if (query3 == null) {
                                                                                            query3.close();
                                                                                            cursor2 = query3;
                                                                                        } else {
                                                                                            cursor2 = query3;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                        if (columnIndex2 > 0) {
                                                                                            try {
                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                    do {
                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor2.moveToNext());
                                                                                                }
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                } catch (Exception e7222222222222222222222222222222222) {
                                                                                    e4 = e7222222222222222222222222222222222;
                                                                                    try {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                        if (query3 != null) {
                                                                                            query3.close();
                                                                                            columnIndex2 = 0;
                                                                                            cursor2 = query3;
                                                                                        } else {
                                                                                            columnIndex2 = 0;
                                                                                            cursor2 = query3;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                        if (columnIndex2 > 0) {
                                                                                            try {
                                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                    do {
                                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str42)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor2.moveToNext());
                                                                                                }
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor2 != null) {
                                                                                                    cursor2.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        if (!bi.oW(str42)) {
                                                                                            networkCountryIso = ap.fO(str42, str3);
                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                if (str42.startsWith("+")) {
                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                } else if (str42.startsWith(networkCountryIso)) {
                                                                                                    str2 = networkCountryIso;
                                                                                                }
                                                                                                if (str2 != null) {
                                                                                                    str42 = str42.substring(str2.length());
                                                                                                }
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                        }
                                                                                        return str42;
                                                                                    } catch (Throwable th3222222222222222222222222222222222) {
                                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222;
                                                                                        if (query3 != null) {
                                                                                            query3.close();
                                                                                        }
                                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                    }
                                                                                }
                                                                            }
                                                                            columnIndex2 = 0;
                                                                            if (query3 == null) {
                                                                                cursor2 = query3;
                                                                            } else {
                                                                                query3.close();
                                                                                cursor2 = query3;
                                                                            }
                                                                        } catch (Exception e8222222222222222222222222222222222) {
                                                                            e4 = e8222222222222222222222222222222222;
                                                                            query3 = cursor2;
                                                                        } catch (Throwable th4222222222222222222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222;
                                                                            query3 = cursor2;
                                                                            if (query3 != null) {
                                                                                query3.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                        if (columnIndex2 > 0) {
                                                                            try {
                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                    do {
                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str42)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor2.moveToNext());
                                                                                }
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                if (bi.oW(str42)) {
                                                                    networkCountryIso = ap.fO(str42, str3);
                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                    if (!bi.oW(networkCountryIso)) {
                                                                        if (str42.startsWith("+")) {
                                                                            str2 = "+" + networkCountryIso;
                                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                                            str2 = networkCountryIso;
                                                                        }
                                                                        if (str2 != null) {
                                                                            str42 = str42.substring(str2.length());
                                                                        }
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                }
                                                                return str42;
                                                            }
                                                            str42 = line1Number;
                                                            cursor2 = query3;
                                                            if (bi.oW(str42)) {
                                                                if (!bi.oW(G(context, x.cg(context)))) {
                                                                    try {
                                                                        query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                        if (query3 != null) {
                                                                            try {
                                                                                if (query3.moveToFirst()) {
                                                                                    columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                    if (query3 == null) {
                                                                                        query3.close();
                                                                                        cursor2 = query3;
                                                                                    } else {
                                                                                        cursor2 = query3;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                    if (columnIndex2 > 0) {
                                                                                        try {
                                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                do {
                                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str42)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor2.moveToNext());
                                                                                            }
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            } catch (Exception e72222222222222222222222222222222222) {
                                                                                e4 = e72222222222222222222222222222222222;
                                                                                try {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                    if (query3 != null) {
                                                                                        query3.close();
                                                                                        columnIndex2 = 0;
                                                                                        cursor2 = query3;
                                                                                    } else {
                                                                                        columnIndex2 = 0;
                                                                                        cursor2 = query3;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                    if (columnIndex2 > 0) {
                                                                                        try {
                                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                do {
                                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str42)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor2.moveToNext());
                                                                                            }
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (!bi.oW(str42)) {
                                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                        if (!bi.oW(networkCountryIso)) {
                                                                                            if (str42.startsWith("+")) {
                                                                                                str2 = "+" + networkCountryIso;
                                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                                str2 = networkCountryIso;
                                                                                            }
                                                                                            if (str2 != null) {
                                                                                                str42 = str42.substring(str2.length());
                                                                                            }
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                    }
                                                                                    return str42;
                                                                                } catch (Throwable th32222222222222222222222222222222222) {
                                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222;
                                                                                    if (query3 != null) {
                                                                                        query3.close();
                                                                                    }
                                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                }
                                                                            }
                                                                        }
                                                                        columnIndex2 = 0;
                                                                        if (query3 == null) {
                                                                            cursor2 = query3;
                                                                        } else {
                                                                            query3.close();
                                                                            cursor2 = query3;
                                                                        }
                                                                    } catch (Exception e82222222222222222222222222222222222) {
                                                                        e4 = e82222222222222222222222222222222222;
                                                                        query3 = cursor2;
                                                                    } catch (Throwable th42222222222222222222222222222222222) {
                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222;
                                                                        query3 = cursor2;
                                                                        if (query3 != null) {
                                                                            query3.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                    if (columnIndex2 > 0) {
                                                                        try {
                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                do {
                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str42)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor2.moveToNext());
                                                                            }
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            if (bi.oW(str42)) {
                                                                networkCountryIso = ap.fO(str42, str3);
                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                if (!bi.oW(networkCountryIso)) {
                                                                    if (str42.startsWith("+")) {
                                                                        str2 = "+" + networkCountryIso;
                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                        str2 = networkCountryIso;
                                                                    }
                                                                    if (str2 != null) {
                                                                        str42 = str42.substring(str2.length());
                                                                    }
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                            }
                                                            return str42;
                                                        }
                                                    }
                                                    line1Number = null;
                                                    if (!(query3 == null || query3.isClosed())) {
                                                        query3.close();
                                                        str42 = line1Number;
                                                        cursor2 = query3;
                                                    }
                                                } catch (Exception e10222222222) {
                                                    e2 = e10222222222;
                                                    line1Number = null;
                                                    query3 = cursor2;
                                                } catch (Throwable th6222222222) {
                                                    e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th6222222222;
                                                    query3 = cursor2;
                                                    if (!(query3 == null || query3.isClosed())) {
                                                        query3.close();
                                                    }
                                                    throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                }
                                                str42 = line1Number;
                                                cursor2 = query3;
                                            } else {
                                                str42 = null;
                                            }
                                            if (bi.oW(str42)) {
                                                if (!bi.oW(G(context, x.cg(context)))) {
                                                    try {
                                                        query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                        if (query3 != null) {
                                                            try {
                                                                if (query3.moveToFirst()) {
                                                                    columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                    if (query3 == null) {
                                                                        query3.close();
                                                                        cursor2 = query3;
                                                                    } else {
                                                                        cursor2 = query3;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                    if (columnIndex2 > 0) {
                                                                        try {
                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                do {
                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str42)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor2.moveToNext());
                                                                            }
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            } catch (Exception e722222222222222222222222222222222222) {
                                                                e4 = e722222222222222222222222222222222222;
                                                                try {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                    if (query3 != null) {
                                                                        query3.close();
                                                                        columnIndex2 = 0;
                                                                        cursor2 = query3;
                                                                    } else {
                                                                        columnIndex2 = 0;
                                                                        cursor2 = query3;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                    if (columnIndex2 > 0) {
                                                                        try {
                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                do {
                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str42)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor2.moveToNext());
                                                                            }
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        }
                                                                    }
                                                                    if (!bi.oW(str42)) {
                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str42.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str42 = str42.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                    }
                                                                    return str42;
                                                                } catch (Throwable th322222222222222222222222222222222222) {
                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222;
                                                                    if (query3 != null) {
                                                                        query3.close();
                                                                    }
                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                            }
                                                        }
                                                        columnIndex2 = 0;
                                                        if (query3 == null) {
                                                            cursor2 = query3;
                                                        } else {
                                                            query3.close();
                                                            cursor2 = query3;
                                                        }
                                                    } catch (Exception e822222222222222222222222222222222222) {
                                                        e4 = e822222222222222222222222222222222222;
                                                        query3 = cursor2;
                                                    } catch (Throwable th422222222222222222222222222222222222) {
                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222;
                                                        query3 = cursor2;
                                                        if (query3 != null) {
                                                            query3.close();
                                                        }
                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                    if (columnIndex2 > 0) {
                                                        try {
                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                do {
                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                    if (!bi.oW(str42)) {
                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                        break;
                                                                    }
                                                                } while (cursor2.moveToNext());
                                                            }
                                                            if (cursor2 != null) {
                                                                cursor2.close();
                                                            }
                                                        } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                            if (cursor2 != null) {
                                                                cursor2.close();
                                                            }
                                                        } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                            if (cursor2 != null) {
                                                                cursor2.close();
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                            if (bi.oW(str42)) {
                                                networkCountryIso = ap.fO(str42, str3);
                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                if (!bi.oW(networkCountryIso)) {
                                                    if (str42.startsWith("+")) {
                                                        str2 = "+" + networkCountryIso;
                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                        str2 = networkCountryIso;
                                                    }
                                                    if (str2 != null) {
                                                        str42 = str42.substring(str2.length());
                                                    }
                                                }
                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                            }
                                            return str42;
                                        } catch (Throwable th72) {
                                            e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th72;
                                            query22.close();
                                            throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                        }
                                    }
                                }
                                r2 = 0;
                                try {
                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + r2);
                                    query22.close();
                                    cursor2 = query22;
                                } catch (Exception e122) {
                                    e4 = e122;
                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                    query22.close();
                                    cursor2 = query22;
                                    if (r2 <= 0) {
                                        str42 = null;
                                    } else {
                                        try {
                                            query3 = contentResolver2.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                            if (query3 != null) {
                                                try {
                                                    if (query3.moveToFirst()) {
                                                        columnIndex2 = query3.getColumnIndex("data1");
                                                        if (columnIndex2 != -1) {
                                                            line1Number = query3.getString(columnIndex2);
                                                            try {
                                                                x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                query3.close();
                                                            } catch (Exception e62222222222) {
                                                                e2 = e62222222222;
                                                                try {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                    query3.close();
                                                                    str42 = line1Number;
                                                                    cursor2 = query3;
                                                                    if (bi.oW(str42)) {
                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                            try {
                                                                                query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                if (query3 != null) {
                                                                                    try {
                                                                                        if (query3.moveToFirst()) {
                                                                                            columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                            if (query3 == null) {
                                                                                                query3.close();
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                            if (columnIndex2 > 0) {
                                                                                                try {
                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                        do {
                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor2.moveToNext());
                                                                                                    }
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e7222222222222222222222222222222222222) {
                                                                                        e4 = e7222222222222222222222222222222222222;
                                                                                        try {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                                columnIndex2 = 0;
                                                                                                cursor2 = query3;
                                                                                            } else {
                                                                                                columnIndex2 = 0;
                                                                                                cursor2 = query3;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                            if (columnIndex2 > 0) {
                                                                                                try {
                                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                        do {
                                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str42)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor2.moveToNext());
                                                                                                    }
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor2 != null) {
                                                                                                        cursor2.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            if (!bi.oW(str42)) {
                                                                                                networkCountryIso = ap.fO(str42, str3);
                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                    if (str42.startsWith("+")) {
                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                                                        str2 = networkCountryIso;
                                                                                                    }
                                                                                                    if (str2 != null) {
                                                                                                        str42 = str42.substring(str2.length());
                                                                                                    }
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                            }
                                                                                            return str42;
                                                                                        } catch (Throwable th3222222222222222222222222222222222222) {
                                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222;
                                                                                            if (query3 != null) {
                                                                                                query3.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                columnIndex2 = 0;
                                                                                if (query3 == null) {
                                                                                    cursor2 = query3;
                                                                                } else {
                                                                                    query3.close();
                                                                                    cursor2 = query3;
                                                                                }
                                                                            } catch (Exception e8222222222222222222222222222222222222) {
                                                                                e4 = e8222222222222222222222222222222222222;
                                                                                query3 = cursor2;
                                                                            } catch (Throwable th4222222222222222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222;
                                                                                query3 = cursor2;
                                                                                if (query3 != null) {
                                                                                    query3.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                            if (columnIndex2 > 0) {
                                                                                try {
                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                        do {
                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str42)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor2.moveToNext());
                                                                                    }
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    if (bi.oW(str42)) {
                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str42.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str42 = str42.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                    }
                                                                    return str42;
                                                                } catch (Throwable th52222222222) {
                                                                    e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th52222222222;
                                                                    query3.close();
                                                                    throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    line1Number = null;
                                                    query3.close();
                                                } catch (Exception e92222222222) {
                                                    e2 = e92222222222;
                                                    line1Number = null;
                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                    if (!(query3 == null || query3.isClosed())) {
                                                        query3.close();
                                                        str42 = line1Number;
                                                        cursor2 = query3;
                                                        if (bi.oW(str42)) {
                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                try {
                                                                    query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                    if (query3 != null) {
                                                                        try {
                                                                            if (query3.moveToFirst()) {
                                                                                columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                if (query3 == null) {
                                                                                    query3.close();
                                                                                    cursor2 = query3;
                                                                                } else {
                                                                                    cursor2 = query3;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                if (columnIndex2 > 0) {
                                                                                    try {
                                                                                        cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                            do {
                                                                                                str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str42)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor2.moveToNext());
                                                                                        }
                                                                                        if (cursor2 != null) {
                                                                                            cursor2.close();
                                                                                        }
                                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor2 != null) {
                                                                                            cursor2.close();
                                                                                        }
                                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor2 != null) {
                                                                                            cursor2.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        } catch (Exception e72222222222222222222222222222222222222) {
                                                                            e4 = e72222222222222222222222222222222222222;
                                                                            try {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                if (query3 != null) {
                                                                                    query3.close();
                                                                                    columnIndex2 = 0;
                                                                                    cursor2 = query3;
                                                                                } else {
                                                                                    columnIndex2 = 0;
                                                                                    cursor2 = query3;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                if (columnIndex2 > 0) {
                                                                                    try {
                                                                                        cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                            do {
                                                                                                str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str42)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor2.moveToNext());
                                                                                        }
                                                                                        if (cursor2 != null) {
                                                                                            cursor2.close();
                                                                                        }
                                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor2 != null) {
                                                                                            cursor2.close();
                                                                                        }
                                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor2 != null) {
                                                                                            cursor2.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (!bi.oW(str42)) {
                                                                                    networkCountryIso = ap.fO(str42, str3);
                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                        if (str42.startsWith("+")) {
                                                                                            str2 = "+" + networkCountryIso;
                                                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                                                            str2 = networkCountryIso;
                                                                                        }
                                                                                        if (str2 != null) {
                                                                                            str42 = str42.substring(str2.length());
                                                                                        }
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                }
                                                                                return str42;
                                                                            } catch (Throwable th32222222222222222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222;
                                                                                if (query3 != null) {
                                                                                    query3.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                        }
                                                                    }
                                                                    columnIndex2 = 0;
                                                                    if (query3 == null) {
                                                                        cursor2 = query3;
                                                                    } else {
                                                                        query3.close();
                                                                        cursor2 = query3;
                                                                    }
                                                                } catch (Exception e82222222222222222222222222222222222222) {
                                                                    e4 = e82222222222222222222222222222222222222;
                                                                    query3 = cursor2;
                                                                } catch (Throwable th42222222222222222222222222222222222222) {
                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222;
                                                                    query3 = cursor2;
                                                                    if (query3 != null) {
                                                                        query3.close();
                                                                    }
                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                if (columnIndex2 > 0) {
                                                                    try {
                                                                        cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor2 != null && cursor2.moveToFirst()) {
                                                                            do {
                                                                                str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                if (!bi.oW(str42)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                    break;
                                                                                }
                                                                            } while (cursor2.moveToNext());
                                                                        }
                                                                        if (cursor2 != null) {
                                                                            cursor2.close();
                                                                        }
                                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor2 != null) {
                                                                            cursor2.close();
                                                                        }
                                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        if (cursor2 != null) {
                                                                            cursor2.close();
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        if (bi.oW(str42)) {
                                                            networkCountryIso = ap.fO(str42, str3);
                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                            if (!bi.oW(networkCountryIso)) {
                                                                if (str42.startsWith("+")) {
                                                                    str2 = "+" + networkCountryIso;
                                                                } else if (str42.startsWith(networkCountryIso)) {
                                                                    str2 = networkCountryIso;
                                                                }
                                                                if (str2 != null) {
                                                                    str42 = str42.substring(str2.length());
                                                                }
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                        }
                                                        return str42;
                                                    }
                                                    str42 = line1Number;
                                                    cursor2 = query3;
                                                    if (bi.oW(str42)) {
                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                            try {
                                                                query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                if (query3 != null) {
                                                                    try {
                                                                        if (query3.moveToFirst()) {
                                                                            columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                            if (query3 == null) {
                                                                                query3.close();
                                                                                cursor2 = query3;
                                                                            } else {
                                                                                cursor2 = query3;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                            if (columnIndex2 > 0) {
                                                                                try {
                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                        do {
                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str42)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor2.moveToNext());
                                                                                    }
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    } catch (Exception e722222222222222222222222222222222222222) {
                                                                        e4 = e722222222222222222222222222222222222222;
                                                                        try {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                            if (query3 != null) {
                                                                                query3.close();
                                                                                columnIndex2 = 0;
                                                                                cursor2 = query3;
                                                                            } else {
                                                                                columnIndex2 = 0;
                                                                                cursor2 = query3;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                            if (columnIndex2 > 0) {
                                                                                try {
                                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                        do {
                                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str42)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor2.moveToNext());
                                                                                    }
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor2 != null) {
                                                                                        cursor2.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (!bi.oW(str42)) {
                                                                                networkCountryIso = ap.fO(str42, str3);
                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                    if (str42.startsWith("+")) {
                                                                                        str2 = "+" + networkCountryIso;
                                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                                        str2 = networkCountryIso;
                                                                                    }
                                                                                    if (str2 != null) {
                                                                                        str42 = str42.substring(str2.length());
                                                                                    }
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                            }
                                                                            return str42;
                                                                        } catch (Throwable th322222222222222222222222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222;
                                                                            if (query3 != null) {
                                                                                query3.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                    }
                                                                }
                                                                columnIndex2 = 0;
                                                                if (query3 == null) {
                                                                    cursor2 = query3;
                                                                } else {
                                                                    query3.close();
                                                                    cursor2 = query3;
                                                                }
                                                            } catch (Exception e822222222222222222222222222222222222222) {
                                                                e4 = e822222222222222222222222222222222222222;
                                                                query3 = cursor2;
                                                            } catch (Throwable th422222222222222222222222222222222222222) {
                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222;
                                                                query3 = cursor2;
                                                                if (query3 != null) {
                                                                    query3.close();
                                                                }
                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                            if (columnIndex2 > 0) {
                                                                try {
                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                        do {
                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                            if (!bi.oW(str42)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                break;
                                                                            }
                                                                        } while (cursor2.moveToNext());
                                                                    }
                                                                    if (cursor2 != null) {
                                                                        cursor2.close();
                                                                    }
                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor2 != null) {
                                                                        cursor2.close();
                                                                    }
                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor2 != null) {
                                                                        cursor2.close();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                    if (bi.oW(str42)) {
                                                        networkCountryIso = ap.fO(str42, str3);
                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                        if (!bi.oW(networkCountryIso)) {
                                                            if (str42.startsWith("+")) {
                                                                str2 = "+" + networkCountryIso;
                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                str2 = networkCountryIso;
                                                            }
                                                            if (str2 != null) {
                                                                str42 = str42.substring(str2.length());
                                                            }
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                    }
                                                    return str42;
                                                }
                                            }
                                            line1Number = null;
                                            if (!(query3 == null || query3.isClosed())) {
                                                query3.close();
                                                str42 = line1Number;
                                                cursor2 = query3;
                                            }
                                        } catch (Exception e102222222222) {
                                            e2 = e102222222222;
                                            line1Number = null;
                                            query3 = cursor2;
                                        } catch (Throwable th62222222222) {
                                            e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th62222222222;
                                            query3 = cursor2;
                                            if (!(query3 == null || query3.isClosed())) {
                                                query3.close();
                                            }
                                            throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                        }
                                        str42 = line1Number;
                                        cursor2 = query3;
                                    }
                                    if (bi.oW(str42)) {
                                        if (!bi.oW(G(context, x.cg(context)))) {
                                            try {
                                                query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                if (query3 != null) {
                                                    try {
                                                        if (query3.moveToFirst()) {
                                                            columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                            if (query3 == null) {
                                                                query3.close();
                                                                cursor2 = query3;
                                                            } else {
                                                                cursor2 = query3;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                            if (columnIndex2 > 0) {
                                                                try {
                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                        do {
                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                            if (!bi.oW(str42)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                break;
                                                                            }
                                                                        } while (cursor2.moveToNext());
                                                                    }
                                                                    if (cursor2 != null) {
                                                                        cursor2.close();
                                                                    }
                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor2 != null) {
                                                                        cursor2.close();
                                                                    }
                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor2 != null) {
                                                                        cursor2.close();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    } catch (Exception e7222222222222222222222222222222222222222) {
                                                        e4 = e7222222222222222222222222222222222222222;
                                                        try {
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                            if (query3 != null) {
                                                                query3.close();
                                                                columnIndex2 = 0;
                                                                cursor2 = query3;
                                                            } else {
                                                                columnIndex2 = 0;
                                                                cursor2 = query3;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                            if (columnIndex2 > 0) {
                                                                try {
                                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                                        do {
                                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                            if (!bi.oW(str42)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                break;
                                                                            }
                                                                        } while (cursor2.moveToNext());
                                                                    }
                                                                    if (cursor2 != null) {
                                                                        cursor2.close();
                                                                    }
                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor2 != null) {
                                                                        cursor2.close();
                                                                    }
                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor2 != null) {
                                                                        cursor2.close();
                                                                    }
                                                                }
                                                            }
                                                            if (!bi.oW(str42)) {
                                                                networkCountryIso = ap.fO(str42, str3);
                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                if (!bi.oW(networkCountryIso)) {
                                                                    if (str42.startsWith("+")) {
                                                                        str2 = "+" + networkCountryIso;
                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                        str2 = networkCountryIso;
                                                                    }
                                                                    if (str2 != null) {
                                                                        str42 = str42.substring(str2.length());
                                                                    }
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                            }
                                                            return str42;
                                                        } catch (Throwable th3222222222222222222222222222222222222222) {
                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222222;
                                                            if (query3 != null) {
                                                                query3.close();
                                                            }
                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                    }
                                                }
                                                columnIndex2 = 0;
                                                if (query3 == null) {
                                                    cursor2 = query3;
                                                } else {
                                                    query3.close();
                                                    cursor2 = query3;
                                                }
                                            } catch (Exception e8222222222222222222222222222222222222222) {
                                                e4 = e8222222222222222222222222222222222222222;
                                                query3 = cursor2;
                                            } catch (Throwable th4222222222222222222222222222222222222222) {
                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222222;
                                                query3 = cursor2;
                                                if (query3 != null) {
                                                    query3.close();
                                                }
                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                            }
                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                            if (columnIndex2 > 0) {
                                                try {
                                                    cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                    if (cursor2 != null && cursor2.moveToFirst()) {
                                                        do {
                                                            str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                            if (!bi.oW(str42)) {
                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                break;
                                                            }
                                                        } while (cursor2.moveToNext());
                                                    }
                                                    if (cursor2 != null) {
                                                        cursor2.close();
                                                    }
                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                    if (cursor2 != null) {
                                                        cursor2.close();
                                                    }
                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                    if (cursor2 != null) {
                                                        cursor2.close();
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    if (bi.oW(str42)) {
                                        networkCountryIso = ap.fO(str42, str3);
                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                        if (!bi.oW(networkCountryIso)) {
                                            if (str42.startsWith("+")) {
                                                str2 = "+" + networkCountryIso;
                                            } else if (str42.startsWith(networkCountryIso)) {
                                                str2 = networkCountryIso;
                                            }
                                            if (str2 != null) {
                                                str42 = str42.substring(str2.length());
                                            }
                                        }
                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                    }
                                    return str42;
                                }
                            } catch (Exception e132) {
                                e4 = e132;
                                r2 = 0;
                                query22 = null;
                            } catch (Throwable th82) {
                                e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th82;
                                query22 = null;
                                if (!(query22 == null || query22.isClosed())) {
                                    query22.close();
                                }
                                throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                            }
                            if (r2 <= 0) {
                                try {
                                    query3 = contentResolver2.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                    if (query3 != null) {
                                        try {
                                            if (query3.moveToFirst()) {
                                                columnIndex2 = query3.getColumnIndex("data1");
                                                if (columnIndex2 != -1) {
                                                    line1Number = query3.getString(columnIndex2);
                                                    try {
                                                        x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                        query3.close();
                                                    } catch (Exception e622222222222) {
                                                        e2 = e622222222222;
                                                        try {
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                            x.d("MicroMsg.ContactsUtil", "query crashed");
                                                            query3.close();
                                                            str42 = line1Number;
                                                            cursor2 = query3;
                                                            if (bi.oW(str42)) {
                                                                if (!bi.oW(G(context, x.cg(context)))) {
                                                                    try {
                                                                        query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                        if (query3 != null) {
                                                                            try {
                                                                                if (query3.moveToFirst()) {
                                                                                    columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                                    if (query3 == null) {
                                                                                        query3.close();
                                                                                        cursor2 = query3;
                                                                                    } else {
                                                                                        cursor2 = query3;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                    if (columnIndex2 > 0) {
                                                                                        try {
                                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                do {
                                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str42)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor2.moveToNext());
                                                                                            }
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            } catch (Exception e72222222222222222222222222222222222222222) {
                                                                                e4 = e72222222222222222222222222222222222222222;
                                                                                try {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                    if (query3 != null) {
                                                                                        query3.close();
                                                                                        columnIndex2 = 0;
                                                                                        cursor2 = query3;
                                                                                    } else {
                                                                                        columnIndex2 = 0;
                                                                                        cursor2 = query3;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                                    if (columnIndex2 > 0) {
                                                                                        try {
                                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                                do {
                                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str42)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor2.moveToNext());
                                                                                            }
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            if (cursor2 != null) {
                                                                                                cursor2.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (!bi.oW(str42)) {
                                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                                        if (!bi.oW(networkCountryIso)) {
                                                                                            if (str42.startsWith("+")) {
                                                                                                str2 = "+" + networkCountryIso;
                                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                                str2 = networkCountryIso;
                                                                                            }
                                                                                            if (str2 != null) {
                                                                                                str42 = str42.substring(str2.length());
                                                                                            }
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                                    }
                                                                                    return str42;
                                                                                } catch (Throwable th32222222222222222222222222222222222222222) {
                                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222222;
                                                                                    if (query3 != null) {
                                                                                        query3.close();
                                                                                    }
                                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                }
                                                                            }
                                                                        }
                                                                        columnIndex2 = 0;
                                                                        if (query3 == null) {
                                                                            cursor2 = query3;
                                                                        } else {
                                                                            query3.close();
                                                                            cursor2 = query3;
                                                                        }
                                                                    } catch (Exception e82222222222222222222222222222222222222222) {
                                                                        e4 = e82222222222222222222222222222222222222222;
                                                                        query3 = cursor2;
                                                                    } catch (Throwable th42222222222222222222222222222222222222222) {
                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222222;
                                                                        query3 = cursor2;
                                                                        if (query3 != null) {
                                                                            query3.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                    if (columnIndex2 > 0) {
                                                                        try {
                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                do {
                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str42)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor2.moveToNext());
                                                                            }
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            if (bi.oW(str42)) {
                                                                networkCountryIso = ap.fO(str42, str3);
                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                if (!bi.oW(networkCountryIso)) {
                                                                    if (str42.startsWith("+")) {
                                                                        str2 = "+" + networkCountryIso;
                                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                                        str2 = networkCountryIso;
                                                                    }
                                                                    if (str2 != null) {
                                                                        str42 = str42.substring(str2.length());
                                                                    }
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                            }
                                                            return str42;
                                                        } catch (Throwable th522222222222) {
                                                            e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th522222222222;
                                                            query3.close();
                                                            throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                    }
                                                }
                                            }
                                            line1Number = null;
                                            query3.close();
                                        } catch (Exception e922222222222) {
                                            e2 = e922222222222;
                                            line1Number = null;
                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                            x.d("MicroMsg.ContactsUtil", "query crashed");
                                            if (!(query3 == null || query3.isClosed())) {
                                                query3.close();
                                                str42 = line1Number;
                                                cursor2 = query3;
                                                if (bi.oW(str42)) {
                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                        try {
                                                            query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                            if (query3 != null) {
                                                                try {
                                                                    if (query3.moveToFirst()) {
                                                                        columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                        if (query3 == null) {
                                                                            query3.close();
                                                                            cursor2 = query3;
                                                                        } else {
                                                                            cursor2 = query3;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                        if (columnIndex2 > 0) {
                                                                            try {
                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                    do {
                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str42)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor2.moveToNext());
                                                                                }
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                } catch (Exception e722222222222222222222222222222222222222222) {
                                                                    e4 = e722222222222222222222222222222222222222222;
                                                                    try {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                        if (query3 != null) {
                                                                            query3.close();
                                                                            columnIndex2 = 0;
                                                                            cursor2 = query3;
                                                                        } else {
                                                                            columnIndex2 = 0;
                                                                            cursor2 = query3;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                        if (columnIndex2 > 0) {
                                                                            try {
                                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                    do {
                                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str42)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor2.moveToNext());
                                                                                }
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor2 != null) {
                                                                                    cursor2.close();
                                                                                }
                                                                            }
                                                                        }
                                                                        if (!bi.oW(str42)) {
                                                                            networkCountryIso = ap.fO(str42, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str42.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str42.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str42 = str42.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                        }
                                                                        return str42;
                                                                    } catch (Throwable th322222222222222222222222222222222222222222) {
                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222222;
                                                                        if (query3 != null) {
                                                                            query3.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                    }
                                                                }
                                                            }
                                                            columnIndex2 = 0;
                                                            if (query3 == null) {
                                                                cursor2 = query3;
                                                            } else {
                                                                query3.close();
                                                                cursor2 = query3;
                                                            }
                                                        } catch (Exception e822222222222222222222222222222222222222222) {
                                                            e4 = e822222222222222222222222222222222222222222;
                                                            query3 = cursor2;
                                                        } catch (Throwable th422222222222222222222222222222222222222222) {
                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222222;
                                                            query3 = cursor2;
                                                            if (query3 != null) {
                                                                query3.close();
                                                            }
                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                        if (columnIndex2 > 0) {
                                                            try {
                                                                cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor2 != null && cursor2.moveToFirst()) {
                                                                    do {
                                                                        str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                        if (!bi.oW(str42)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                            break;
                                                                        }
                                                                    } while (cursor2.moveToNext());
                                                                }
                                                                if (cursor2 != null) {
                                                                    cursor2.close();
                                                                }
                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor2 != null) {
                                                                    cursor2.close();
                                                                }
                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                if (cursor2 != null) {
                                                                    cursor2.close();
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                if (bi.oW(str42)) {
                                                    networkCountryIso = ap.fO(str42, str3);
                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                    if (!bi.oW(networkCountryIso)) {
                                                        if (str42.startsWith("+")) {
                                                            str2 = "+" + networkCountryIso;
                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                            str2 = networkCountryIso;
                                                        }
                                                        if (str2 != null) {
                                                            str42 = str42.substring(str2.length());
                                                        }
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                }
                                                return str42;
                                            }
                                            str42 = line1Number;
                                            cursor2 = query3;
                                            if (bi.oW(str42)) {
                                                if (!bi.oW(G(context, x.cg(context)))) {
                                                    try {
                                                        query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                        if (query3 != null) {
                                                            try {
                                                                if (query3.moveToFirst()) {
                                                                    columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                                    if (query3 == null) {
                                                                        query3.close();
                                                                        cursor2 = query3;
                                                                    } else {
                                                                        cursor2 = query3;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                    if (columnIndex2 > 0) {
                                                                        try {
                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                do {
                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str42)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor2.moveToNext());
                                                                            }
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            } catch (Exception e7222222222222222222222222222222222222222222) {
                                                                e4 = e7222222222222222222222222222222222222222222;
                                                                try {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                    if (query3 != null) {
                                                                        query3.close();
                                                                        columnIndex2 = 0;
                                                                        cursor2 = query3;
                                                                    } else {
                                                                        columnIndex2 = 0;
                                                                        cursor2 = query3;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                                    if (columnIndex2 > 0) {
                                                                        try {
                                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                                do {
                                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str42)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor2.moveToNext());
                                                                            }
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            if (cursor2 != null) {
                                                                                cursor2.close();
                                                                            }
                                                                        }
                                                                    }
                                                                    if (!bi.oW(str42)) {
                                                                        networkCountryIso = ap.fO(str42, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str42.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str42.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str42 = str42.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                                    }
                                                                    return str42;
                                                                } catch (Throwable th3222222222222222222222222222222222222222222) {
                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222222222;
                                                                    if (query3 != null) {
                                                                        query3.close();
                                                                    }
                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                            }
                                                        }
                                                        columnIndex2 = 0;
                                                        if (query3 == null) {
                                                            cursor2 = query3;
                                                        } else {
                                                            query3.close();
                                                            cursor2 = query3;
                                                        }
                                                    } catch (Exception e8222222222222222222222222222222222222222222) {
                                                        e4 = e8222222222222222222222222222222222222222222;
                                                        query3 = cursor2;
                                                    } catch (Throwable th4222222222222222222222222222222222222222222) {
                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222222222;
                                                        query3 = cursor2;
                                                        if (query3 != null) {
                                                            query3.close();
                                                        }
                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                    if (columnIndex2 > 0) {
                                                        try {
                                                            cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                            if (cursor2 != null && cursor2.moveToFirst()) {
                                                                do {
                                                                    str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                    if (!bi.oW(str42)) {
                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                        break;
                                                                    }
                                                                } while (cursor2.moveToNext());
                                                            }
                                                            if (cursor2 != null) {
                                                                cursor2.close();
                                                            }
                                                        } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                            if (cursor2 != null) {
                                                                cursor2.close();
                                                            }
                                                        } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                            if (cursor2 != null) {
                                                                cursor2.close();
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                            if (bi.oW(str42)) {
                                                networkCountryIso = ap.fO(str42, str3);
                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                if (!bi.oW(networkCountryIso)) {
                                                    if (str42.startsWith("+")) {
                                                        str2 = "+" + networkCountryIso;
                                                    } else if (str42.startsWith(networkCountryIso)) {
                                                        str2 = networkCountryIso;
                                                    }
                                                    if (str2 != null) {
                                                        str42 = str42.substring(str2.length());
                                                    }
                                                }
                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                            }
                                            return str42;
                                        }
                                    }
                                    line1Number = null;
                                    if (!(query3 == null || query3.isClosed())) {
                                        query3.close();
                                        str42 = line1Number;
                                        cursor2 = query3;
                                    }
                                } catch (Exception e1022222222222) {
                                    e2 = e1022222222222;
                                    line1Number = null;
                                    query3 = cursor2;
                                } catch (Throwable th622222222222) {
                                    e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th622222222222;
                                    query3 = cursor2;
                                    if (!(query3 == null || query3.isClosed())) {
                                        query3.close();
                                    }
                                    throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                }
                                str42 = line1Number;
                                cursor2 = query3;
                            } else {
                                str42 = null;
                            }
                        }
                        if (bi.oW(str42)) {
                            if (!bi.oW(G(context, x.cg(context)))) {
                                try {
                                    query3 = contentResolver2.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                    if (query3 != null) {
                                        try {
                                            if (query3.moveToFirst()) {
                                                columnIndex2 = query3.getInt(query3.getColumnIndex("has_phone_number"));
                                                if (query3 == null) {
                                                    query3.close();
                                                    cursor2 = query3;
                                                } else {
                                                    cursor2 = query3;
                                                }
                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                if (columnIndex2 > 0) {
                                                    try {
                                                        cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                        if (cursor2 != null && cursor2.moveToFirst()) {
                                                            do {
                                                                str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                if (!bi.oW(str42)) {
                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                    break;
                                                                }
                                                            } while (cursor2.moveToNext());
                                                        }
                                                        if (cursor2 != null) {
                                                            cursor2.close();
                                                        }
                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                        if (cursor2 != null) {
                                                            cursor2.close();
                                                        }
                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        if (cursor2 != null) {
                                                            cursor2.close();
                                                        }
                                                    }
                                                }
                                            }
                                        } catch (Exception e72222222222222222222222222222222222222222222) {
                                            e4 = e72222222222222222222222222222222222222222222;
                                            try {
                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                if (query3 != null) {
                                                    query3.close();
                                                    columnIndex2 = 0;
                                                    cursor2 = query3;
                                                } else {
                                                    columnIndex2 = 0;
                                                    cursor2 = query3;
                                                }
                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                                if (columnIndex2 > 0) {
                                                    try {
                                                        cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                        if (cursor2 != null && cursor2.moveToFirst()) {
                                                            do {
                                                                str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                                if (!bi.oW(str42)) {
                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                                    break;
                                                                }
                                                            } while (cursor2.moveToNext());
                                                        }
                                                        if (cursor2 != null) {
                                                            cursor2.close();
                                                        }
                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                        if (cursor2 != null) {
                                                            cursor2.close();
                                                        }
                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        if (cursor2 != null) {
                                                            cursor2.close();
                                                        }
                                                    }
                                                }
                                                if (!bi.oW(str42)) {
                                                    networkCountryIso = ap.fO(str42, str3);
                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                                                    if (!bi.oW(networkCountryIso)) {
                                                        if (str42.startsWith("+")) {
                                                            str2 = "+" + networkCountryIso;
                                                        } else if (str42.startsWith(networkCountryIso)) {
                                                            str2 = networkCountryIso;
                                                        }
                                                        if (str2 != null) {
                                                            str42 = str42.substring(str2.length());
                                                        }
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                                                }
                                                return str42;
                                            } catch (Throwable th32222222222222222222222222222222222222222222) {
                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222222222;
                                                if (query3 != null) {
                                                    query3.close();
                                                }
                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                            }
                                        }
                                    }
                                    columnIndex2 = 0;
                                    if (query3 == null) {
                                        cursor2 = query3;
                                    } else {
                                        query3.close();
                                        cursor2 = query3;
                                    }
                                } catch (Exception e82222222222222222222222222222222222222222222) {
                                    e4 = e82222222222222222222222222222222222222222222;
                                    query3 = cursor2;
                                } catch (Throwable th42222222222222222222222222222222222222222222) {
                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222222222;
                                    query3 = cursor2;
                                    if (query3 != null) {
                                        query3.close();
                                    }
                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                }
                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex2);
                                if (columnIndex2 > 0) {
                                    try {
                                        cursor2 = contentResolver2.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                        if (cursor2 != null && cursor2.moveToFirst()) {
                                            do {
                                                str42 = cursor2.getString(cursor2.getColumnIndex("data1"));
                                                if (!bi.oW(str42)) {
                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str42);
                                                    break;
                                                }
                                            } while (cursor2.moveToNext());
                                        }
                                        if (cursor2 != null) {
                                            cursor2.close();
                                        }
                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                        if (cursor2 != null) {
                                            cursor2.close();
                                        }
                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                        if (cursor2 != null) {
                                            cursor2.close();
                                        }
                                    }
                                }
                            }
                        }
                        if (bi.oW(str42)) {
                            networkCountryIso = ap.fO(str42, str3);
                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str42, networkCountryIso, str3);
                            if (!bi.oW(networkCountryIso)) {
                                if (str42.startsWith("+")) {
                                    str2 = "+" + networkCountryIso;
                                } else if (str42.startsWith(networkCountryIso)) {
                                    str2 = networkCountryIso;
                                }
                                if (str2 != null) {
                                    str42 = str42.substring(str2.length());
                                }
                            }
                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str42);
                        }
                        return str42;
                    } else {
                        x.e("MicroMsg.ContactsUtil", "no contact permission");
                        return null;
                    }
                }
            } catch (Exception e15) {
                e = e15;
                networkCountryIso = null;
            }
        } catch (Exception e16) {
            e = e16;
            networkCountryIso = null;
            line1Number = null;
        }
        int length;
        if (bi.oW(line1Number)) {
            line1Number = line1Number.trim();
            networkCountryIso = ap.fO(line1Number, str3);
            x.i("MicroMsg.ContactsUtil", "get num : %s, extract country code  : %s, iso : %s", line1Number, networkCountryIso, str3);
            if (bi.oW(networkCountryIso)) {
                networkCountryIso = line1Number;
            } else {
                int i22;
                length = networkCountryIso.length();
                if (line1Number.startsWith("+")) {
                    i22 = 1;
                } else {
                    i22 = 0;
                }
                networkCountryIso = line1Number.substring(i22 + length);
                x.i("MicroMsg.ContactsUtil", "after deal, the num is %s", networkCountryIso);
            }
            x.i("MicroMsg.ContactsUtil", "Got phone number by TelephonyManager.");
            return networkCountryIso;
        } else if (a.bj(context, "android.permission.READ_CONTACTS")) {
            String str422;
            int columnIndex22;
            Cursor cursor22;
            Cursor query32;
            ContentResolver contentResolver22 = context.getContentResolver();
            if (d.fS(14)) {
                str422 = null;
                Object obj22 = null;
            } else {
                x.i("MicroMsg.ContactsUtil", "The device os API version is higher than 14.");
                Cursor query222;
                try {
                    query222 = contentResolver22.query(Profile.CONTENT_URI, new String[]{"has_phone_number"}, null, null, null);
                    if (query222 != null) {
                        try {
                            if (query222.moveToFirst()) {
                                columnIndex22 = query222.getColumnIndex("has_phone_number");
                                if (columnIndex22 != -1) {
                                    length = query222.getInt(columnIndex22);
                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + length);
                                    if (!(query222 == null || query222.isClosed())) {
                                        query222.close();
                                        cursor22 = query222;
                                        if (length <= 0) {
                                            try {
                                                query32 = contentResolver22.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                                if (query32 != null) {
                                                    try {
                                                        if (query32.moveToFirst()) {
                                                            columnIndex22 = query32.getColumnIndex("data1");
                                                            if (columnIndex22 != -1) {
                                                                line1Number = query32.getString(columnIndex22);
                                                                try {
                                                                    x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                    query32.close();
                                                                } catch (Exception e6222222222222) {
                                                                    e2 = e6222222222222;
                                                                    try {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                        x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                        query32.close();
                                                                        str422 = line1Number;
                                                                        cursor22 = query32;
                                                                        if (bi.oW(str422)) {
                                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                                try {
                                                                                    query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                    if (query32 != null) {
                                                                                        try {
                                                                                            if (query32.moveToFirst()) {
                                                                                                columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                                                if (query32 == null) {
                                                                                                    query32.close();
                                                                                                    cursor22 = query32;
                                                                                                } else {
                                                                                                    cursor22 = query32;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                                if (columnIndex22 > 0) {
                                                                                                    try {
                                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                            do {
                                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str422)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor22.moveToNext());
                                                                                                        }
                                                                                                        if (cursor22 != null) {
                                                                                                            cursor22.close();
                                                                                                        }
                                                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                        if (cursor22 != null) {
                                                                                                            cursor22.close();
                                                                                                        }
                                                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                        if (cursor22 != null) {
                                                                                                            cursor22.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        } catch (Exception e722222222222222222222222222222222222222222222) {
                                                                                            e4 = e722222222222222222222222222222222222222222222;
                                                                                            try {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                                if (query32 != null) {
                                                                                                    query32.close();
                                                                                                    columnIndex22 = 0;
                                                                                                    cursor22 = query32;
                                                                                                } else {
                                                                                                    columnIndex22 = 0;
                                                                                                    cursor22 = query32;
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                                if (columnIndex22 > 0) {
                                                                                                    try {
                                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                            do {
                                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                                if (!bi.oW(str422)) {
                                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } while (cursor22.moveToNext());
                                                                                                        }
                                                                                                        if (cursor22 != null) {
                                                                                                            cursor22.close();
                                                                                                        }
                                                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                        if (cursor22 != null) {
                                                                                                            cursor22.close();
                                                                                                        }
                                                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                        if (cursor22 != null) {
                                                                                                            cursor22.close();
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                if (!bi.oW(str422)) {
                                                                                                    networkCountryIso = ap.fO(str422, str3);
                                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                                        if (str422.startsWith("+")) {
                                                                                                            str2 = "+" + networkCountryIso;
                                                                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                                                                            str2 = networkCountryIso;
                                                                                                        }
                                                                                                        if (str2 != null) {
                                                                                                            str422 = str422.substring(str2.length());
                                                                                                        }
                                                                                                    }
                                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                                                }
                                                                                                return str422;
                                                                                            } catch (Throwable th322222222222222222222222222222222222222222222) {
                                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222222222;
                                                                                                if (query32 != null) {
                                                                                                    query32.close();
                                                                                                }
                                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    columnIndex22 = 0;
                                                                                    if (query32 == null) {
                                                                                        cursor22 = query32;
                                                                                    } else {
                                                                                        query32.close();
                                                                                        cursor22 = query32;
                                                                                    }
                                                                                } catch (Exception e822222222222222222222222222222222222222222222) {
                                                                                    e4 = e822222222222222222222222222222222222222222222;
                                                                                    query32 = cursor22;
                                                                                } catch (Throwable th422222222222222222222222222222222222222222222) {
                                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222222222;
                                                                                    query32 = cursor22;
                                                                                    if (query32 != null) {
                                                                                        query32.close();
                                                                                    }
                                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                if (columnIndex22 > 0) {
                                                                                    try {
                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                            do {
                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str422)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor22.moveToNext());
                                                                                        }
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        if (bi.oW(str422)) {
                                                                            networkCountryIso = ap.fO(str422, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str422.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str422 = str422.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                        }
                                                                        return str422;
                                                                    } catch (Throwable th5222222222222) {
                                                                        e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th5222222222222;
                                                                        query32.close();
                                                                        throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        line1Number = null;
                                                        query32.close();
                                                    } catch (Exception e9222222222222) {
                                                        e2 = e9222222222222;
                                                        line1Number = null;
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                        x.d("MicroMsg.ContactsUtil", "query crashed");
                                                        if (!(query32 == null || query32.isClosed())) {
                                                            query32.close();
                                                            str422 = line1Number;
                                                            cursor22 = query32;
                                                            if (bi.oW(str422)) {
                                                                if (!bi.oW(G(context, x.cg(context)))) {
                                                                    try {
                                                                        query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                        if (query32 != null) {
                                                                            try {
                                                                                if (query32.moveToFirst()) {
                                                                                    columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                                    if (query32 == null) {
                                                                                        query32.close();
                                                                                        cursor22 = query32;
                                                                                    } else {
                                                                                        cursor22 = query32;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                    if (columnIndex22 > 0) {
                                                                                        try {
                                                                                            cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                do {
                                                                                                    str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str422)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor22.moveToNext());
                                                                                            }
                                                                                            if (cursor22 != null) {
                                                                                                cursor22.close();
                                                                                            }
                                                                                        } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                            if (cursor22 != null) {
                                                                                                cursor22.close();
                                                                                            }
                                                                                        } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            if (cursor22 != null) {
                                                                                                cursor22.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            } catch (Exception e7222222222222222222222222222222222222222222222) {
                                                                                e4 = e7222222222222222222222222222222222222222222222;
                                                                                try {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                    if (query32 != null) {
                                                                                        query32.close();
                                                                                        columnIndex22 = 0;
                                                                                        cursor22 = query32;
                                                                                    } else {
                                                                                        columnIndex22 = 0;
                                                                                        cursor22 = query32;
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                    if (columnIndex22 > 0) {
                                                                                        try {
                                                                                            cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                            if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                do {
                                                                                                    str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                    if (!bi.oW(str422)) {
                                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                        break;
                                                                                                    }
                                                                                                } while (cursor22.moveToNext());
                                                                                            }
                                                                                            if (cursor22 != null) {
                                                                                                cursor22.close();
                                                                                            }
                                                                                        } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                            if (cursor22 != null) {
                                                                                                cursor22.close();
                                                                                            }
                                                                                        } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                            if (cursor22 != null) {
                                                                                                cursor22.close();
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (!bi.oW(str422)) {
                                                                                        networkCountryIso = ap.fO(str422, str3);
                                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                        if (!bi.oW(networkCountryIso)) {
                                                                                            if (str422.startsWith("+")) {
                                                                                                str2 = "+" + networkCountryIso;
                                                                                            } else if (str422.startsWith(networkCountryIso)) {
                                                                                                str2 = networkCountryIso;
                                                                                            }
                                                                                            if (str2 != null) {
                                                                                                str422 = str422.substring(str2.length());
                                                                                            }
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                                    }
                                                                                    return str422;
                                                                                } catch (Throwable th3222222222222222222222222222222222222222222222) {
                                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222222222222;
                                                                                    if (query32 != null) {
                                                                                        query32.close();
                                                                                    }
                                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                }
                                                                            }
                                                                        }
                                                                        columnIndex22 = 0;
                                                                        if (query32 == null) {
                                                                            cursor22 = query32;
                                                                        } else {
                                                                            query32.close();
                                                                            cursor22 = query32;
                                                                        }
                                                                    } catch (Exception e8222222222222222222222222222222222222222222222) {
                                                                        e4 = e8222222222222222222222222222222222222222222222;
                                                                        query32 = cursor22;
                                                                    } catch (Throwable th4222222222222222222222222222222222222222222222) {
                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222222222222;
                                                                        query32 = cursor22;
                                                                        if (query32 != null) {
                                                                            query32.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                    if (columnIndex22 > 0) {
                                                                        try {
                                                                            cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                do {
                                                                                    str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str422)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor22.moveToNext());
                                                                            }
                                                                            if (cursor22 != null) {
                                                                                cursor22.close();
                                                                            }
                                                                        } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor22 != null) {
                                                                                cursor22.close();
                                                                            }
                                                                        } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            if (cursor22 != null) {
                                                                                cursor22.close();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            if (bi.oW(str422)) {
                                                                networkCountryIso = ap.fO(str422, str3);
                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                if (!bi.oW(networkCountryIso)) {
                                                                    if (str422.startsWith("+")) {
                                                                        str2 = "+" + networkCountryIso;
                                                                    } else if (str422.startsWith(networkCountryIso)) {
                                                                        str2 = networkCountryIso;
                                                                    }
                                                                    if (str2 != null) {
                                                                        str422 = str422.substring(str2.length());
                                                                    }
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                            }
                                                            return str422;
                                                        }
                                                        str422 = line1Number;
                                                        cursor22 = query32;
                                                        if (bi.oW(str422)) {
                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                try {
                                                                    query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                    if (query32 != null) {
                                                                        try {
                                                                            if (query32.moveToFirst()) {
                                                                                columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                                if (query32 == null) {
                                                                                    query32.close();
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    cursor22 = query32;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                if (columnIndex22 > 0) {
                                                                                    try {
                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                            do {
                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str422)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor22.moveToNext());
                                                                                        }
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        } catch (Exception e72222222222222222222222222222222222222222222222) {
                                                                            e4 = e72222222222222222222222222222222222222222222222;
                                                                            try {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                    columnIndex22 = 0;
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    columnIndex22 = 0;
                                                                                    cursor22 = query32;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                if (columnIndex22 > 0) {
                                                                                    try {
                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                            do {
                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str422)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor22.moveToNext());
                                                                                        }
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (!bi.oW(str422)) {
                                                                                    networkCountryIso = ap.fO(str422, str3);
                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                        if (str422.startsWith("+")) {
                                                                                            str2 = "+" + networkCountryIso;
                                                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                                                            str2 = networkCountryIso;
                                                                                        }
                                                                                        if (str2 != null) {
                                                                                            str422 = str422.substring(str2.length());
                                                                                        }
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                                }
                                                                                return str422;
                                                                            } catch (Throwable th32222222222222222222222222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222222222222;
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                        }
                                                                    }
                                                                    columnIndex22 = 0;
                                                                    if (query32 == null) {
                                                                        cursor22 = query32;
                                                                    } else {
                                                                        query32.close();
                                                                        cursor22 = query32;
                                                                    }
                                                                } catch (Exception e82222222222222222222222222222222222222222222222) {
                                                                    e4 = e82222222222222222222222222222222222222222222222;
                                                                    query32 = cursor22;
                                                                } catch (Throwable th42222222222222222222222222222222222222222222222) {
                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222222222222;
                                                                    query32 = cursor22;
                                                                    if (query32 != null) {
                                                                        query32.close();
                                                                    }
                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                if (columnIndex22 > 0) {
                                                                    try {
                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                            do {
                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                if (!bi.oW(str422)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                    break;
                                                                                }
                                                                            } while (cursor22.moveToNext());
                                                                        }
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        if (bi.oW(str422)) {
                                                            networkCountryIso = ap.fO(str422, str3);
                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                            if (!bi.oW(networkCountryIso)) {
                                                                if (str422.startsWith("+")) {
                                                                    str2 = "+" + networkCountryIso;
                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                    str2 = networkCountryIso;
                                                                }
                                                                if (str2 != null) {
                                                                    str422 = str422.substring(str2.length());
                                                                }
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                        }
                                                        return str422;
                                                    }
                                                }
                                                line1Number = null;
                                                if (!(query32 == null || query32.isClosed())) {
                                                    query32.close();
                                                    str422 = line1Number;
                                                    cursor22 = query32;
                                                }
                                            } catch (Exception e10222222222222) {
                                                e2 = e10222222222222;
                                                line1Number = null;
                                                query32 = cursor22;
                                            } catch (Throwable th6222222222222) {
                                                e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th6222222222222;
                                                query32 = cursor22;
                                                if (!(query32 == null || query32.isClosed())) {
                                                    query32.close();
                                                }
                                                throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                            }
                                            str422 = line1Number;
                                            cursor22 = query32;
                                        } else {
                                            str422 = null;
                                        }
                                    }
                                    cursor22 = query222;
                                    if (length <= 0) {
                                        str422 = null;
                                    } else {
                                        try {
                                            query32 = contentResolver22.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                            if (query32 != null) {
                                                try {
                                                    if (query32.moveToFirst()) {
                                                        columnIndex22 = query32.getColumnIndex("data1");
                                                        if (columnIndex22 != -1) {
                                                            line1Number = query32.getString(columnIndex22);
                                                            try {
                                                                x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                query32.close();
                                                            } catch (Exception e62222222222222) {
                                                                e2 = e62222222222222;
                                                                try {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                    query32.close();
                                                                    str422 = line1Number;
                                                                    cursor22 = query32;
                                                                    if (bi.oW(str422)) {
                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                            try {
                                                                                query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                if (query32 != null) {
                                                                                    try {
                                                                                        if (query32.moveToFirst()) {
                                                                                            columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                                            if (query32 == null) {
                                                                                                query32.close();
                                                                                                cursor22 = query32;
                                                                                            } else {
                                                                                                cursor22 = query32;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                            if (columnIndex22 > 0) {
                                                                                                try {
                                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                        do {
                                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str422)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor22.moveToNext());
                                                                                                    }
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e722222222222222222222222222222222222222222222222) {
                                                                                        e4 = e722222222222222222222222222222222222222222222222;
                                                                                        try {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                            if (query32 != null) {
                                                                                                query32.close();
                                                                                                columnIndex22 = 0;
                                                                                                cursor22 = query32;
                                                                                            } else {
                                                                                                columnIndex22 = 0;
                                                                                                cursor22 = query32;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                            if (columnIndex22 > 0) {
                                                                                                try {
                                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                        do {
                                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str422)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor22.moveToNext());
                                                                                                    }
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            if (!bi.oW(str422)) {
                                                                                                networkCountryIso = ap.fO(str422, str3);
                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                    if (str422.startsWith("+")) {
                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                    } else if (str422.startsWith(networkCountryIso)) {
                                                                                                        str2 = networkCountryIso;
                                                                                                    }
                                                                                                    if (str2 != null) {
                                                                                                        str422 = str422.substring(str2.length());
                                                                                                    }
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                                            }
                                                                                            return str422;
                                                                                        } catch (Throwable th322222222222222222222222222222222222222222222222) {
                                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222222222222;
                                                                                            if (query32 != null) {
                                                                                                query32.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                columnIndex22 = 0;
                                                                                if (query32 == null) {
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    query32.close();
                                                                                    cursor22 = query32;
                                                                                }
                                                                            } catch (Exception e822222222222222222222222222222222222222222222222) {
                                                                                e4 = e822222222222222222222222222222222222222222222222;
                                                                                query32 = cursor22;
                                                                            } catch (Throwable th422222222222222222222222222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222222222222;
                                                                                query32 = cursor22;
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                            if (columnIndex22 > 0) {
                                                                                try {
                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                        do {
                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str422)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor22.moveToNext());
                                                                                    }
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    if (bi.oW(str422)) {
                                                                        networkCountryIso = ap.fO(str422, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str422.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str422.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str422 = str422.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                    }
                                                                    return str422;
                                                                } catch (Throwable th52222222222222) {
                                                                    e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th52222222222222;
                                                                    query32.close();
                                                                    throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    line1Number = null;
                                                    query32.close();
                                                } catch (Exception e92222222222222) {
                                                    e2 = e92222222222222;
                                                    line1Number = null;
                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                    if (!(query32 == null || query32.isClosed())) {
                                                        query32.close();
                                                        str422 = line1Number;
                                                        cursor22 = query32;
                                                        if (bi.oW(str422)) {
                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                try {
                                                                    query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                    if (query32 != null) {
                                                                        try {
                                                                            if (query32.moveToFirst()) {
                                                                                columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                                if (query32 == null) {
                                                                                    query32.close();
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    cursor22 = query32;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                if (columnIndex22 > 0) {
                                                                                    try {
                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                            do {
                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str422)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor22.moveToNext());
                                                                                        }
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        } catch (Exception e7222222222222222222222222222222222222222222222222) {
                                                                            e4 = e7222222222222222222222222222222222222222222222222;
                                                                            try {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                    columnIndex22 = 0;
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    columnIndex22 = 0;
                                                                                    cursor22 = query32;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                if (columnIndex22 > 0) {
                                                                                    try {
                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                            do {
                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str422)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor22.moveToNext());
                                                                                        }
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (!bi.oW(str422)) {
                                                                                    networkCountryIso = ap.fO(str422, str3);
                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                        if (str422.startsWith("+")) {
                                                                                            str2 = "+" + networkCountryIso;
                                                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                                                            str2 = networkCountryIso;
                                                                                        }
                                                                                        if (str2 != null) {
                                                                                            str422 = str422.substring(str2.length());
                                                                                        }
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                                }
                                                                                return str422;
                                                                            } catch (Throwable th3222222222222222222222222222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222222222222222;
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                        }
                                                                    }
                                                                    columnIndex22 = 0;
                                                                    if (query32 == null) {
                                                                        cursor22 = query32;
                                                                    } else {
                                                                        query32.close();
                                                                        cursor22 = query32;
                                                                    }
                                                                } catch (Exception e8222222222222222222222222222222222222222222222222) {
                                                                    e4 = e8222222222222222222222222222222222222222222222222;
                                                                    query32 = cursor22;
                                                                } catch (Throwable th4222222222222222222222222222222222222222222222222) {
                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222222222222222;
                                                                    query32 = cursor22;
                                                                    if (query32 != null) {
                                                                        query32.close();
                                                                    }
                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                if (columnIndex22 > 0) {
                                                                    try {
                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                            do {
                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                if (!bi.oW(str422)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                    break;
                                                                                }
                                                                            } while (cursor22.moveToNext());
                                                                        }
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        if (bi.oW(str422)) {
                                                            networkCountryIso = ap.fO(str422, str3);
                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                            if (!bi.oW(networkCountryIso)) {
                                                                if (str422.startsWith("+")) {
                                                                    str2 = "+" + networkCountryIso;
                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                    str2 = networkCountryIso;
                                                                }
                                                                if (str2 != null) {
                                                                    str422 = str422.substring(str2.length());
                                                                }
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                        }
                                                        return str422;
                                                    }
                                                    str422 = line1Number;
                                                    cursor22 = query32;
                                                    if (bi.oW(str422)) {
                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                            try {
                                                                query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                if (query32 != null) {
                                                                    try {
                                                                        if (query32.moveToFirst()) {
                                                                            columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                            if (query32 == null) {
                                                                                query32.close();
                                                                                cursor22 = query32;
                                                                            } else {
                                                                                cursor22 = query32;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                            if (columnIndex22 > 0) {
                                                                                try {
                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                        do {
                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str422)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor22.moveToNext());
                                                                                    }
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    } catch (Exception e72222222222222222222222222222222222222222222222222) {
                                                                        e4 = e72222222222222222222222222222222222222222222222222;
                                                                        try {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                            if (query32 != null) {
                                                                                query32.close();
                                                                                columnIndex22 = 0;
                                                                                cursor22 = query32;
                                                                            } else {
                                                                                columnIndex22 = 0;
                                                                                cursor22 = query32;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                            if (columnIndex22 > 0) {
                                                                                try {
                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                        do {
                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str422)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor22.moveToNext());
                                                                                    }
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (!bi.oW(str422)) {
                                                                                networkCountryIso = ap.fO(str422, str3);
                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                    if (str422.startsWith("+")) {
                                                                                        str2 = "+" + networkCountryIso;
                                                                                    } else if (str422.startsWith(networkCountryIso)) {
                                                                                        str2 = networkCountryIso;
                                                                                    }
                                                                                    if (str2 != null) {
                                                                                        str422 = str422.substring(str2.length());
                                                                                    }
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                            }
                                                                            return str422;
                                                                        } catch (Throwable th32222222222222222222222222222222222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222222222222222;
                                                                            if (query32 != null) {
                                                                                query32.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                    }
                                                                }
                                                                columnIndex22 = 0;
                                                                if (query32 == null) {
                                                                    cursor22 = query32;
                                                                } else {
                                                                    query32.close();
                                                                    cursor22 = query32;
                                                                }
                                                            } catch (Exception e82222222222222222222222222222222222222222222222222) {
                                                                e4 = e82222222222222222222222222222222222222222222222222;
                                                                query32 = cursor22;
                                                            } catch (Throwable th42222222222222222222222222222222222222222222222222) {
                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222222222222222;
                                                                query32 = cursor22;
                                                                if (query32 != null) {
                                                                    query32.close();
                                                                }
                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                            if (columnIndex22 > 0) {
                                                                try {
                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                        do {
                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                            if (!bi.oW(str422)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                break;
                                                                            }
                                                                        } while (cursor22.moveToNext());
                                                                    }
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                    if (bi.oW(str422)) {
                                                        networkCountryIso = ap.fO(str422, str3);
                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                        if (!bi.oW(networkCountryIso)) {
                                                            if (str422.startsWith("+")) {
                                                                str2 = "+" + networkCountryIso;
                                                            } else if (str422.startsWith(networkCountryIso)) {
                                                                str2 = networkCountryIso;
                                                            }
                                                            if (str2 != null) {
                                                                str422 = str422.substring(str2.length());
                                                            }
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                    }
                                                    return str422;
                                                }
                                            }
                                            line1Number = null;
                                            if (!(query32 == null || query32.isClosed())) {
                                                query32.close();
                                                str422 = line1Number;
                                                cursor22 = query32;
                                            }
                                        } catch (Exception e102222222222222) {
                                            e2 = e102222222222222;
                                            line1Number = null;
                                            query32 = cursor22;
                                        } catch (Throwable th62222222222222) {
                                            e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th62222222222222;
                                            query32 = cursor22;
                                            if (!(query32 == null || query32.isClosed())) {
                                                query32.close();
                                            }
                                            throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                        }
                                        str422 = line1Number;
                                        cursor22 = query32;
                                    }
                                }
                            }
                        } catch (Exception e1122) {
                            e4 = e1122;
                            length = 0;
                            try {
                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                if (!(query222 == null || query222.isClosed())) {
                                    query222.close();
                                    cursor22 = query222;
                                    if (length <= 0) {
                                        str422 = null;
                                    } else {
                                        try {
                                            query32 = contentResolver22.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                            if (query32 != null) {
                                                try {
                                                    if (query32.moveToFirst()) {
                                                        columnIndex22 = query32.getColumnIndex("data1");
                                                        if (columnIndex22 != -1) {
                                                            line1Number = query32.getString(columnIndex22);
                                                            try {
                                                                x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                                query32.close();
                                                            } catch (Exception e622222222222222) {
                                                                e2 = e622222222222222;
                                                                try {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                    query32.close();
                                                                    str422 = line1Number;
                                                                    cursor22 = query32;
                                                                    if (bi.oW(str422)) {
                                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                                            try {
                                                                                query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                                if (query32 != null) {
                                                                                    try {
                                                                                        if (query32.moveToFirst()) {
                                                                                            columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                                            if (query32 == null) {
                                                                                                query32.close();
                                                                                                cursor22 = query32;
                                                                                            } else {
                                                                                                cursor22 = query32;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                            if (columnIndex22 > 0) {
                                                                                                try {
                                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                        do {
                                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str422)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor22.moveToNext());
                                                                                                    }
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e722222222222222222222222222222222222222222222222222) {
                                                                                        e4 = e722222222222222222222222222222222222222222222222222;
                                                                                        try {
                                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                            if (query32 != null) {
                                                                                                query32.close();
                                                                                                columnIndex22 = 0;
                                                                                                cursor22 = query32;
                                                                                            } else {
                                                                                                columnIndex22 = 0;
                                                                                                cursor22 = query32;
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                            if (columnIndex22 > 0) {
                                                                                                try {
                                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                        do {
                                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                            if (!bi.oW(str422)) {
                                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                                break;
                                                                                                            }
                                                                                                        } while (cursor22.moveToNext());
                                                                                                    }
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                    if (cursor22 != null) {
                                                                                                        cursor22.close();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            if (!bi.oW(str422)) {
                                                                                                networkCountryIso = ap.fO(str422, str3);
                                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                                    if (str422.startsWith("+")) {
                                                                                                        str2 = "+" + networkCountryIso;
                                                                                                    } else if (str422.startsWith(networkCountryIso)) {
                                                                                                        str2 = networkCountryIso;
                                                                                                    }
                                                                                                    if (str2 != null) {
                                                                                                        str422 = str422.substring(str2.length());
                                                                                                    }
                                                                                                }
                                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                                            }
                                                                                            return str422;
                                                                                        } catch (Throwable th322222222222222222222222222222222222222222222222222) {
                                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222222222222222;
                                                                                            if (query32 != null) {
                                                                                                query32.close();
                                                                                            }
                                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                columnIndex22 = 0;
                                                                                if (query32 == null) {
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    query32.close();
                                                                                    cursor22 = query32;
                                                                                }
                                                                            } catch (Exception e822222222222222222222222222222222222222222222222222) {
                                                                                e4 = e822222222222222222222222222222222222222222222222222;
                                                                                query32 = cursor22;
                                                                            } catch (Throwable th422222222222222222222222222222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222222222222222;
                                                                                query32 = cursor22;
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                            if (columnIndex22 > 0) {
                                                                                try {
                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                        do {
                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str422)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor22.moveToNext());
                                                                                    }
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    if (bi.oW(str422)) {
                                                                        networkCountryIso = ap.fO(str422, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str422.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str422.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str422 = str422.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                    }
                                                                    return str422;
                                                                } catch (Throwable th522222222222222) {
                                                                    e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th522222222222222;
                                                                    query32.close();
                                                                    throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    line1Number = null;
                                                    query32.close();
                                                } catch (Exception e922222222222222) {
                                                    e2 = e922222222222222;
                                                    line1Number = null;
                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                    x.d("MicroMsg.ContactsUtil", "query crashed");
                                                    if (!(query32 == null || query32.isClosed())) {
                                                        query32.close();
                                                        str422 = line1Number;
                                                        cursor22 = query32;
                                                        if (bi.oW(str422)) {
                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                try {
                                                                    query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                    if (query32 != null) {
                                                                        try {
                                                                            if (query32.moveToFirst()) {
                                                                                columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                                if (query32 == null) {
                                                                                    query32.close();
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    cursor22 = query32;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                if (columnIndex22 > 0) {
                                                                                    try {
                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                            do {
                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str422)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor22.moveToNext());
                                                                                        }
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        } catch (Exception e7222222222222222222222222222222222222222222222222222) {
                                                                            e4 = e7222222222222222222222222222222222222222222222222222;
                                                                            try {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                    columnIndex22 = 0;
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    columnIndex22 = 0;
                                                                                    cursor22 = query32;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                if (columnIndex22 > 0) {
                                                                                    try {
                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                            do {
                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str422)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor22.moveToNext());
                                                                                        }
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (!bi.oW(str422)) {
                                                                                    networkCountryIso = ap.fO(str422, str3);
                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                        if (str422.startsWith("+")) {
                                                                                            str2 = "+" + networkCountryIso;
                                                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                                                            str2 = networkCountryIso;
                                                                                        }
                                                                                        if (str2 != null) {
                                                                                            str422 = str422.substring(str2.length());
                                                                                        }
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                                }
                                                                                return str422;
                                                                            } catch (Throwable th3222222222222222222222222222222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222222222222222222;
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                        }
                                                                    }
                                                                    columnIndex22 = 0;
                                                                    if (query32 == null) {
                                                                        cursor22 = query32;
                                                                    } else {
                                                                        query32.close();
                                                                        cursor22 = query32;
                                                                    }
                                                                } catch (Exception e8222222222222222222222222222222222222222222222222222) {
                                                                    e4 = e8222222222222222222222222222222222222222222222222222;
                                                                    query32 = cursor22;
                                                                } catch (Throwable th4222222222222222222222222222222222222222222222222222) {
                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222222222222222222;
                                                                    query32 = cursor22;
                                                                    if (query32 != null) {
                                                                        query32.close();
                                                                    }
                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                if (columnIndex22 > 0) {
                                                                    try {
                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                            do {
                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                if (!bi.oW(str422)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                    break;
                                                                                }
                                                                            } while (cursor22.moveToNext());
                                                                        }
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        if (bi.oW(str422)) {
                                                            networkCountryIso = ap.fO(str422, str3);
                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                            if (!bi.oW(networkCountryIso)) {
                                                                if (str422.startsWith("+")) {
                                                                    str2 = "+" + networkCountryIso;
                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                    str2 = networkCountryIso;
                                                                }
                                                                if (str2 != null) {
                                                                    str422 = str422.substring(str2.length());
                                                                }
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                        }
                                                        return str422;
                                                    }
                                                    str422 = line1Number;
                                                    cursor22 = query32;
                                                    if (bi.oW(str422)) {
                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                            try {
                                                                query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                if (query32 != null) {
                                                                    try {
                                                                        if (query32.moveToFirst()) {
                                                                            columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                            if (query32 == null) {
                                                                                query32.close();
                                                                                cursor22 = query32;
                                                                            } else {
                                                                                cursor22 = query32;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                            if (columnIndex22 > 0) {
                                                                                try {
                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                        do {
                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str422)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor22.moveToNext());
                                                                                    }
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    } catch (Exception e72222222222222222222222222222222222222222222222222222) {
                                                                        e4 = e72222222222222222222222222222222222222222222222222222;
                                                                        try {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                            if (query32 != null) {
                                                                                query32.close();
                                                                                columnIndex22 = 0;
                                                                                cursor22 = query32;
                                                                            } else {
                                                                                columnIndex22 = 0;
                                                                                cursor22 = query32;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                            if (columnIndex22 > 0) {
                                                                                try {
                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                        do {
                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str422)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor22.moveToNext());
                                                                                    }
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (!bi.oW(str422)) {
                                                                                networkCountryIso = ap.fO(str422, str3);
                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                    if (str422.startsWith("+")) {
                                                                                        str2 = "+" + networkCountryIso;
                                                                                    } else if (str422.startsWith(networkCountryIso)) {
                                                                                        str2 = networkCountryIso;
                                                                                    }
                                                                                    if (str2 != null) {
                                                                                        str422 = str422.substring(str2.length());
                                                                                    }
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                            }
                                                                            return str422;
                                                                        } catch (Throwable th32222222222222222222222222222222222222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222222222222222222;
                                                                            if (query32 != null) {
                                                                                query32.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                    }
                                                                }
                                                                columnIndex22 = 0;
                                                                if (query32 == null) {
                                                                    cursor22 = query32;
                                                                } else {
                                                                    query32.close();
                                                                    cursor22 = query32;
                                                                }
                                                            } catch (Exception e82222222222222222222222222222222222222222222222222222) {
                                                                e4 = e82222222222222222222222222222222222222222222222222222;
                                                                query32 = cursor22;
                                                            } catch (Throwable th42222222222222222222222222222222222222222222222222222) {
                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222222222222222222;
                                                                query32 = cursor22;
                                                                if (query32 != null) {
                                                                    query32.close();
                                                                }
                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                            if (columnIndex22 > 0) {
                                                                try {
                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                        do {
                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                            if (!bi.oW(str422)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                break;
                                                                            }
                                                                        } while (cursor22.moveToNext());
                                                                    }
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                    if (bi.oW(str422)) {
                                                        networkCountryIso = ap.fO(str422, str3);
                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                        if (!bi.oW(networkCountryIso)) {
                                                            if (str422.startsWith("+")) {
                                                                str2 = "+" + networkCountryIso;
                                                            } else if (str422.startsWith(networkCountryIso)) {
                                                                str2 = networkCountryIso;
                                                            }
                                                            if (str2 != null) {
                                                                str422 = str422.substring(str2.length());
                                                            }
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                    }
                                                    return str422;
                                                }
                                            }
                                            line1Number = null;
                                            if (!(query32 == null || query32.isClosed())) {
                                                query32.close();
                                                str422 = line1Number;
                                                cursor22 = query32;
                                            }
                                        } catch (Exception e1022222222222222) {
                                            e2 = e1022222222222222;
                                            line1Number = null;
                                            query32 = cursor22;
                                        } catch (Throwable th622222222222222) {
                                            e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th622222222222222;
                                            query32 = cursor22;
                                            if (!(query32 == null || query32.isClosed())) {
                                                query32.close();
                                            }
                                            throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                        }
                                        str422 = line1Number;
                                        cursor22 = query32;
                                    }
                                    if (bi.oW(str422)) {
                                        if (!bi.oW(G(context, x.cg(context)))) {
                                            try {
                                                query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                if (query32 != null) {
                                                    try {
                                                        if (query32.moveToFirst()) {
                                                            columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                            if (query32 == null) {
                                                                query32.close();
                                                                cursor22 = query32;
                                                            } else {
                                                                cursor22 = query32;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                            if (columnIndex22 > 0) {
                                                                try {
                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                        do {
                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                            if (!bi.oW(str422)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                break;
                                                                            }
                                                                        } while (cursor22.moveToNext());
                                                                    }
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    } catch (Exception e722222222222222222222222222222222222222222222222222222) {
                                                        e4 = e722222222222222222222222222222222222222222222222222222;
                                                        try {
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                            if (query32 != null) {
                                                                query32.close();
                                                                columnIndex22 = 0;
                                                                cursor22 = query32;
                                                            } else {
                                                                columnIndex22 = 0;
                                                                cursor22 = query32;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                            if (columnIndex22 > 0) {
                                                                try {
                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                        do {
                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                            if (!bi.oW(str422)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                break;
                                                                            }
                                                                        } while (cursor22.moveToNext());
                                                                    }
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                }
                                                            }
                                                            if (!bi.oW(str422)) {
                                                                networkCountryIso = ap.fO(str422, str3);
                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                if (!bi.oW(networkCountryIso)) {
                                                                    if (str422.startsWith("+")) {
                                                                        str2 = "+" + networkCountryIso;
                                                                    } else if (str422.startsWith(networkCountryIso)) {
                                                                        str2 = networkCountryIso;
                                                                    }
                                                                    if (str2 != null) {
                                                                        str422 = str422.substring(str2.length());
                                                                    }
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                            }
                                                            return str422;
                                                        } catch (Throwable th322222222222222222222222222222222222222222222222222222) {
                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222222222222222222;
                                                            if (query32 != null) {
                                                                query32.close();
                                                            }
                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                    }
                                                }
                                                columnIndex22 = 0;
                                                if (query32 == null) {
                                                    cursor22 = query32;
                                                } else {
                                                    query32.close();
                                                    cursor22 = query32;
                                                }
                                            } catch (Exception e822222222222222222222222222222222222222222222222222222) {
                                                e4 = e822222222222222222222222222222222222222222222222222222;
                                                query32 = cursor22;
                                            } catch (Throwable th422222222222222222222222222222222222222222222222222222) {
                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222222222222222222;
                                                query32 = cursor22;
                                                if (query32 != null) {
                                                    query32.close();
                                                }
                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                            }
                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                            if (columnIndex22 > 0) {
                                                try {
                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                        do {
                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                            if (!bi.oW(str422)) {
                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                break;
                                                            }
                                                        } while (cursor22.moveToNext());
                                                    }
                                                    if (cursor22 != null) {
                                                        cursor22.close();
                                                    }
                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                    if (cursor22 != null) {
                                                        cursor22.close();
                                                    }
                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                    if (cursor22 != null) {
                                                        cursor22.close();
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    if (bi.oW(str422)) {
                                        networkCountryIso = ap.fO(str422, str3);
                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                        if (!bi.oW(networkCountryIso)) {
                                            if (str422.startsWith("+")) {
                                                str2 = "+" + networkCountryIso;
                                            } else if (str422.startsWith(networkCountryIso)) {
                                                str2 = networkCountryIso;
                                            }
                                            if (str2 != null) {
                                                str422 = str422.substring(str2.length());
                                            }
                                        }
                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                    }
                                    return str422;
                                }
                                cursor22 = query222;
                                if (length <= 0) {
                                    try {
                                        query32 = contentResolver22.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                        if (query32 != null) {
                                            try {
                                                if (query32.moveToFirst()) {
                                                    columnIndex22 = query32.getColumnIndex("data1");
                                                    if (columnIndex22 != -1) {
                                                        line1Number = query32.getString(columnIndex22);
                                                        try {
                                                            x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                            query32.close();
                                                        } catch (Exception e6222222222222222) {
                                                            e2 = e6222222222222222;
                                                            try {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                                query32.close();
                                                                str422 = line1Number;
                                                                cursor22 = query32;
                                                                if (bi.oW(str422)) {
                                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                                        try {
                                                                            query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                            if (query32 != null) {
                                                                                try {
                                                                                    if (query32.moveToFirst()) {
                                                                                        columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                                        if (query32 == null) {
                                                                                            query32.close();
                                                                                            cursor22 = query32;
                                                                                        } else {
                                                                                            cursor22 = query32;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                        if (columnIndex22 > 0) {
                                                                                            try {
                                                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                    do {
                                                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str422)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor22.moveToNext());
                                                                                                }
                                                                                                if (cursor22 != null) {
                                                                                                    cursor22.close();
                                                                                                }
                                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor22 != null) {
                                                                                                    cursor22.close();
                                                                                                }
                                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor22 != null) {
                                                                                                    cursor22.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                } catch (Exception e7222222222222222222222222222222222222222222222222222222) {
                                                                                    e4 = e7222222222222222222222222222222222222222222222222222222;
                                                                                    try {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                        if (query32 != null) {
                                                                                            query32.close();
                                                                                            columnIndex22 = 0;
                                                                                            cursor22 = query32;
                                                                                        } else {
                                                                                            columnIndex22 = 0;
                                                                                            cursor22 = query32;
                                                                                        }
                                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                        if (columnIndex22 > 0) {
                                                                                            try {
                                                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                                    do {
                                                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                        if (!bi.oW(str422)) {
                                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                            break;
                                                                                                        }
                                                                                                    } while (cursor22.moveToNext());
                                                                                                }
                                                                                                if (cursor22 != null) {
                                                                                                    cursor22.close();
                                                                                                }
                                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                                if (cursor22 != null) {
                                                                                                    cursor22.close();
                                                                                                }
                                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                                if (cursor22 != null) {
                                                                                                    cursor22.close();
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        if (!bi.oW(str422)) {
                                                                                            networkCountryIso = ap.fO(str422, str3);
                                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                                if (str422.startsWith("+")) {
                                                                                                    str2 = "+" + networkCountryIso;
                                                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                                                    str2 = networkCountryIso;
                                                                                                }
                                                                                                if (str2 != null) {
                                                                                                    str422 = str422.substring(str2.length());
                                                                                                }
                                                                                            }
                                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                                        }
                                                                                        return str422;
                                                                                    } catch (Throwable th3222222222222222222222222222222222222222222222222222222) {
                                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222222222222222222222;
                                                                                        if (query32 != null) {
                                                                                            query32.close();
                                                                                        }
                                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                                    }
                                                                                }
                                                                            }
                                                                            columnIndex22 = 0;
                                                                            if (query32 == null) {
                                                                                cursor22 = query32;
                                                                            } else {
                                                                                query32.close();
                                                                                cursor22 = query32;
                                                                            }
                                                                        } catch (Exception e8222222222222222222222222222222222222222222222222222222) {
                                                                            e4 = e8222222222222222222222222222222222222222222222222222222;
                                                                            query32 = cursor22;
                                                                        } catch (Throwable th4222222222222222222222222222222222222222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222222222222222222222;
                                                                            query32 = cursor22;
                                                                            if (query32 != null) {
                                                                                query32.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                        if (columnIndex22 > 0) {
                                                                            try {
                                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                    do {
                                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str422)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor22.moveToNext());
                                                                                }
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                if (bi.oW(str422)) {
                                                                    networkCountryIso = ap.fO(str422, str3);
                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                    if (!bi.oW(networkCountryIso)) {
                                                                        if (str422.startsWith("+")) {
                                                                            str2 = "+" + networkCountryIso;
                                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                                            str2 = networkCountryIso;
                                                                        }
                                                                        if (str2 != null) {
                                                                            str422 = str422.substring(str2.length());
                                                                        }
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                }
                                                                return str422;
                                                            } catch (Throwable th5222222222222222) {
                                                                e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th5222222222222222;
                                                                query32.close();
                                                                throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                            }
                                                        }
                                                    }
                                                }
                                                line1Number = null;
                                                query32.close();
                                            } catch (Exception e9222222222222222) {
                                                e2 = e9222222222222222;
                                                line1Number = null;
                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                if (!(query32 == null || query32.isClosed())) {
                                                    query32.close();
                                                    str422 = line1Number;
                                                    cursor22 = query32;
                                                    if (bi.oW(str422)) {
                                                        if (!bi.oW(G(context, x.cg(context)))) {
                                                            try {
                                                                query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                if (query32 != null) {
                                                                    try {
                                                                        if (query32.moveToFirst()) {
                                                                            columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                            if (query32 == null) {
                                                                                query32.close();
                                                                                cursor22 = query32;
                                                                            } else {
                                                                                cursor22 = query32;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                            if (columnIndex22 > 0) {
                                                                                try {
                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                        do {
                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str422)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor22.moveToNext());
                                                                                    }
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    } catch (Exception e72222222222222222222222222222222222222222222222222222222) {
                                                                        e4 = e72222222222222222222222222222222222222222222222222222222;
                                                                        try {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                            if (query32 != null) {
                                                                                query32.close();
                                                                                columnIndex22 = 0;
                                                                                cursor22 = query32;
                                                                            } else {
                                                                                columnIndex22 = 0;
                                                                                cursor22 = query32;
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                            if (columnIndex22 > 0) {
                                                                                try {
                                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                        do {
                                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                            if (!bi.oW(str422)) {
                                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                break;
                                                                                            }
                                                                                        } while (cursor22.moveToNext());
                                                                                    }
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                    if (cursor22 != null) {
                                                                                        cursor22.close();
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (!bi.oW(str422)) {
                                                                                networkCountryIso = ap.fO(str422, str3);
                                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                if (!bi.oW(networkCountryIso)) {
                                                                                    if (str422.startsWith("+")) {
                                                                                        str2 = "+" + networkCountryIso;
                                                                                    } else if (str422.startsWith(networkCountryIso)) {
                                                                                        str2 = networkCountryIso;
                                                                                    }
                                                                                    if (str2 != null) {
                                                                                        str422 = str422.substring(str2.length());
                                                                                    }
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                            }
                                                                            return str422;
                                                                        } catch (Throwable th32222222222222222222222222222222222222222222222222222222) {
                                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222222222222222222222;
                                                                            if (query32 != null) {
                                                                                query32.close();
                                                                            }
                                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                        }
                                                                    }
                                                                }
                                                                columnIndex22 = 0;
                                                                if (query32 == null) {
                                                                    cursor22 = query32;
                                                                } else {
                                                                    query32.close();
                                                                    cursor22 = query32;
                                                                }
                                                            } catch (Exception e82222222222222222222222222222222222222222222222222222222) {
                                                                e4 = e82222222222222222222222222222222222222222222222222222222;
                                                                query32 = cursor22;
                                                            } catch (Throwable th42222222222222222222222222222222222222222222222222222222) {
                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222222222222222222222;
                                                                query32 = cursor22;
                                                                if (query32 != null) {
                                                                    query32.close();
                                                                }
                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                            if (columnIndex22 > 0) {
                                                                try {
                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                        do {
                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                            if (!bi.oW(str422)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                break;
                                                                            }
                                                                        } while (cursor22.moveToNext());
                                                                    }
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                    if (bi.oW(str422)) {
                                                        networkCountryIso = ap.fO(str422, str3);
                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                        if (!bi.oW(networkCountryIso)) {
                                                            if (str422.startsWith("+")) {
                                                                str2 = "+" + networkCountryIso;
                                                            } else if (str422.startsWith(networkCountryIso)) {
                                                                str2 = networkCountryIso;
                                                            }
                                                            if (str2 != null) {
                                                                str422 = str422.substring(str2.length());
                                                            }
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                    }
                                                    return str422;
                                                }
                                                str422 = line1Number;
                                                cursor22 = query32;
                                                if (bi.oW(str422)) {
                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                        try {
                                                            query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                            if (query32 != null) {
                                                                try {
                                                                    if (query32.moveToFirst()) {
                                                                        columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                        if (query32 == null) {
                                                                            query32.close();
                                                                            cursor22 = query32;
                                                                        } else {
                                                                            cursor22 = query32;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                        if (columnIndex22 > 0) {
                                                                            try {
                                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                    do {
                                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str422)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor22.moveToNext());
                                                                                }
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                } catch (Exception e722222222222222222222222222222222222222222222222222222222) {
                                                                    e4 = e722222222222222222222222222222222222222222222222222222222;
                                                                    try {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                        if (query32 != null) {
                                                                            query32.close();
                                                                            columnIndex22 = 0;
                                                                            cursor22 = query32;
                                                                        } else {
                                                                            columnIndex22 = 0;
                                                                            cursor22 = query32;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                        if (columnIndex22 > 0) {
                                                                            try {
                                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                    do {
                                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str422)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor22.moveToNext());
                                                                                }
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            }
                                                                        }
                                                                        if (!bi.oW(str422)) {
                                                                            networkCountryIso = ap.fO(str422, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str422.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str422 = str422.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                        }
                                                                        return str422;
                                                                    } catch (Throwable th322222222222222222222222222222222222222222222222222222222) {
                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222222222222222222222;
                                                                        if (query32 != null) {
                                                                            query32.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                    }
                                                                }
                                                            }
                                                            columnIndex22 = 0;
                                                            if (query32 == null) {
                                                                cursor22 = query32;
                                                            } else {
                                                                query32.close();
                                                                cursor22 = query32;
                                                            }
                                                        } catch (Exception e822222222222222222222222222222222222222222222222222222222) {
                                                            e4 = e822222222222222222222222222222222222222222222222222222222;
                                                            query32 = cursor22;
                                                        } catch (Throwable th422222222222222222222222222222222222222222222222222222222) {
                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222222222222222222222;
                                                            query32 = cursor22;
                                                            if (query32 != null) {
                                                                query32.close();
                                                            }
                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                        if (columnIndex22 > 0) {
                                                            try {
                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                    do {
                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                        if (!bi.oW(str422)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                            break;
                                                                        }
                                                                    } while (cursor22.moveToNext());
                                                                }
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                if (bi.oW(str422)) {
                                                    networkCountryIso = ap.fO(str422, str3);
                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                    if (!bi.oW(networkCountryIso)) {
                                                        if (str422.startsWith("+")) {
                                                            str2 = "+" + networkCountryIso;
                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                            str2 = networkCountryIso;
                                                        }
                                                        if (str2 != null) {
                                                            str422 = str422.substring(str2.length());
                                                        }
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                }
                                                return str422;
                                            }
                                        }
                                        line1Number = null;
                                        if (!(query32 == null || query32.isClosed())) {
                                            query32.close();
                                            str422 = line1Number;
                                            cursor22 = query32;
                                        }
                                    } catch (Exception e10222222222222222) {
                                        e2 = e10222222222222222;
                                        line1Number = null;
                                        query32 = cursor22;
                                    } catch (Throwable th6222222222222222) {
                                        e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th6222222222222222;
                                        query32 = cursor22;
                                        if (!(query32 == null || query32.isClosed())) {
                                            query32.close();
                                        }
                                        throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                    }
                                    str422 = line1Number;
                                    cursor22 = query32;
                                } else {
                                    str422 = null;
                                }
                                if (bi.oW(str422)) {
                                    if (!bi.oW(G(context, x.cg(context)))) {
                                        try {
                                            query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                            if (query32 != null) {
                                                try {
                                                    if (query32.moveToFirst()) {
                                                        columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                        if (query32 == null) {
                                                            query32.close();
                                                            cursor22 = query32;
                                                        } else {
                                                            cursor22 = query32;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                        if (columnIndex22 > 0) {
                                                            try {
                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                    do {
                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                        if (!bi.oW(str422)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                            break;
                                                                        }
                                                                    } while (cursor22.moveToNext());
                                                                }
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            }
                                                        }
                                                    }
                                                } catch (Exception e7222222222222222222222222222222222222222222222222222222222) {
                                                    e4 = e7222222222222222222222222222222222222222222222222222222222;
                                                    try {
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                        if (query32 != null) {
                                                            query32.close();
                                                            columnIndex22 = 0;
                                                            cursor22 = query32;
                                                        } else {
                                                            columnIndex22 = 0;
                                                            cursor22 = query32;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                        if (columnIndex22 > 0) {
                                                            try {
                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                    do {
                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                        if (!bi.oW(str422)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                            break;
                                                                        }
                                                                    } while (cursor22.moveToNext());
                                                                }
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            }
                                                        }
                                                        if (!bi.oW(str422)) {
                                                            networkCountryIso = ap.fO(str422, str3);
                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                            if (!bi.oW(networkCountryIso)) {
                                                                if (str422.startsWith("+")) {
                                                                    str2 = "+" + networkCountryIso;
                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                    str2 = networkCountryIso;
                                                                }
                                                                if (str2 != null) {
                                                                    str422 = str422.substring(str2.length());
                                                                }
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                        }
                                                        return str422;
                                                    } catch (Throwable th3222222222222222222222222222222222222222222222222222222222) {
                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222222222222222222222222;
                                                        if (query32 != null) {
                                                            query32.close();
                                                        }
                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                    }
                                                }
                                            }
                                            columnIndex22 = 0;
                                            if (query32 == null) {
                                                cursor22 = query32;
                                            } else {
                                                query32.close();
                                                cursor22 = query32;
                                            }
                                        } catch (Exception e8222222222222222222222222222222222222222222222222222222222) {
                                            e4 = e8222222222222222222222222222222222222222222222222222222222;
                                            query32 = cursor22;
                                        } catch (Throwable th4222222222222222222222222222222222222222222222222222222222) {
                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222222222222222222222222;
                                            query32 = cursor22;
                                            if (query32 != null) {
                                                query32.close();
                                            }
                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                        }
                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                        if (columnIndex22 > 0) {
                                            try {
                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                    do {
                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                        if (!bi.oW(str422)) {
                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                            break;
                                                        }
                                                    } while (cursor22.moveToNext());
                                                }
                                                if (cursor22 != null) {
                                                    cursor22.close();
                                                }
                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                if (cursor22 != null) {
                                                    cursor22.close();
                                                }
                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                if (cursor22 != null) {
                                                    cursor22.close();
                                                }
                                            }
                                        }
                                    }
                                }
                                if (bi.oW(str422)) {
                                    networkCountryIso = ap.fO(str422, str3);
                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                    if (!bi.oW(networkCountryIso)) {
                                        if (str422.startsWith("+")) {
                                            str2 = "+" + networkCountryIso;
                                        } else if (str422.startsWith(networkCountryIso)) {
                                            str2 = networkCountryIso;
                                        }
                                        if (str2 != null) {
                                            str422 = str422.substring(str2.length());
                                        }
                                    }
                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                }
                                return str422;
                            } catch (Throwable th722) {
                                e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th722;
                                query222.close();
                                throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                            }
                        }
                    }
                    length = 0;
                    try {
                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + length);
                        query222.close();
                        cursor22 = query222;
                    } catch (Exception e1222) {
                        e4 = e1222;
                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                        x.d("MicroMsg.ContactsUtil", "query crashed");
                        query222.close();
                        cursor22 = query222;
                        if (length <= 0) {
                            str422 = null;
                        } else {
                            try {
                                query32 = contentResolver22.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                                if (query32 != null) {
                                    try {
                                        if (query32.moveToFirst()) {
                                            columnIndex22 = query32.getColumnIndex("data1");
                                            if (columnIndex22 != -1) {
                                                line1Number = query32.getString(columnIndex22);
                                                try {
                                                    x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                                    query32.close();
                                                } catch (Exception e62222222222222222) {
                                                    e2 = e62222222222222222;
                                                    try {
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                        x.d("MicroMsg.ContactsUtil", "query crashed");
                                                        query32.close();
                                                        str422 = line1Number;
                                                        cursor22 = query32;
                                                        if (bi.oW(str422)) {
                                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                                try {
                                                                    query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                                    if (query32 != null) {
                                                                        try {
                                                                            if (query32.moveToFirst()) {
                                                                                columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                                if (query32 == null) {
                                                                                    query32.close();
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    cursor22 = query32;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                if (columnIndex22 > 0) {
                                                                                    try {
                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                            do {
                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str422)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor22.moveToNext());
                                                                                        }
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        } catch (Exception e72222222222222222222222222222222222222222222222222222222222) {
                                                                            e4 = e72222222222222222222222222222222222222222222222222222222222;
                                                                            try {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                    columnIndex22 = 0;
                                                                                    cursor22 = query32;
                                                                                } else {
                                                                                    columnIndex22 = 0;
                                                                                    cursor22 = query32;
                                                                                }
                                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                                if (columnIndex22 > 0) {
                                                                                    try {
                                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                            do {
                                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                                if (!bi.oW(str422)) {
                                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                                    break;
                                                                                                }
                                                                                            } while (cursor22.moveToNext());
                                                                                        }
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                        if (cursor22 != null) {
                                                                                            cursor22.close();
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (!bi.oW(str422)) {
                                                                                    networkCountryIso = ap.fO(str422, str3);
                                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                                    if (!bi.oW(networkCountryIso)) {
                                                                                        if (str422.startsWith("+")) {
                                                                                            str2 = "+" + networkCountryIso;
                                                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                                                            str2 = networkCountryIso;
                                                                                        }
                                                                                        if (str2 != null) {
                                                                                            str422 = str422.substring(str2.length());
                                                                                        }
                                                                                    }
                                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                                }
                                                                                return str422;
                                                                            } catch (Throwable th32222222222222222222222222222222222222222222222222222222222) {
                                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222222222222222222222222;
                                                                                if (query32 != null) {
                                                                                    query32.close();
                                                                                }
                                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                            }
                                                                        }
                                                                    }
                                                                    columnIndex22 = 0;
                                                                    if (query32 == null) {
                                                                        cursor22 = query32;
                                                                    } else {
                                                                        query32.close();
                                                                        cursor22 = query32;
                                                                    }
                                                                } catch (Exception e82222222222222222222222222222222222222222222222222222222222) {
                                                                    e4 = e82222222222222222222222222222222222222222222222222222222222;
                                                                    query32 = cursor22;
                                                                } catch (Throwable th42222222222222222222222222222222222222222222222222222222222) {
                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222222222222222222222222;
                                                                    query32 = cursor22;
                                                                    if (query32 != null) {
                                                                        query32.close();
                                                                    }
                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                if (columnIndex22 > 0) {
                                                                    try {
                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                            do {
                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                if (!bi.oW(str422)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                    break;
                                                                                }
                                                                            } while (cursor22.moveToNext());
                                                                        }
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        if (bi.oW(str422)) {
                                                            networkCountryIso = ap.fO(str422, str3);
                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                            if (!bi.oW(networkCountryIso)) {
                                                                if (str422.startsWith("+")) {
                                                                    str2 = "+" + networkCountryIso;
                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                    str2 = networkCountryIso;
                                                                }
                                                                if (str2 != null) {
                                                                    str422 = str422.substring(str2.length());
                                                                }
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                        }
                                                        return str422;
                                                    } catch (Throwable th52222222222222222) {
                                                        e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th52222222222222222;
                                                        query32.close();
                                                        throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                    }
                                                }
                                            }
                                        }
                                        line1Number = null;
                                        query32.close();
                                    } catch (Exception e92222222222222222) {
                                        e2 = e92222222222222222;
                                        line1Number = null;
                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                        x.d("MicroMsg.ContactsUtil", "query crashed");
                                        if (!(query32 == null || query32.isClosed())) {
                                            query32.close();
                                            str422 = line1Number;
                                            cursor22 = query32;
                                            if (bi.oW(str422)) {
                                                if (!bi.oW(G(context, x.cg(context)))) {
                                                    try {
                                                        query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                        if (query32 != null) {
                                                            try {
                                                                if (query32.moveToFirst()) {
                                                                    columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                    if (query32 == null) {
                                                                        query32.close();
                                                                        cursor22 = query32;
                                                                    } else {
                                                                        cursor22 = query32;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                    if (columnIndex22 > 0) {
                                                                        try {
                                                                            cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                do {
                                                                                    str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str422)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor22.moveToNext());
                                                                            }
                                                                            if (cursor22 != null) {
                                                                                cursor22.close();
                                                                            }
                                                                        } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor22 != null) {
                                                                                cursor22.close();
                                                                            }
                                                                        } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            if (cursor22 != null) {
                                                                                cursor22.close();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            } catch (Exception e722222222222222222222222222222222222222222222222222222222222) {
                                                                e4 = e722222222222222222222222222222222222222222222222222222222222;
                                                                try {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                    if (query32 != null) {
                                                                        query32.close();
                                                                        columnIndex22 = 0;
                                                                        cursor22 = query32;
                                                                    } else {
                                                                        columnIndex22 = 0;
                                                                        cursor22 = query32;
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                    if (columnIndex22 > 0) {
                                                                        try {
                                                                            cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                            if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                do {
                                                                                    str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                    if (!bi.oW(str422)) {
                                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                        break;
                                                                                    }
                                                                                } while (cursor22.moveToNext());
                                                                            }
                                                                            if (cursor22 != null) {
                                                                                cursor22.close();
                                                                            }
                                                                        } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                            if (cursor22 != null) {
                                                                                cursor22.close();
                                                                            }
                                                                        } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                            if (cursor22 != null) {
                                                                                cursor22.close();
                                                                            }
                                                                        }
                                                                    }
                                                                    if (!bi.oW(str422)) {
                                                                        networkCountryIso = ap.fO(str422, str3);
                                                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                        if (!bi.oW(networkCountryIso)) {
                                                                            if (str422.startsWith("+")) {
                                                                                str2 = "+" + networkCountryIso;
                                                                            } else if (str422.startsWith(networkCountryIso)) {
                                                                                str2 = networkCountryIso;
                                                                            }
                                                                            if (str2 != null) {
                                                                                str422 = str422.substring(str2.length());
                                                                            }
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                    }
                                                                    return str422;
                                                                } catch (Throwable th322222222222222222222222222222222222222222222222222222222222) {
                                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222222222222222222222222;
                                                                    if (query32 != null) {
                                                                        query32.close();
                                                                    }
                                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                }
                                                            }
                                                        }
                                                        columnIndex22 = 0;
                                                        if (query32 == null) {
                                                            cursor22 = query32;
                                                        } else {
                                                            query32.close();
                                                            cursor22 = query32;
                                                        }
                                                    } catch (Exception e822222222222222222222222222222222222222222222222222222222222) {
                                                        e4 = e822222222222222222222222222222222222222222222222222222222222;
                                                        query32 = cursor22;
                                                    } catch (Throwable th422222222222222222222222222222222222222222222222222222222222) {
                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222222222222222222222222;
                                                        query32 = cursor22;
                                                        if (query32 != null) {
                                                            query32.close();
                                                        }
                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                    if (columnIndex22 > 0) {
                                                        try {
                                                            cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                            if (cursor22 != null && cursor22.moveToFirst()) {
                                                                do {
                                                                    str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                    if (!bi.oW(str422)) {
                                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                        break;
                                                                    }
                                                                } while (cursor22.moveToNext());
                                                            }
                                                            if (cursor22 != null) {
                                                                cursor22.close();
                                                            }
                                                        } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                            if (cursor22 != null) {
                                                                cursor22.close();
                                                            }
                                                        } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                            if (cursor22 != null) {
                                                                cursor22.close();
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                            if (bi.oW(str422)) {
                                                networkCountryIso = ap.fO(str422, str3);
                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                if (!bi.oW(networkCountryIso)) {
                                                    if (str422.startsWith("+")) {
                                                        str2 = "+" + networkCountryIso;
                                                    } else if (str422.startsWith(networkCountryIso)) {
                                                        str2 = networkCountryIso;
                                                    }
                                                    if (str2 != null) {
                                                        str422 = str422.substring(str2.length());
                                                    }
                                                }
                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                            }
                                            return str422;
                                        }
                                        str422 = line1Number;
                                        cursor22 = query32;
                                        if (bi.oW(str422)) {
                                            if (!bi.oW(G(context, x.cg(context)))) {
                                                try {
                                                    query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                    if (query32 != null) {
                                                        try {
                                                            if (query32.moveToFirst()) {
                                                                columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                if (query32 == null) {
                                                                    query32.close();
                                                                    cursor22 = query32;
                                                                } else {
                                                                    cursor22 = query32;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                if (columnIndex22 > 0) {
                                                                    try {
                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                            do {
                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                if (!bi.oW(str422)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                    break;
                                                                                }
                                                                            } while (cursor22.moveToNext());
                                                                        }
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        } catch (Exception e7222222222222222222222222222222222222222222222222222222222222) {
                                                            e4 = e7222222222222222222222222222222222222222222222222222222222222;
                                                            try {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                if (query32 != null) {
                                                                    query32.close();
                                                                    columnIndex22 = 0;
                                                                    cursor22 = query32;
                                                                } else {
                                                                    columnIndex22 = 0;
                                                                    cursor22 = query32;
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                if (columnIndex22 > 0) {
                                                                    try {
                                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                                            do {
                                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                if (!bi.oW(str422)) {
                                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                    break;
                                                                                }
                                                                            } while (cursor22.moveToNext());
                                                                        }
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                        if (cursor22 != null) {
                                                                            cursor22.close();
                                                                        }
                                                                    }
                                                                }
                                                                if (!bi.oW(str422)) {
                                                                    networkCountryIso = ap.fO(str422, str3);
                                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                    if (!bi.oW(networkCountryIso)) {
                                                                        if (str422.startsWith("+")) {
                                                                            str2 = "+" + networkCountryIso;
                                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                                            str2 = networkCountryIso;
                                                                        }
                                                                        if (str2 != null) {
                                                                            str422 = str422.substring(str2.length());
                                                                        }
                                                                    }
                                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                }
                                                                return str422;
                                                            } catch (Throwable th3222222222222222222222222222222222222222222222222222222222222) {
                                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222222222222222222222222222;
                                                                if (query32 != null) {
                                                                    query32.close();
                                                                }
                                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                            }
                                                        }
                                                    }
                                                    columnIndex22 = 0;
                                                    if (query32 == null) {
                                                        cursor22 = query32;
                                                    } else {
                                                        query32.close();
                                                        cursor22 = query32;
                                                    }
                                                } catch (Exception e8222222222222222222222222222222222222222222222222222222222222) {
                                                    e4 = e8222222222222222222222222222222222222222222222222222222222222;
                                                    query32 = cursor22;
                                                } catch (Throwable th4222222222222222222222222222222222222222222222222222222222222) {
                                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222222222222222222222222222;
                                                    query32 = cursor22;
                                                    if (query32 != null) {
                                                        query32.close();
                                                    }
                                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                }
                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                if (columnIndex22 > 0) {
                                                    try {
                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                            do {
                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                if (!bi.oW(str422)) {
                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                    break;
                                                                }
                                                            } while (cursor22.moveToNext());
                                                        }
                                                        if (cursor22 != null) {
                                                            cursor22.close();
                                                        }
                                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                        if (cursor22 != null) {
                                                            cursor22.close();
                                                        }
                                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        if (cursor22 != null) {
                                                            cursor22.close();
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        if (bi.oW(str422)) {
                                            networkCountryIso = ap.fO(str422, str3);
                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                            if (!bi.oW(networkCountryIso)) {
                                                if (str422.startsWith("+")) {
                                                    str2 = "+" + networkCountryIso;
                                                } else if (str422.startsWith(networkCountryIso)) {
                                                    str2 = networkCountryIso;
                                                }
                                                if (str2 != null) {
                                                    str422 = str422.substring(str2.length());
                                                }
                                            }
                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                        }
                                        return str422;
                                    }
                                }
                                line1Number = null;
                                if (!(query32 == null || query32.isClosed())) {
                                    query32.close();
                                    str422 = line1Number;
                                    cursor22 = query32;
                                }
                            } catch (Exception e102222222222222222) {
                                e2 = e102222222222222222;
                                line1Number = null;
                                query32 = cursor22;
                            } catch (Throwable th62222222222222222) {
                                e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th62222222222222222;
                                query32 = cursor22;
                                if (!(query32 == null || query32.isClosed())) {
                                    query32.close();
                                }
                                throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                            }
                            str422 = line1Number;
                            cursor22 = query32;
                        }
                        if (bi.oW(str422)) {
                            if (!bi.oW(G(context, x.cg(context)))) {
                                try {
                                    query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                    if (query32 != null) {
                                        try {
                                            if (query32.moveToFirst()) {
                                                columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                if (query32 == null) {
                                                    query32.close();
                                                    cursor22 = query32;
                                                } else {
                                                    cursor22 = query32;
                                                }
                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                if (columnIndex22 > 0) {
                                                    try {
                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                            do {
                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                if (!bi.oW(str422)) {
                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                    break;
                                                                }
                                                            } while (cursor22.moveToNext());
                                                        }
                                                        if (cursor22 != null) {
                                                            cursor22.close();
                                                        }
                                                    } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                        if (cursor22 != null) {
                                                            cursor22.close();
                                                        }
                                                    } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        if (cursor22 != null) {
                                                            cursor22.close();
                                                        }
                                                    }
                                                }
                                            }
                                        } catch (Exception e72222222222222222222222222222222222222222222222222222222222222) {
                                            e4 = e72222222222222222222222222222222222222222222222222222222222222;
                                            try {
                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                if (query32 != null) {
                                                    query32.close();
                                                    columnIndex22 = 0;
                                                    cursor22 = query32;
                                                } else {
                                                    columnIndex22 = 0;
                                                    cursor22 = query32;
                                                }
                                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                if (columnIndex22 > 0) {
                                                    try {
                                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                                            do {
                                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                if (!bi.oW(str422)) {
                                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                    break;
                                                                }
                                                            } while (cursor22.moveToNext());
                                                        }
                                                        if (cursor22 != null) {
                                                            cursor22.close();
                                                        }
                                                    } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                        if (cursor22 != null) {
                                                            cursor22.close();
                                                        }
                                                    } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                        if (cursor22 != null) {
                                                            cursor22.close();
                                                        }
                                                    }
                                                }
                                                if (!bi.oW(str422)) {
                                                    networkCountryIso = ap.fO(str422, str3);
                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                    if (!bi.oW(networkCountryIso)) {
                                                        if (str422.startsWith("+")) {
                                                            str2 = "+" + networkCountryIso;
                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                            str2 = networkCountryIso;
                                                        }
                                                        if (str2 != null) {
                                                            str422 = str422.substring(str2.length());
                                                        }
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                }
                                                return str422;
                                            } catch (Throwable th32222222222222222222222222222222222222222222222222222222222222) {
                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222222222222222222222222222;
                                                if (query32 != null) {
                                                    query32.close();
                                                }
                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                            }
                                        }
                                    }
                                    columnIndex22 = 0;
                                    if (query32 == null) {
                                        cursor22 = query32;
                                    } else {
                                        query32.close();
                                        cursor22 = query32;
                                    }
                                } catch (Exception e82222222222222222222222222222222222222222222222222222222222222) {
                                    e4 = e82222222222222222222222222222222222222222222222222222222222222;
                                    query32 = cursor22;
                                } catch (Throwable th42222222222222222222222222222222222222222222222222222222222222) {
                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222222222222222222222222222;
                                    query32 = cursor22;
                                    if (query32 != null) {
                                        query32.close();
                                    }
                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                }
                                x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                if (columnIndex22 > 0) {
                                    try {
                                        cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                        if (cursor22 != null && cursor22.moveToFirst()) {
                                            do {
                                                str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                if (!bi.oW(str422)) {
                                                    x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                    break;
                                                }
                                            } while (cursor22.moveToNext());
                                        }
                                        if (cursor22 != null) {
                                            cursor22.close();
                                        }
                                    } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                        if (cursor22 != null) {
                                            cursor22.close();
                                        }
                                    } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                        if (cursor22 != null) {
                                            cursor22.close();
                                        }
                                    }
                                }
                            }
                        }
                        if (bi.oW(str422)) {
                            networkCountryIso = ap.fO(str422, str3);
                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                            if (!bi.oW(networkCountryIso)) {
                                if (str422.startsWith("+")) {
                                    str2 = "+" + networkCountryIso;
                                } else if (str422.startsWith(networkCountryIso)) {
                                    str2 = networkCountryIso;
                                }
                                if (str2 != null) {
                                    str422 = str422.substring(str2.length());
                                }
                            }
                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                        }
                        return str422;
                    }
                } catch (Exception e1322) {
                    e4 = e1322;
                    length = 0;
                    query222 = null;
                } catch (Throwable th822) {
                    e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th822;
                    query222 = null;
                    if (!(query222 == null || query222.isClosed())) {
                        query222.close();
                    }
                    throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                }
                if (length <= 0) {
                    try {
                        query32 = contentResolver22.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/phone_v2"}, null);
                        if (query32 != null) {
                            try {
                                if (query32.moveToFirst()) {
                                    columnIndex22 = query32.getColumnIndex("data1");
                                    if (columnIndex22 != -1) {
                                        line1Number = query32.getString(columnIndex22);
                                        try {
                                            x.i("MicroMsg.ContactsUtil", "Have got phone number from profile ,number is [%s]", line1Number);
                                            query32.close();
                                        } catch (Exception e622222222222222222) {
                                            e2 = e622222222222222222;
                                            try {
                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                                query32.close();
                                                str422 = line1Number;
                                                cursor22 = query32;
                                                if (bi.oW(str422)) {
                                                    if (!bi.oW(G(context, x.cg(context)))) {
                                                        try {
                                                            query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                            if (query32 != null) {
                                                                try {
                                                                    if (query32.moveToFirst()) {
                                                                        columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                                        if (query32 == null) {
                                                                            query32.close();
                                                                            cursor22 = query32;
                                                                        } else {
                                                                            cursor22 = query32;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                        if (columnIndex22 > 0) {
                                                                            try {
                                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                    do {
                                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str422)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor22.moveToNext());
                                                                                }
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                } catch (Exception e722222222222222222222222222222222222222222222222222222222222222) {
                                                                    e4 = e722222222222222222222222222222222222222222222222222222222222222;
                                                                    try {
                                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                                        if (query32 != null) {
                                                                            query32.close();
                                                                            columnIndex22 = 0;
                                                                            cursor22 = query32;
                                                                        } else {
                                                                            columnIndex22 = 0;
                                                                            cursor22 = query32;
                                                                        }
                                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                                        if (columnIndex22 > 0) {
                                                                            try {
                                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                                    do {
                                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                                        if (!bi.oW(str422)) {
                                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                            break;
                                                                                        }
                                                                                    } while (cursor22.moveToNext());
                                                                                }
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                                if (cursor22 != null) {
                                                                                    cursor22.close();
                                                                                }
                                                                            }
                                                                        }
                                                                        if (!bi.oW(str422)) {
                                                                            networkCountryIso = ap.fO(str422, str3);
                                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                            if (!bi.oW(networkCountryIso)) {
                                                                                if (str422.startsWith("+")) {
                                                                                    str2 = "+" + networkCountryIso;
                                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                                    str2 = networkCountryIso;
                                                                                }
                                                                                if (str2 != null) {
                                                                                    str422 = str422.substring(str2.length());
                                                                                }
                                                                            }
                                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                                        }
                                                                        return str422;
                                                                    } catch (Throwable th322222222222222222222222222222222222222222222222222222222222222) {
                                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222222222222222222222222222;
                                                                        if (query32 != null) {
                                                                            query32.close();
                                                                        }
                                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                                    }
                                                                }
                                                            }
                                                            columnIndex22 = 0;
                                                            if (query32 == null) {
                                                                cursor22 = query32;
                                                            } else {
                                                                query32.close();
                                                                cursor22 = query32;
                                                            }
                                                        } catch (Exception e822222222222222222222222222222222222222222222222222222222222222) {
                                                            e4 = e822222222222222222222222222222222222222222222222222222222222222;
                                                            query32 = cursor22;
                                                        } catch (Throwable th422222222222222222222222222222222222222222222222222222222222222) {
                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222222222222222222222222222;
                                                            query32 = cursor22;
                                                            if (query32 != null) {
                                                                query32.close();
                                                            }
                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                        if (columnIndex22 > 0) {
                                                            try {
                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                    do {
                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                        if (!bi.oW(str422)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                            break;
                                                                        }
                                                                    } while (cursor22.moveToNext());
                                                                }
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                if (bi.oW(str422)) {
                                                    networkCountryIso = ap.fO(str422, str3);
                                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                    if (!bi.oW(networkCountryIso)) {
                                                        if (str422.startsWith("+")) {
                                                            str2 = "+" + networkCountryIso;
                                                        } else if (str422.startsWith(networkCountryIso)) {
                                                            str2 = networkCountryIso;
                                                        }
                                                        if (str2 != null) {
                                                            str422 = str422.substring(str2.length());
                                                        }
                                                    }
                                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                }
                                                return str422;
                                            } catch (Throwable th522222222222222222) {
                                                e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th522222222222222222;
                                                query32.close();
                                                throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                            }
                                        }
                                    }
                                }
                                line1Number = null;
                                query32.close();
                            } catch (Exception e922222222222222222) {
                                e2 = e922222222222222222;
                                line1Number = null;
                                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                                x.d("MicroMsg.ContactsUtil", "query crashed");
                                if (!(query32 == null || query32.isClosed())) {
                                    query32.close();
                                    str422 = line1Number;
                                    cursor22 = query32;
                                    if (bi.oW(str422)) {
                                        if (!bi.oW(G(context, x.cg(context)))) {
                                            try {
                                                query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                                if (query32 != null) {
                                                    try {
                                                        if (query32.moveToFirst()) {
                                                            columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                            if (query32 == null) {
                                                                query32.close();
                                                                cursor22 = query32;
                                                            } else {
                                                                cursor22 = query32;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                            if (columnIndex22 > 0) {
                                                                try {
                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                        do {
                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                            if (!bi.oW(str422)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                break;
                                                                            }
                                                                        } while (cursor22.moveToNext());
                                                                    }
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    } catch (Exception e7222222222222222222222222222222222222222222222222222222222222222) {
                                                        e4 = e7222222222222222222222222222222222222222222222222222222222222222;
                                                        try {
                                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                            if (query32 != null) {
                                                                query32.close();
                                                                columnIndex22 = 0;
                                                                cursor22 = query32;
                                                            } else {
                                                                columnIndex22 = 0;
                                                                cursor22 = query32;
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                            if (columnIndex22 > 0) {
                                                                try {
                                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                                        do {
                                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                            if (!bi.oW(str422)) {
                                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                                break;
                                                                            }
                                                                        } while (cursor22.moveToNext());
                                                                    }
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                    if (cursor22 != null) {
                                                                        cursor22.close();
                                                                    }
                                                                }
                                                            }
                                                            if (!bi.oW(str422)) {
                                                                networkCountryIso = ap.fO(str422, str3);
                                                                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                                if (!bi.oW(networkCountryIso)) {
                                                                    if (str422.startsWith("+")) {
                                                                        str2 = "+" + networkCountryIso;
                                                                    } else if (str422.startsWith(networkCountryIso)) {
                                                                        str2 = networkCountryIso;
                                                                    }
                                                                    if (str2 != null) {
                                                                        str422 = str422.substring(str2.length());
                                                                    }
                                                                }
                                                                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                            }
                                                            return str422;
                                                        } catch (Throwable th3222222222222222222222222222222222222222222222222222222222222222) {
                                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th3222222222222222222222222222222222222222222222222222222222222222;
                                                            if (query32 != null) {
                                                                query32.close();
                                                            }
                                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                        }
                                                    }
                                                }
                                                columnIndex22 = 0;
                                                if (query32 == null) {
                                                    cursor22 = query32;
                                                } else {
                                                    query32.close();
                                                    cursor22 = query32;
                                                }
                                            } catch (Exception e8222222222222222222222222222222222222222222222222222222222222222) {
                                                e4 = e8222222222222222222222222222222222222222222222222222222222222222;
                                                query32 = cursor22;
                                            } catch (Throwable th4222222222222222222222222222222222222222222222222222222222222222) {
                                                e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th4222222222222222222222222222222222222222222222222222222222222222;
                                                query32 = cursor22;
                                                if (query32 != null) {
                                                    query32.close();
                                                }
                                                throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                            }
                                            x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                            if (columnIndex22 > 0) {
                                                try {
                                                    cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                    if (cursor22 != null && cursor22.moveToFirst()) {
                                                        do {
                                                            str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                            if (!bi.oW(str422)) {
                                                                x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                break;
                                                            }
                                                        } while (cursor22.moveToNext());
                                                    }
                                                    if (cursor22 != null) {
                                                        cursor22.close();
                                                    }
                                                } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                    if (cursor22 != null) {
                                                        cursor22.close();
                                                    }
                                                } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                    if (cursor22 != null) {
                                                        cursor22.close();
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    if (bi.oW(str422)) {
                                        networkCountryIso = ap.fO(str422, str3);
                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                        if (!bi.oW(networkCountryIso)) {
                                            if (str422.startsWith("+")) {
                                                str2 = "+" + networkCountryIso;
                                            } else if (str422.startsWith(networkCountryIso)) {
                                                str2 = networkCountryIso;
                                            }
                                            if (str2 != null) {
                                                str422 = str422.substring(str2.length());
                                            }
                                        }
                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                    }
                                    return str422;
                                }
                                str422 = line1Number;
                                cursor22 = query32;
                                if (bi.oW(str422)) {
                                    if (!bi.oW(G(context, x.cg(context)))) {
                                        try {
                                            query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                                            if (query32 != null) {
                                                try {
                                                    if (query32.moveToFirst()) {
                                                        columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                                        if (query32 == null) {
                                                            query32.close();
                                                            cursor22 = query32;
                                                        } else {
                                                            cursor22 = query32;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                        if (columnIndex22 > 0) {
                                                            try {
                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                    do {
                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                        if (!bi.oW(str422)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                            break;
                                                                        }
                                                                    } while (cursor22.moveToNext());
                                                                }
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            }
                                                        }
                                                    }
                                                } catch (Exception e72222222222222222222222222222222222222222222222222222222222222222) {
                                                    e4 = e72222222222222222222222222222222222222222222222222222222222222222;
                                                    try {
                                                        x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                                        if (query32 != null) {
                                                            query32.close();
                                                            columnIndex22 = 0;
                                                            cursor22 = query32;
                                                        } else {
                                                            columnIndex22 = 0;
                                                            cursor22 = query32;
                                                        }
                                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                                        if (columnIndex22 > 0) {
                                                            try {
                                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                                    do {
                                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                                        if (!bi.oW(str422)) {
                                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                                            break;
                                                                        }
                                                                    } while (cursor22.moveToNext());
                                                                }
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                                if (cursor22 != null) {
                                                                    cursor22.close();
                                                                }
                                                            }
                                                        }
                                                        if (!bi.oW(str422)) {
                                                            networkCountryIso = ap.fO(str422, str3);
                                                            x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                                            if (!bi.oW(networkCountryIso)) {
                                                                if (str422.startsWith("+")) {
                                                                    str2 = "+" + networkCountryIso;
                                                                } else if (str422.startsWith(networkCountryIso)) {
                                                                    str2 = networkCountryIso;
                                                                }
                                                                if (str2 != null) {
                                                                    str422 = str422.substring(str2.length());
                                                                }
                                                            }
                                                            x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                                        }
                                                        return str422;
                                                    } catch (Throwable th32222222222222222222222222222222222222222222222222222222222222222) {
                                                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th32222222222222222222222222222222222222222222222222222222222222222;
                                                        if (query32 != null) {
                                                            query32.close();
                                                        }
                                                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                                    }
                                                }
                                            }
                                            columnIndex22 = 0;
                                            if (query32 == null) {
                                                cursor22 = query32;
                                            } else {
                                                query32.close();
                                                cursor22 = query32;
                                            }
                                        } catch (Exception e82222222222222222222222222222222222222222222222222222222222222222) {
                                            e4 = e82222222222222222222222222222222222222222222222222222222222222222;
                                            query32 = cursor22;
                                        } catch (Throwable th42222222222222222222222222222222222222222222222222222222222222222) {
                                            e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th42222222222222222222222222222222222222222222222222222222222222222;
                                            query32 = cursor22;
                                            if (query32 != null) {
                                                query32.close();
                                            }
                                            throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                        }
                                        x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                        if (columnIndex22 > 0) {
                                            try {
                                                cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                                if (cursor22 != null && cursor22.moveToFirst()) {
                                                    do {
                                                        str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                        if (!bi.oW(str422)) {
                                                            x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                            break;
                                                        }
                                                    } while (cursor22.moveToNext());
                                                }
                                                if (cursor22 != null) {
                                                    cursor22.close();
                                                }
                                            } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                                if (cursor22 != null) {
                                                    cursor22.close();
                                                }
                                            } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                                if (cursor22 != null) {
                                                    cursor22.close();
                                                }
                                            }
                                        }
                                    }
                                }
                                if (bi.oW(str422)) {
                                    networkCountryIso = ap.fO(str422, str3);
                                    x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                    if (!bi.oW(networkCountryIso)) {
                                        if (str422.startsWith("+")) {
                                            str2 = "+" + networkCountryIso;
                                        } else if (str422.startsWith(networkCountryIso)) {
                                            str2 = networkCountryIso;
                                        }
                                        if (str2 != null) {
                                            str422 = str422.substring(str2.length());
                                        }
                                    }
                                    x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                }
                                return str422;
                            }
                        }
                        line1Number = null;
                        if (!(query32 == null || query32.isClosed())) {
                            query32.close();
                            str422 = line1Number;
                            cursor22 = query32;
                        }
                    } catch (Exception e1022222222222222222) {
                        e2 = e1022222222222222222;
                        line1Number = null;
                        query32 = cursor22;
                    } catch (Throwable th622222222222222222) {
                        e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th622222222222222222;
                        query32 = cursor22;
                        if (!(query32 == null || query32.isClosed())) {
                            query32.close();
                        }
                        throw e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                    }
                    str422 = line1Number;
                    cursor22 = query32;
                } else {
                    str422 = null;
                }
            }
            if (bi.oW(str422)) {
                if (!bi.oW(G(context, x.cg(context)))) {
                    try {
                        query32 = contentResolver22.query(Contacts.CONTENT_URI, new String[]{"has_phone_number"}, "_id=?", new String[]{r12}, null);
                        if (query32 != null) {
                            try {
                                if (query32.moveToFirst()) {
                                    columnIndex22 = query32.getInt(query32.getColumnIndex("has_phone_number"));
                                    if (query32 == null) {
                                        query32.close();
                                        cursor22 = query32;
                                    } else {
                                        cursor22 = query32;
                                    }
                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                    if (columnIndex22 > 0) {
                                        try {
                                            cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                            if (cursor22 != null && cursor22.moveToFirst()) {
                                                do {
                                                    str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                    if (!bi.oW(str422)) {
                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                        break;
                                                    }
                                                } while (cursor22.moveToNext());
                                            }
                                            if (cursor22 != null) {
                                                cursor22.close();
                                            }
                                        } catch (Throwable e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e32222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                            if (cursor22 != null) {
                                                cursor22.close();
                                            }
                                        } catch (Throwable th222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                            if (cursor22 != null) {
                                                cursor22.close();
                                            }
                                        }
                                    }
                                }
                            } catch (Exception e722222222222222222222222222222222222222222222222222222222222222222) {
                                e4 = e722222222222222222222222222222222222222222222222222222222222222222;
                                try {
                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e4, "", new Object[0]);
                                    if (query32 != null) {
                                        query32.close();
                                        columnIndex22 = 0;
                                        cursor22 = query32;
                                    } else {
                                        columnIndex22 = 0;
                                        cursor22 = query32;
                                    }
                                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                                    if (columnIndex22 > 0) {
                                        try {
                                            cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                                            if (cursor22 != null && cursor22.moveToFirst()) {
                                                do {
                                                    str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                                    if (!bi.oW(str422)) {
                                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                                        break;
                                                    }
                                                } while (cursor22.moveToNext());
                                            }
                                            if (cursor22 != null) {
                                                cursor22.close();
                                            }
                                        } catch (Throwable e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                            x.printErrStackTrace("MicroMsg.ContactsUtil", e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                                            if (cursor22 != null) {
                                                cursor22.close();
                                            }
                                        } catch (Throwable th2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                                            if (cursor22 != null) {
                                                cursor22.close();
                                            }
                                        }
                                    }
                                    if (!bi.oW(str422)) {
                                        networkCountryIso = ap.fO(str422, str3);
                                        x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                                        if (!bi.oW(networkCountryIso)) {
                                            if (str422.startsWith("+")) {
                                                str2 = "+" + networkCountryIso;
                                            } else if (str422.startsWith(networkCountryIso)) {
                                                str2 = networkCountryIso;
                                            }
                                            if (str2 != null) {
                                                str422 = str422.substring(str2.length());
                                            }
                                        }
                                        x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
                                    }
                                    return str422;
                                } catch (Throwable th322222222222222222222222222222222222222222222222222222222222222222) {
                                    e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th322222222222222222222222222222222222222222222222222222222222222222;
                                    if (query32 != null) {
                                        query32.close();
                                    }
                                    throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                                }
                            }
                        }
                        columnIndex22 = 0;
                        if (query32 == null) {
                            cursor22 = query32;
                        } else {
                            query32.close();
                            cursor22 = query32;
                        }
                    } catch (Exception e822222222222222222222222222222222222222222222222222222222222222222) {
                        e4 = e822222222222222222222222222222222222222222222222222222222222222222;
                        query32 = cursor22;
                    } catch (Throwable th422222222222222222222222222222222222222222222222222222222222222222) {
                        e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222 = th422222222222222222222222222222222222222222222222222222222222222222;
                        query32 = cursor22;
                        if (query32 != null) {
                            query32.close();
                        }
                        throw e322222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222;
                    }
                    x.i("MicroMsg.ContactsUtil", "The phone count of the profile is " + columnIndex22);
                    if (columnIndex22 > 0) {
                        try {
                            cursor22 = contentResolver22.query(Phone.CONTENT_URI, new String[]{"data1", "data2"}, "contact_id =?", new String[]{r12}, null);
                            if (cursor22 != null && cursor22.moveToFirst()) {
                                do {
                                    str422 = cursor22.getString(cursor22.getColumnIndex("data1"));
                                    if (!bi.oW(str422)) {
                                        x.i("MicroMsg.ContactsUtil", "have got phone number from contacts ,number is [%s]", str422);
                                        break;
                                    }
                                } while (cursor22.moveToNext());
                            }
                            if (cursor22 != null) {
                                cursor22.close();
                            }
                        } catch (Throwable e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                            x.printErrStackTrace("MicroMsg.ContactsUtil", e3222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222, "", new Object[0]);
                            if (cursor22 != null) {
                                cursor22.close();
                            }
                        } catch (Throwable th22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222) {
                            if (cursor22 != null) {
                                cursor22.close();
                            }
                        }
                    }
                }
            }
            if (bi.oW(str422)) {
                networkCountryIso = ap.fO(str422, str3);
                x.i("MicroMsg.ContactsUtil", "get phone num : %s, extract country code  : %s iso : %s", str422, networkCountryIso, str3);
                if (!bi.oW(networkCountryIso)) {
                    if (str422.startsWith("+")) {
                        str2 = "+" + networkCountryIso;
                    } else if (str422.startsWith(networkCountryIso)) {
                        str2 = networkCountryIso;
                    }
                    if (str2 != null) {
                        str422 = str422.substring(str2.length());
                    }
                }
                x.i("MicroMsg.ContactsUtil", "after deal, the phone num is %s", str422);
            }
            return str422;
        } else {
            x.e("MicroMsg.ContactsUtil", "no contact permission");
            return null;
        }
    }

    private static String G(Context context, String str) {
        String str2;
        Throwable e;
        String str3 = null;
        x.i("MicroMsg.ContactsUtil", "Get contactId by email, email = %s", str);
        if (context == null) {
            x.e("MicroMsg.ContactsUtil", "context is null.");
            return null;
        } else if (bi.oW(str)) {
            x.i("MicroMsg.ContactsUtil", "email is null.");
            return null;
        } else {
            try {
                Cursor query = context.getContentResolver().query(Email.CONTENT_URI, new String[]{"contact_id", "data1"}, "data1=?", new String[]{str}, null);
                if (query != null) {
                    if (query.moveToFirst()) {
                        do {
                            try {
                                str3 = query.getString(query.getColumnIndex("contact_id"));
                                if (!bi.oW(str3)) {
                                    x.i("MicroMsg.ContactsUtil", "Have got contactId ,contactId is [%s]", str3);
                                    str2 = str3;
                                    break;
                                }
                            } catch (Exception e2) {
                                e = e2;
                                str2 = str3;
                            }
                        } while (query.moveToNext());
                        str2 = str3;
                    } else {
                        str2 = null;
                    }
                    try {
                        query.close();
                    } catch (Exception e3) {
                        e = e3;
                        x.printErrStackTrace("MicroMsg.ContactsUtil", e, "getContactIdByEmail error", new Object[0]);
                        return str2;
                    }
                }
                str2 = null;
            } catch (Exception e4) {
                e = e4;
                str2 = null;
                x.printErrStackTrace("MicroMsg.ContactsUtil", e, "getContactIdByEmail error", new Object[0]);
                return str2;
            }
            return str2;
        }
    }

    @TargetApi(14)
    public static String bW(Context context) {
        x.i("MicroMsg.ContactsUtil", "Get name of a contacts record or profile.");
        if (context == null) {
            x.e("MicroMsg.ContactsUtil", "context is null.");
            return null;
        }
        ContentResolver contentResolver = context.getContentResolver();
        if (a.bj(context, "android.permission.READ_CONTACTS")) {
            String str;
            if (d.fR(14)) {
                Cursor query;
                x.i("MicroMsg.ContactsUtil", "The Android API version is higher than 14.");
                try {
                    query = contentResolver.query(Profile.CONTENT_URI, new String[]{"display_name"}, null, null, null);
                } catch (Throwable e) {
                    x.printErrStackTrace("MicroMsg.ContactsUtil", e, "", new Object[0]);
                    x.d("MicroMsg.ContactsUtil", "query crashed");
                    query = null;
                }
                if (query != null) {
                    String string;
                    if (query.moveToFirst()) {
                        string = query.getString(query.getColumnIndex("display_name"));
                        x.i("MicroMsg.ContactsUtil", "Have got name from profile, name is %s", string);
                    } else {
                        string = null;
                    }
                    query.close();
                    str = string;
                    if (bi.oW(str)) {
                        if (bi.oW(G(context, x.cg(context)))) {
                            x.i("MicroMsg.ContactsUtil", "contactId is null.");
                            return null;
                        }
                        Cursor query2 = contentResolver.query(Data.CONTENT_URI, new String[]{"display_name"}, "contact_id=?", new String[]{r5}, null);
                        if (query2 != null) {
                            if (query2.moveToFirst()) {
                                str = query2.getString(query2.getColumnIndex("display_name"));
                                x.i("MicroMsg.ContactsUtil", "Have got name from contacts, name is %s", str);
                            }
                            query2.close();
                        }
                    }
                    return str;
                }
            }
            str = null;
            if (bi.oW(str)) {
                if (bi.oW(G(context, x.cg(context)))) {
                    x.i("MicroMsg.ContactsUtil", "contactId is null.");
                    return null;
                }
                Cursor query22 = contentResolver.query(Data.CONTENT_URI, new String[]{"display_name"}, "contact_id=?", new String[]{r5}, null);
                if (query22 != null) {
                    if (query22.moveToFirst()) {
                        str = query22.getString(query22.getColumnIndex("display_name"));
                        x.i("MicroMsg.ContactsUtil", "Have got name from contacts, name is %s", str);
                    }
                    query22.close();
                }
            }
            return str;
        }
        x.e("MicroMsg.ContactsUtil", "no contact permission");
        return null;
    }

    @TargetApi(14)
    public static Bitmap bX(Context context) {
        x.i("MicroMsg.ContactsUtil", "Get bitmap of a contacts record or profile.");
        if (context == null) {
            x.e("MicroMsg.ContactsUtil", "context is null.");
            return null;
        }
        ContentResolver contentResolver = context.getContentResolver();
        Bitmap bitmap = null;
        if (a.bj(context, "android.permission.READ_CONTACTS")) {
            int lastIndexOf;
            Bitmap oM;
            Cursor cursor = null;
            if (d.fR(14)) {
                x.i("MicroMsg.ContactsUtil", "The Android API version is higher than 14.");
                try {
                    cursor = contentResolver.query(Profile.CONTENT_URI, new String[]{"_id"}, null, null, null);
                } catch (Throwable e) {
                    x.printErrStackTrace("MicroMsg.ContactsUtil", e, "", new Object[0]);
                    x.d("MicroMsg.ContactsUtil", "query crashed");
                }
                if (cursor != null) {
                    if (cursor.getCount() > 0) {
                        Cursor query;
                        cursor.close();
                        try {
                            query = contentResolver.query(Uri.withAppendedPath(Profile.CONTENT_URI, "data"), new String[]{"data15", "data_sync1"}, "mimetype=?", new String[]{"vnd.android.cursor.item/photo"}, null);
                        } catch (Throwable e2) {
                            x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                            x.d("MicroMsg.ContactsUtil", "query crashed");
                            query = cursor;
                        }
                        if (query != null) {
                            if (query.moveToFirst()) {
                                if (ao.isWifi(context) || ao.is3G(context) || ao.is4G(context)) {
                                    x.i("MicroMsg.ContactsUtil", "The network status is wifi or 3G or 4G.");
                                    String string = query.getString(query.getColumnIndex("data_sync1"));
                                    x.i("MicroMsg.ContactsUtil", "get sync avatar url : [%s]", string);
                                    if (!bi.oW(string)) {
                                        lastIndexOf = string.lastIndexOf("https:");
                                        x.i("MicroMsg.ContactsUtil", "check is exist https download url :[%d]", Integer.valueOf(lastIndexOf));
                                        if (lastIndexOf >= 0) {
                                            oM = oM(string.substring(lastIndexOf));
                                            x.i("MicroMsg.ContactsUtil", "Get image from google sync account in profile,url:[%s]", r3);
                                            if (!(oM == null || oM.isRecycled())) {
                                                query.close();
                                                return oM;
                                            }
                                            lastIndexOf = query.getColumnIndex("data15");
                                            if (lastIndexOf != -1) {
                                                byte[] blob = query.getBlob(lastIndexOf);
                                                x.i("MicroMsg.ContactsUtil", "get bitmap data is null : [%b]", Boolean.valueOf(bi.bC(blob)));
                                                if (!bi.bC(blob)) {
                                                    x.i("MicroMsg.ContactsUtil", "Get image from profile personal icon.");
                                                    oM = BitmapFactory.decodeByteArray(blob, 0, blob.length);
                                                }
                                            }
                                        }
                                    }
                                }
                                oM = null;
                                lastIndexOf = query.getColumnIndex("data15");
                                if (lastIndexOf != -1) {
                                    byte[] blob2 = query.getBlob(lastIndexOf);
                                    x.i("MicroMsg.ContactsUtil", "get bitmap data is null : [%b]", Boolean.valueOf(bi.bC(blob2)));
                                    if (!bi.bC(blob2)) {
                                        x.i("MicroMsg.ContactsUtil", "Get image from profile personal icon.");
                                        oM = BitmapFactory.decodeByteArray(blob2, 0, blob2.length);
                                    }
                                }
                            } else {
                                oM = null;
                            }
                            query.close();
                            bitmap = oM;
                        }
                    } else {
                        cursor.close();
                    }
                }
            }
            if (bitmap == null || bitmap.isRecycled()) {
                String G = G(context, x.cg(context));
                if (bi.oW(G)) {
                    x.i("MicroMsg.ContactsUtil", "contactId is null.");
                    return null;
                }
                Cursor query2 = contentResolver.query(Phone.CONTENT_URI, new String[]{"photo_id", "raw_contact_id"}, "contact_id=?", new String[]{G}, null);
                if (query2 != null) {
                    if (query2.moveToFirst()) {
                        while (true) {
                            long j;
                            if (ao.isWifi(context) || ao.is3G(context) || ao.is4G(context)) {
                                x.i("MicroMsg.ContactsUtil", "The network status is wifi or 3G or 4G.");
                                String string2 = query2.getString(query2.getColumnIndex("raw_contact_id"));
                                Cursor query3 = contentResolver.query(Data.CONTENT_URI, new String[]{"data15", "data_sync1"}, "mimetype=? AND raw_contact_id=?", new String[]{"vnd.android.cursor.item/photo", string2}, null);
                                if (query3 != null) {
                                    if (query3.moveToFirst()) {
                                        int columnIndex = query3.getColumnIndex("data_sync1");
                                        if (columnIndex != -1) {
                                            String string3 = query3.getString(columnIndex);
                                            if (!bi.oW(string3)) {
                                                lastIndexOf = string3.lastIndexOf("https:");
                                                if (lastIndexOf >= 0) {
                                                    bitmap = oM(string3.substring(lastIndexOf));
                                                    if (!(bitmap == null || bitmap.isRecycled())) {
                                                        x.i("MicroMsg.ContactsUtil", "Get image from google sync account in contacts,url:[%s]", string3);
                                                        query3.close();
                                                        break;
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    query3.close();
                                }
                            }
                            x.i("MicroMsg.ContactsUtil", "Get bitmap from contacts icon.");
                            int columnIndex2 = query2.getColumnIndex("photo_id");
                            if (columnIndex2 != -1) {
                                j = query2.getLong(columnIndex2);
                                x.i("MicroMsg.ContactsUtil", "Have got photoId,photoId is " + j);
                            } else {
                                j = 0;
                            }
                            if (j > 0) {
                                oM = BitmapFactory.decodeStream(Contacts.openContactPhotoInputStream(contentResolver, ContentUris.withAppendedId(Contacts.CONTENT_URI, bi.getLong(G, 0))));
                                if (!(oM == null || oM.isRecycled())) {
                                    x.i("MicroMsg.ContactsUtil", "Get image from contacts through google account.");
                                    bitmap = oM;
                                    break;
                                }
                            }
                            oM = bitmap;
                            if (!query2.moveToNext()) {
                                bitmap = oM;
                                break;
                            }
                            bitmap = oM;
                        }
                    }
                    query2.close();
                }
            }
            return bitmap;
        }
        x.e("MicroMsg.ContactsUtil", "no contact permission");
        return null;
    }

    private static Bitmap oM(String str) {
        Throwable e;
        Throwable e2;
        Bitmap bitmap;
        x.i("MicroMsg.ContactsUtil", "Get bitmap by HTTPS request. url = %s", str);
        if (bi.oW(str)) {
            x.e("MicroMsg.ContactsUtil", "url is null or nil.");
            return null;
        }
        String trim = str.trim();
        if (trim.startsWith("https:")) {
            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
            v oy;
            InputStream inputStream;
            try {
                oy = b.oy(trim);
                try {
                    inputStream = oy.esX.getInputStream();
                    if (inputStream == null) {
                        try {
                            x.e("MicroMsg.ContactsUtil", "getInputStream failed. url:%s", trim);
                            try {
                                oy.esX.disconnect();
                                if (inputStream != null) {
                                    inputStream.close();
                                }
                                byteArrayOutputStream.close();
                            } catch (Throwable e3) {
                                x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e3.getMessage());
                                x.printErrStackTrace("MicroMsg.ContactsUtil", e3, "", new Object[0]);
                            }
                            return null;
                        } catch (IOException e4) {
                            e2 = e4;
                            bitmap = null;
                        } catch (Exception e5) {
                            e2 = e5;
                            bitmap = null;
                            x.e("MicroMsg.ContactsUtil", "connect failed or url analyse failed, Exception : %s", e2.getMessage());
                            x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                            if (oy != null) {
                                try {
                                    oy.esX.disconnect();
                                } catch (Throwable e6) {
                                    x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e6.getMessage());
                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e6, "", new Object[0]);
                                    return bitmap;
                                }
                            }
                            if (inputStream != null) {
                                inputStream.close();
                            }
                            byteArrayOutputStream.close();
                            return bitmap;
                        }
                    }
                    byte[] bArr = new byte[1024];
                    while (true) {
                        int read = inputStream.read(bArr);
                        if (read == -1) {
                            break;
                        }
                        byteArrayOutputStream.write(bArr, 0, read);
                    }
                    bitmap = c.bs(byteArrayOutputStream.toByteArray());
                    try {
                        byteArrayOutputStream.close();
                        try {
                            oy.esX.disconnect();
                            if (inputStream == null) {
                                return bitmap;
                            }
                            inputStream.close();
                            return bitmap;
                        } catch (Throwable e62) {
                            x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e62.getMessage());
                            x.printErrStackTrace("MicroMsg.ContactsUtil", e62, "", new Object[0]);
                            return bitmap;
                        }
                    } catch (Throwable e622) {
                        e2 = e622;
                        try {
                            x.e("MicroMsg.ContactsUtil", "connect failed or url analyse failed, IOException : %s", e2.getMessage());
                            x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                            if (oy != null) {
                                try {
                                    oy.esX.disconnect();
                                } catch (Throwable e6222) {
                                    x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e6222.getMessage());
                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e6222, "", new Object[0]);
                                    return bitmap;
                                }
                            }
                            if (inputStream != null) {
                                inputStream.close();
                            }
                            byteArrayOutputStream.close();
                            return bitmap;
                        } catch (Throwable th) {
                            e3 = th;
                            if (oy != null) {
                                try {
                                    oy.esX.disconnect();
                                } catch (Throwable e62222) {
                                    x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e62222.getMessage());
                                    x.printErrStackTrace("MicroMsg.ContactsUtil", e62222, "", new Object[0]);
                                    throw e3;
                                }
                            }
                            if (inputStream != null) {
                                inputStream.close();
                            }
                            byteArrayOutputStream.close();
                            throw e3;
                        }
                    } catch (Throwable e622222) {
                        e2 = e622222;
                        x.e("MicroMsg.ContactsUtil", "connect failed or url analyse failed, Exception : %s", e2.getMessage());
                        x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                        if (oy != null) {
                            try {
                                oy.esX.disconnect();
                            } catch (Throwable e6222222) {
                                x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e6222222.getMessage());
                                x.printErrStackTrace("MicroMsg.ContactsUtil", e6222222, "", new Object[0]);
                                return bitmap;
                            }
                        }
                        if (inputStream != null) {
                            inputStream.close();
                        }
                        byteArrayOutputStream.close();
                        return bitmap;
                    }
                } catch (IOException e7) {
                    e2 = e7;
                    inputStream = null;
                    bitmap = null;
                } catch (Exception e8) {
                    e2 = e8;
                    inputStream = null;
                    bitmap = null;
                    x.e("MicroMsg.ContactsUtil", "connect failed or url analyse failed, Exception : %s", e2.getMessage());
                    x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                    if (oy != null) {
                        try {
                            oy.esX.disconnect();
                        } catch (Throwable e62222222) {
                            x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e62222222.getMessage());
                            x.printErrStackTrace("MicroMsg.ContactsUtil", e62222222, "", new Object[0]);
                            return bitmap;
                        }
                    }
                    if (inputStream != null) {
                        inputStream.close();
                    }
                    byteArrayOutputStream.close();
                    return bitmap;
                } catch (Throwable th2) {
                    e3 = th2;
                    inputStream = null;
                    if (oy != null) {
                        try {
                            oy.esX.disconnect();
                        } catch (Throwable e622222222) {
                            x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e622222222.getMessage());
                            x.printErrStackTrace("MicroMsg.ContactsUtil", e622222222, "", new Object[0]);
                            throw e3;
                        }
                    }
                    if (inputStream != null) {
                        inputStream.close();
                    }
                    byteArrayOutputStream.close();
                    throw e3;
                }
            } catch (IOException e9) {
                e2 = e9;
                oy = null;
                inputStream = null;
                bitmap = null;
            } catch (Exception e10) {
                e2 = e10;
                oy = null;
                inputStream = null;
                bitmap = null;
                x.e("MicroMsg.ContactsUtil", "connect failed or url analyse failed, Exception : %s", e2.getMessage());
                x.printErrStackTrace("MicroMsg.ContactsUtil", e2, "", new Object[0]);
                if (oy != null) {
                    try {
                        oy.esX.disconnect();
                    } catch (Throwable e6222222222) {
                        x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e6222222222.getMessage());
                        x.printErrStackTrace("MicroMsg.ContactsUtil", e6222222222, "", new Object[0]);
                        return bitmap;
                    }
                }
                if (inputStream != null) {
                    inputStream.close();
                }
                byteArrayOutputStream.close();
                return bitmap;
            } catch (Throwable th3) {
                e3 = th3;
                oy = null;
                inputStream = null;
                if (oy != null) {
                    try {
                        oy.esX.disconnect();
                    } catch (Throwable e62222222222) {
                        x.e("MicroMsg.ContactsUtil", "disconnect failed, IOException : %s", e62222222222.getMessage());
                        x.printErrStackTrace("MicroMsg.ContactsUtil", e62222222222, "", new Object[0]);
                        throw e3;
                    }
                }
                if (inputStream != null) {
                    inputStream.close();
                }
                byteArrayOutputStream.close();
                throw e3;
            }
        }
        x.e("MicroMsg.ContactsUtil", "this is not the correct https url.");
        return null;
    }
}
